% vim: set ts=2 sw=2 noet:

\newcommand{\makeplot}[5]{%
	\hfill
	\begin{tikzpicture}
		\begin{axis}[
				width  = {\linewidth / 3.3},
				height = {\linewidth / 3.3},
				grid = major,
				xmin = {-#4}, xmax = {#4},
				ymin = {-#4}, ymax = {#4},
				colormap name=viridis,
				#5
			]

			\addplot[only marks, scatter] table [x index = #2, y index = #3] {#1};
		\end{axis}
	\end{tikzpicture}
	\hfill
}

% -------------------------------------------------------------------

\noindent
\makeplot{figures/data/qpsk_sim_dynamic_grblock_nlos_etsi_doppler5.dat}{0}{1}{4}{
	ylabel = {Channel with ISI},
	yticklabel style = {
		text width = 3em,
		align = right,
	},
	title = {NLOS, \(\Delta f = \SI{5}{\hertz}\)},
}
%
\makeplot{figures/data/qpsk_sim_dynamic_grblock_los_etsi_doppler5_k5.dat}{0}{1}{4}{
	title = {LOS, \(\Delta f = \SI{5}{\hertz}, K = 5\)},
}
%
\makeplot{figures/data/qpsk_sim_dynamic_grblock_los_etsi_doppler70_k5.dat}{0}{1}{4}{
	title = {LOS, \(\Delta f = \SI{70}{\hertz}, K = 5\)},
}
\newline

% -------------------------------------------------------------------

\noindent
\makeplot{figures/data/qpsk_sim_dynamic_grblock_nlos_etsi_doppler5.dat}{2}{3}{4}{%
	ylabel = {Synchronized},
	yticklabel style = {
		text width = 3em,
		align = right,
	},
}
\makeplot{figures/data/qpsk_sim_dynamic_grblock_los_etsi_doppler5_k5.dat}{2}{3}{4}{}
\makeplot{figures/data/qpsk_sim_dynamic_grblock_los_etsi_doppler70_k5.dat}{2}{3}{4}{}
\newline

% -------------------------------------------------------------------

\noindent
\makeplot{figures/data/qpsk_sim_dynamic_grblock_nlos_etsi_doppler5.dat}{4}{5}{2}{%
	ylabel = {Equalized},
	yticklabel style = {
		text width = 3em,
		align = right,
	},
}
\makeplot{figures/data/qpsk_sim_dynamic_grblock_los_etsi_doppler5_k5.dat}{4}{5}{2}{}
\makeplot{figures/data/qpsk_sim_dynamic_grblock_los_etsi_doppler70_k5.dat}{4}{5}{2}{}
\newline

% -------------------------------------------------------------------

\noindent
\makeplot{figures/data/qpsk_sim_dynamic_grblock_nlos_etsi_doppler5.dat}{6}{7}{2}{%
	ylabel = {Locked},
	yticklabel style = {
		text width = 3em,
		align = right,
	},
}
\makeplot{figures/data/qpsk_sim_dynamic_grblock_los_etsi_doppler5_k5.dat}{6}{7}{2}{}
\makeplot{figures/data/qpsk_sim_dynamic_grblock_los_etsi_doppler70_k5.dat}{6}{7}{2}{}
\newline
