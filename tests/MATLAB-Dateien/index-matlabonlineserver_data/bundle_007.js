/*! For license information please see bundle.mwBundle.mldatx_file_preview_plugin.js.LICENSE.txt */
(function(){(this||window).webpackJsonp.registerAbsMids({"7c1cede0fa96821f1d00933e343d2e2af30a4286":"7c1cede0fa96821f1d00933e343d2e2af30a4286","8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf":"8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf","dojo/Deferred":"dojo/Deferred","dojo/Evented":"dojo/Evented","dojo/_base/Deferred":"dojo/_base/Deferred","dojo/_base/array":"dojo/_base/array","dojo/_base/config":"dojo/_base/config","dojo/_base/connect":"dojo/_base/connect","dojo/_base/declare":"dojo/_base/declare","dojo/_base/event":"dojo/_base/event","dojo/_base/json":"dojo/_base/json","dojo/_base/kernel":"dojo/_base/kernel","dojo/_base/lang":"dojo/_base/lang","dojo/_base/sniff":"dojo/_base/sniff","dojo/_base/window":"dojo/_base/window","dojo/_base/xhr":"dojo/_base/xhr","dojo/aspect":"dojo/aspect","dojo/dom":"dojo/dom","dojo/dom-attr":"dojo/dom-attr","dojo/dom-construct":"dojo/dom-construct","dojo/dom-form":"dojo/dom-form","dojo/dom-geometry":"dojo/dom-geometry","dojo/dom-prop":"dojo/dom-prop","dojo/dom-style":"dojo/dom-style","dojo/errors/CancelError":"dojo/errors/CancelError","dojo/errors/RequestError":"dojo/errors/RequestError","dojo/errors/RequestTimeoutError":"dojo/errors/RequestTimeoutError","dojo/errors/create":"dojo/errors/create","dojo/has":"dojo/has","dojo/io-query":"dojo/io-query","dojo/json":"dojo/json","dojo/keys":"dojo/keys","dojo/mouse":"dojo/mouse","dojo/on":"dojo/on","dojo/promise/Promise":"dojo/promise/Promise","dojo/promise/all":"dojo/promise/all","dojo/request/handlers":"dojo/request/handlers","dojo/request/script":"dojo/request/script","dojo/request/util":"dojo/request/util","dojo/request/watch":"dojo/request/watch","dojo/request/xhr":"dojo/request/xhr","dojo/sniff":"dojo/sniff","dojo/topic":"dojo/topic","dojo/when":"dojo/when","dojox/cometd/AckExtension":"dojox/cometd/AckExtension","dojox/cometd/cometd":"dojox/cometd/cometd","mldatx_file_preview_plugin/_impl/MldatxFilePreviewPlugin":"mldatx_file_preview_plugin/_impl/MldatxFilePreviewPlugin","mldatx_file_preview_plugin/index":"mldatx_file_preview_plugin/index","mw-deprecation-utils/deprecation":"mw-deprecation-utils/deprecation","mw-html-utils/HtmlUtils":"mw-html-utils/HtmlUtils","mw-html-utils/_parseHtml/sanitize":"mw-html-utils/_parseHtml/sanitize","mw-log/Log":"mw-log/Log","mw-log/impl/Backlog":"mw-log/impl/Backlog","mw-log/impl/Levels":"mw-log/impl/Levels","mw-log/impl/Modes":"mw-log/impl/Modes","mw-log/util/LogUtils":"mw-log/util/LogUtils","mw-messageservice/MessageService":"mw-messageservice/MessageService","mw-messageservice/messageserviceimpl/MessageServiceAsync":"mw-messageservice/messageserviceimpl/MessageServiceAsync","mw-messageservice/messageserviceimpl/MessageServiceBase":"mw-messageservice/messageserviceimpl/MessageServiceBase","mw-messageservice/messageserviceimpl/MessageServiceReqResp":"mw-messageservice/messageserviceimpl/MessageServiceReqResp","mw-messageservice/messageserviceimpl/MessageServiceState":"mw-messageservice/messageserviceimpl/MessageServiceState","mw-messageservice/messageserviceimpl/transportEnums":"mw-messageservice/messageserviceimpl/transportEnums","mw-remote/EndPointsManager":"mw-remote/EndPointsManager","mw-remote/Remote":"mw-remote/Remote","mw-remote/RemoteEndPointsManager":"mw-remote/RemoteEndPointsManager","mw-remote/ReplaceUploadIframe":"mw-remote/ReplaceUploadIframe","mw-remote/UploadToWorker":"mw-remote/UploadToWorker","mw-remote/defaultMessageMapping":"mw-remote/defaultMessageMapping","mw-remote/iframeproxy/CheckUrlService":"mw-remote/iframeproxy/CheckUrlService","mw-remote/iframeproxy/IframeProxyClient":"mw-remote/iframeproxy/IframeProxyClient","mw-remote/iframeproxy/IframeProxyReplace":"mw-remote/iframeproxy/IframeProxyReplace","mw-remote/impl/AutoDetectedTransaction":"mw-remote/impl/AutoDetectedTransaction","mw-remote/impl/FaultManager":"mw-remote/impl/FaultManager","mw-remote/impl/JsonTransaction":"mw-remote/impl/JsonTransaction","mw-remote/impl/RequestManager":"mw-remote/impl/RequestManager","mw-remote/impl/ResponseManager":"mw-remote/impl/ResponseManager","mw-remote/impl/Transaction":"mw-remote/impl/Transaction","mw-remote/serviceRegistryLookup":"mw-remote/serviceRegistryLookup","mw-remote/serviceRegistryLookup!":"mw-remote/serviceRegistryLookup!","mw-remote/utils/RemoteUrlUtils":"mw-remote/utils/RemoteUrlUtils","mw-remote/utils/SendMessageUtil":"mw-remote/utils/SendMessageUtil","mw-statemachine/StateMachine":"mw-statemachine/StateMachine","mw-statemachine/statemachineimpl/EventTrigger":"mw-statemachine/statemachineimpl/EventTrigger","mw-statemachine/statemachineimpl/MessageTrigger":"mw-statemachine/statemachineimpl/MessageTrigger","mw-statemachine/statemachineimpl/RemoteTrigger":"mw-statemachine/statemachineimpl/RemoteTrigger","mw-statemachine/statemachineimpl/State":"mw-statemachine/statemachineimpl/State","mw-statemachine/statemachineimpl/TimeoutTrigger":"mw-statemachine/statemachineimpl/TimeoutTrigger","mw-statemachine/statemachineimpl/Transition":"mw-statemachine/statemachineimpl/Transition","mw-statemachine/statemachineimpl/Trigger":"mw-statemachine/statemachineimpl/Trigger","mw-utils/Utils":"mw-utils/Utils","mw-utils/deprecation":"mw-utils/deprecation"},{MW_BUNDLE_CHUNK_ID:"mwBundle.mldatx_file_preview_plugin"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([["mwBundle.mldatx_file_preview_plugin"],{0:function(e,t,n){e.exports=n},"7c1cede0fa96821f1d00933e343d2e2af30a4286":function(e,t,n){var r,o;r=[],o=n.dj.d(r,(function(){return function(e,t,n,r){var o,i,s;if(e.load(t,n,(function(e){i=e,s=!0,o&&o(e)}),{isBuild:!0}),s)return i;if(!r)throw new Error(t+" unavailable");return(i=new Promise((function(e){o=e}))).__DOJO_WEBPACK_DEFINE_PROMISE__=!0,i}}),e,t),e.exports=o},"8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf":function(e,t){e.exports=void 0},"dojo/Deferred":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/errors/CancelError"]),n(n.dj.r.absMids["dojo/promise/Promise"]),n(n.dj.r.absMids["8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf"])],o=n.dj.d(r,(function(e,t,n,r,o){"use strict";var i="This deferred has already been fulfilled.",s=Object.freeze||function(){},a=function(t,n,r,o,i){e("config-deferredInstrumentation")&&2===n&&l.instrumentRejected&&0===t.length&&l.instrumentRejected(r,!1,o,i);for(var s=0;s<t.length;s++)c(t[s],n,r,o)},c=function(t,n,r,o){var i=t[n],s=t.deferred;if(i)try{var a=i(r);if(0===n)void 0!==a&&u(s,n,a);else{if(a&&"function"==typeof a.then)return t.cancel=a.cancel,void a.then(d(s,1),d(s,2),d(s,0));u(s,1,a)}}catch(e){u(s,2,e)}else u(s,n,r);e("config-deferredInstrumentation")&&2===n&&l.instrumentRejected&&l.instrumentRejected(r,!!i,o,s.promise)},d=function(e,t){return function(n){u(e,t,n)}},u=function(e,t,n){if(!e.isCanceled())switch(t){case 0:e.progress(n);break;case 1:e.resolve(n);break;case 2:e.reject(n)}},l=function(t){var o,d,u,h=this.promise=new r,f=this,p=!1,m=[];e("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(f,l),Error.captureStackTrace(h,l)),this.isResolved=h.isResolved=function(){return 1===o},this.isRejected=h.isRejected=function(){return 2===o},this.isFulfilled=h.isFulfilled=function(){return!!o},this.isCanceled=h.isCanceled=function(){return p},this.progress=function(e,t){if(o){if(!0===t)throw new Error(i);return h}return a(m,0,e,null,f),h},this.resolve=function(e,t){if(o){if(!0===t)throw new Error(i);return h}return a(m,o=1,d=e,null,f),m=null,h};var g=this.reject=function(t,n){if(o){if(!0===n)throw new Error(i);return h}return e("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(u={},g),a(m,o=2,d=t,u,f),m=null,h};this.then=h.then=function(e,t,n){var r=[n,e,t];return r.cancel=h.cancel,r.deferred=new l((function(e){return r.cancel&&r.cancel(e)})),o&&!m?c(r,o,d,u):m.push(r),r.deferred.promise},this.cancel=h.cancel=function(e,r){if(o){if(!0===r)throw new Error(i)}else{if(t){var s=t(e);e=void 0===s?e:s}if(p=!0,!o)return void 0===e&&(e=new n),g(e),e;if(2===o&&d===e)return e}},s(h)};return l.prototype.toString=function(){return"[object Deferred]"},o&&o(l),l}),e,t),e.exports=o},"dojo/Evented":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/on"])],o=n.dj.d(r,(function(e,t){"use strict";var n=e.after;function r(){}return r.prototype={on:function(e,r){return t.parse(this,e,r,(function(e,t){return n(e,"on"+t,r,!0)}))},emit:function(e,n){var r=[this];return r.push.apply(r,arguments),t.emit.apply(t,r)}},r}),e,t),e.exports=o},"dojo/_base/Deferred":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/promise/Promise"]),n(n.dj.r.absMids["dojo/errors/CancelError"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/when"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s){var a=function(){},c=Object.freeze||function(){},d=e.Deferred=function(e){var s,u,l,h,f,p,m,g=this.promise=new n;function b(e){if(u)throw new Error("This deferred has already been resolved");s=e,u=!0,v()}function v(){for(var e;!e&&m;){var n=m;m=m.next,(e=n.progress==a)&&(u=!1);var r=f?n.error:n.resolved;if(o("config-useDeferredInstrumentation")&&f&&t.instrumentRejected&&t.instrumentRejected(s,!!r),r)try{var c=r(s);if(c&&"function"==typeof c.then){c.then(i.hitch(n.deferred,"resolve"),i.hitch(n.deferred,"reject"),i.hitch(n.deferred,"progress"));continue}var d=e&&void 0===c;e&&!d&&(f=c instanceof Error),n.deferred[d&&f?"reject":"resolve"](d?s:c)}catch(e){n.deferred.reject(e)}else f?n.deferred.reject(s):n.deferred.resolve(s)}}this.isResolved=g.isResolved=function(){return 0==h},this.isRejected=g.isRejected=function(){return 1==h},this.isFulfilled=g.isFulfilled=function(){return h>=0},this.isCanceled=g.isCanceled=function(){return l},this.resolve=this.callback=function(e){this.fired=h=0,this.results=[e,null],b(e)},this.reject=this.errback=function(e){f=!0,this.fired=h=1,o("config-useDeferredInstrumentation")&&t.instrumentRejected&&t.instrumentRejected(e,!!m),b(e),this.results=[null,e]},this.progress=function(e){for(var t=m;t;){var n=t.progress;n&&n(e),t=t.next}},this.addCallbacks=function(e,t){return this.then(e,t,a),this},g.then=this.then=function(e,t,n){var r=n==a?this:new d(g.cancel),o={resolved:e,error:t,progress:n,deferred:r};return m?p=p.next=o:m=p=o,u&&v(),r.promise};var _=this;g.cancel=this.cancel=function(){if(!u){var t=e&&e(_);u||(t instanceof Error||(t=new r(t)),t.log=!1,_.reject(t))}l=!0},c(g)};return i.extend(d,{addCallback:function(t){return this.addCallbacks(i.hitch.apply(e,arguments))},addErrback:function(t){return this.addCallbacks(null,i.hitch.apply(e,arguments))},addBoth:function(t){var n=i.hitch.apply(e,arguments);return this.addCallbacks(n,n)},fired:-1}),d.when=e.when=s,d}),e,t),e.exports=o},"dojo/_base/array":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/lang"])],o=n.dj.d(r,(function(e,t,n){var r={};function o(e){return r[e]=new Function("item","index","array",e)}function i(e){var t=!e;return function(n,i,s){var a,c=0,d=n&&n.length||0;if(d&&"string"==typeof n&&(n=n.split("")),"string"==typeof i&&(i=r[i]||o(i)),s){for(;c<d;++c)if(a=!i.call(s,n[c],c,n),e^a)return!a}else for(;c<d;++c)if(a=!i(n[c],c,n),e^a)return!a;return t}}function s(e){var t=1,n=0,r=0;return e||(t=n=r=-1),function(o,i,s,c){if(c&&t>0)return a.lastIndexOf(o,i,s);var d,u=o&&o.length||0,l=e?u+r:n;for(void 0===s?d=e?n:u+r:s<0?(d=u+s)<0&&(d=n):d=s>=u?u+r:s,u&&"string"==typeof o&&(o=o.split(""));d!=l;d+=t)if(o[d]==i)return d;return-1}}var a={every:i(!1),some:i(!0),indexOf:s(!0),lastIndexOf:s(!1),forEach:function(e,t,n){var i=0,s=e&&e.length||0;if(s&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=r[t]||o(t)),n)for(;i<s;++i)t.call(n,e[i],i,e);else for(;i<s;++i)t(e[i],i,e)},map:function(e,t,n,i){var s=0,a=e&&e.length||0,c=new(i||Array)(a);if(a&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=r[t]||o(t)),n)for(;s<a;++s)c[s]=t.call(n,e[s],s,e);else for(;s<a;++s)c[s]=t(e[s],s,e);return c},filter:function(e,t,n){var i,s=0,a=e&&e.length||0,c=[];if(a&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=r[t]||o(t)),n)for(;s<a;++s)i=e[s],t.call(n,i,s,e)&&c.push(i);else for(;s<a;++s)t(i=e[s],s,e)&&c.push(i);return c},clearCache:function(){r={}}};return t("extend-dojo")&&n.mixin(e,a),a}),e,t),e.exports=o},"dojo/_base/config":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/has"]),n.dj.c(e.i)],o=n.dj.d(r,(function(e,t){var n,r={};if(e("dojo-config-api")){var o,i=t.rawConfig;for(o in i)r[o]=i[o]}else{var s=function(t,n,r){for(o in t)"has"!=o&&e.add(n+o,t[o],0,r)},a=function(){return this}();s(r=e("dojo-loader")?t.rawConfig:a.dojoConfig||a.djConfig||{},"config",1),s(r.has,"",1)}(r.updateLocale=function(e,t){var n;if(e.indexOf(t)>=0&&"zh"!==t)r.locale=t;else if("zh"!==(n=t.split("-")[0])){for(var o=0;o<e.length;o+=1)if(n===e[o].split("-")[0]){r.locale=e[o];break}r.locale||(r.locale="en-us".toLowerCase())}else r.locale="en-us".toLocaleLowerCase()},r.locale||"undefined"==typeof navigator)||(n=r._testLanguageOverride||navigator.language||navigator.userLanguage)&&(n=n.toLowerCase(),r.supportedLocales&&r.updateLocale(r.supportedLocales,n));return r.locale||(r.locale="en-us"),r}),e,t),e.exports=o},"dojo/_base/connect":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/topic"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/_base/event"]),n(n.dj.r.absMids["dojo/mouse"]),n(n.dj.r.absMids["dojo/_base/sniff"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/keys"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a){function c(n,o,s,c,u){if(c=a.hitch(s,c),!n||!n.addEventListener&&!n.attachEvent)return r.after(n||e.global,o,c,!0);if("string"==typeof o&&"on"==o.substring(0,2)&&(o=o.substring(2)),n||(n=e.global),!u)switch(o){case"keypress":o=d;break;case"mouseenter":o=i.enter;break;case"mouseleave":o=i.leave}return t(n,o,c,u)}s.add("events-keypress-typed",(function(){var e={charCode:0};try{((e=document.createEvent("KeyboardEvent")).initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(e){}return 0==e.charCode&&!s("opera")}));var d,u={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},l=s("mac")?"metaKey":"ctrlKey",h=function(e,t){var n=a.mixin({},e,t);return f(n),n.preventDefault=function(){e.preventDefault()},n.stopPropagation=function(){e.stopPropagation()},n};function f(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode}if(s("events-keypress-typed")){d=function(e,n){var r=t(e,"keydown",(function(e){var t=e.keyCode,r=13!=t&&32!=t&&(27!=t||!s("ie"))&&(t<48||t>90)&&(t<96||t>111)&&(t<186||t>192)&&(t<219||t>222)&&229!=t;if(r||e.ctrlKey){var o=r?0:t;if(e.ctrlKey){if(3==t||13==t)return n.call(e.currentTarget,e);o>95&&o<106?o-=48:!e.shiftKey&&o>=65&&o<=90?o+=32:o=u[o]||o}var i=h(e,{type:"keypress",faux:!0,charCode:o});n.call(e.currentTarget,i),s("ie")&&function(e,t){try{e.keyCode=t}catch(e){return 0}}(e,i.keyCode)}})),o=t(e,"keypress",(function(e){var t=e.charCode;return e=h(e,{charCode:t=t>=32?t:0,faux:!0}),n.call(this,e)}));return{remove:function(){r.remove(),o.remove()}}}}else d=s("opera")?function(e,n){return t(e,"keypress",(function(e){var t=e.which;return 3==t&&(t=99),t=t<32&&!e.shiftKey?0:t,e.ctrlKey&&!e.shiftKey&&t>=65&&t<=90&&(t+=32),n.call(this,h(e,{charCode:t}))}))}:function(e,n){return t(e,"keypress",(function(e){return f(e),n.call(this,e)}))};var p={_keypress:d,connect:function(e,t,n,r,o){var i=arguments,s=[],a=0;s.push("string"==typeof i[0]?null:i[a++],i[a++]);var d=i[a+1];s.push("string"==typeof d||"function"==typeof d?i[a++]:null,i[a++]);for(var u=i.length;a<u;a++)s.push(i[a]);return c.apply(this,s)},disconnect:function(e){e&&e.remove()},subscribe:function(e,t,r){return n.subscribe(e,a.hitch(t,r))},publish:function(e,t){return n.publish.apply(n,[e].concat(t))},connectPublisher:function(e,t,n){var r=function(){p.publish(e,arguments)};return n?p.connect(t,n,r):p.connect(t,r)},isCopyKey:function(e){return e[l]}};return p.unsubscribe=p.disconnect,s("extend-dojo")&&a.mixin(e,p),p}),e,t),e.exports=o},"dojo/_base/declare":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/lang"])],o=n.dj.d(r,(function(e,t,n){var r,o=n.mixin,i=Object.prototype,s=i.toString,a=0,c="constructor";function d(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function u(e,t,n){var r,o,s,a,u,l,h,f,p,m=this._inherited=this._inherited||{};if("string"==typeof e&&(r=e,e=t,t=n),n=0,a=e.callee,(r=r||a.nom)||d("can't deduce a name to call inherited()",this.declaredClass),s=(u=this.constructor._meta).bases,p=m.p,r!=c){if(m.c!==a&&(p=0,(u=(l=s[0])._meta).hidden[r]!==a)){(o=u.chains)&&"string"==typeof o[r]&&d("calling chained method with inherited: "+r,this.declaredClass);do{if(u=l._meta,h=l.prototype,u&&(h[r]===a&&h.hasOwnProperty(r)||u.hidden[r]===a))break}while(l=s[++p]);p=l?p:-1}if(l=s[++p])if(h=l.prototype,l._meta&&h.hasOwnProperty(r))n=h[r];else{f=i[r];do{if((n=(h=l.prototype)[r])&&(l._meta?h.hasOwnProperty(r):n!==f))break}while(l=s[++p])}n=l&&n||i[r]}else{if(m.c!==a&&(p=0,(u=s[0]._meta)&&u.ctor!==a)){for((o=u.chains)&&"manual"===o.constructor||d("calling chained constructor with inherited",this.declaredClass);(l=s[++p])&&(!(u=l._meta)||u.ctor!==a););p=l?p:-1}for(;(l=s[++p])&&!(n=(u=l._meta)?u.ctor:l););n=l&&n}if(m.c=n,m.p=p,n)return!0===t?n:n.apply(this,t||e)}function l(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}r=t("csp-restrictions")?function(){}:new Function;var h=e.config.isDebug?function(e,t,n){var r=this.getInherited(e,t);if(r)return r.apply(this,n||t||e)}:u;function f(e){for(var t=this.constructor._meta.bases,n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return this instanceof e}function p(e,r){for(var o in r)o!=c&&r.hasOwnProperty(o)&&(e[o]=r[o]);if(t("bug-for-in-skips-shadowed"))for(var i=n._extraNames,s=i.length;s;)(o=i[--s])!=c&&r.hasOwnProperty(o)&&(e[o]=r[o])}function m(e){return y.safeMixin(this.prototype,e),this}function g(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},y([this].concat(e=e||[]),t)}function b(e,t,n){return function(){var r,o,i,s=0,a=1;for(n&&(s=t.length-1,a=-1);r=t[s];s+=a)(i=((o=r._meta)?o.hidden:r.prototype)[e])&&i.apply(this,arguments)}}function v(e){r.prototype=e.prototype;var t=new r;return r.prototype=null,t}function _(e){var t=e.callee,n=v(t);return t.apply(n,e),n}function y(e,t,r){"string"!=typeof e&&(r=t,t=e,e=""),r=r||{};var j,w,E,M,T,x,S,C=1,k=t;if("[object Array]"==s.call(t)?(E=(x=function(e,t){for(var n,r,o,i,c,u,l,h,f=[],p=[{cls:0,refs:[]}],m={},g=1,b=e.length,v=0;v<b;++v){for((o=e[v])?"[object Function]"!=s.call(o)&&d("mixin #"+v+" is not a callable constructor.",t):d("mixin #"+v+" is unknown. Did you use dojo.require to pull it in?",t),i=0,n=(r=o._meta?o._meta.bases:[o]).length-1;n>=0;--n)(c=r[n].prototype).hasOwnProperty("declaredClass")||(c.declaredClass="uniqName_"+a++),l=c.declaredClass,m.hasOwnProperty(l)||(m[l]={count:0,refs:[],cls:r[n]},++g),u=m[l],i&&i!==u&&(u.refs.push(i),++i.count),i=u;++i.count,p[0].refs.push(i)}for(;p.length;){for(i=p.pop(),f.push(i.cls),--g;1==(h=i.refs).length;){if(!(i=h[0])||--i.count){i=0;break}f.push(i.cls),--g}if(i)for(v=0,b=h.length;v<b;++v)--(i=h[v]).count||p.push(i)}return g&&d("can't build consistent linearization",t),o=e[0],f[0]=o?o._meta&&o===f[f.length-o._meta.bases.length]?o._meta.bases.length:1:0,f}(t,e))[0],t=x[C=x.length-E]):(x=[0],t?"[object Function]"==s.call(t)?(E=t._meta,x=x.concat(E?E.bases:t)):d("base class is not a callable constructor.",e):null!==t&&d("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(w=C-1;j=v(t),w;--w)((E=x[w])._meta?p:o)(j,E.prototype),(M=new Function).superclass=t,M.prototype=j,t=j.constructor=M;else j={};for(y.safeMixin(j,r),(E=r.constructor)!==i.constructor&&(E.nom=c,j.constructor=E),w=C-1;w;--w)(E=x[w]._meta)&&E.chains&&(S=o(S||{},E.chains));if(j["-chains-"]&&(S=o(S||{},j["-chains-"])),E=!S||!S.hasOwnProperty(c),x[0]=M=S&&"manual"===S.constructor?function(e){return function(){var t,n,r=arguments,o=0;if(!(this instanceof r.callee))return _(r);for(;t=e[o];++o)if(t=(n=t._meta)?n.ctor:t){t.apply(this,r);break}(t=this.postscript)&&t.apply(this,r)}}(x):1==x.length?function(e,t){return function(){var n,r=arguments,o=r,i=r[0];if(!(this instanceof r.callee))return _(r);t&&(i&&(n=i.preamble)&&(o=n.apply(this,o)||o),(n=this.preamble)&&n.apply(this,o)),e&&e.apply(this,r),(n=this.postscript)&&n.apply(this,r)}}(r.constructor,E):function(e,t){return function(){var n,r,o,i,s=arguments,a=s,c=s[0],d=e.length;if(!(this instanceof s.callee))return _(s);if(t&&(c&&c.preamble||this.preamble))for((i=new Array(e.length))[0]=s,r=0;(c=s[0])&&(n=c.preamble)&&(s=n.apply(this,s)||s),(n=(n=e[r].prototype).hasOwnProperty("preamble")&&n.preamble)&&(s=n.apply(this,s)||s),++r!=d;)i[r]=s;for(r=d-1;r>=0;--r)(n=(o=(n=e[r])._meta)?o.ctor:n)&&n.apply(this,i?i[r]:s);(n=this.postscript)&&n.apply(this,a)}}(x,E),M._meta={bases:x,hidden:r,chains:S,parents:k,ctor:r.constructor},M.superclass=t&&t.prototype,M.extend=m,M.createSubclass=g,M.prototype=j,j.constructor=M,j.getInherited=l,j.isInstanceOf=f,j.inherited=h,j.__inherited=u,e&&(j.declaredClass=e,n.setObject(e,M)),S)for(T in S)j[T]&&"string"==typeof S[T]&&T!=c&&((E=j[T]=b(T,x,"after"===S[T])).nom=T);return M}return e.safeMixin=y.safeMixin=function(e,r){var o,a;for(o in r)(a=r[o])===i[o]&&o in i||o==c||("[object Function]"==s.call(a)&&(a.nom=o),e[o]=a);if(t("bug-for-in-skips-shadowed")&&r)for(var d=n._extraNames,u=d.length;u;)(a=r[o=d[--u]])===i[o]&&o in i||o==c||("[object Function]"==s.call(a)&&(a.nom=o),e[o]=a);return e},e.declare=y,y}),e,t),e.exports=o},"dojo/_base/event":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/dom-geometry"])],o=n.dj.d(r,(function(e,t,n,r){if(t._fixEvent){var o=t._fixEvent;t._fixEvent=function(e,t){return(e=o(e,t))&&r.normalizeEvent(e),e}}var i={fix:function(e,n){return t._fixEvent?t._fixEvent(e,n):e},stop:function(e){n("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((e=e||window.event).cancelBubble=!0,t._preventDefault.call(e))}};return n("extend-dojo")&&(e.fixEvent=i.fix,e.stopEvent=i.stop),i}),e,t),e.exports=o},"dojo/_base/json":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/json"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,(function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="\t",dojo.toJson=function(e,t){return json.stringify(e,(function(e,t){if(t){var n=t.__json__||t.json;if("function"==typeof n)return n.call(t)}return t}),t&&dojo.toJsonIndentStr)},dojo}),module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/_base/kernel":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/config"]),n.dj.c(e.i),n.dj.m(e)],o=n.dj.d(r,(function(e,t,n,r){var o,i,s,a=function(){return this}(),c={},d={},u={config:t,global:a,dijit:c,dojox:d},l={dojo:["dojo",u],dijit:["dijit",c],dojox:["dojox",d]},h=n.map&&n.map[r.id.match(/[^\/]+/)[0]];for(i in h)l[i]?l[i][0]=h[i]:l[i]=[h[i],{}];for(i in l)(s=l[i])[1]._scopeName=s[0],t.noGlobals||(a[s[0]]=s[1]);u.scopeMap=l,u.baseUrl=u.config.baseUrl=n.baseUrl,u.isAsync=!e("dojo-loader")||n.async,u.locale=t.locale;var f="$Rev: 91fa0cb $".match(/[0-9a-f]{7,}/);if(u.version={major:1,minor:11,patch:2,flag:"",revision:f?f[0]:NaN,toString:function(){var e=u.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}},e.add("extend-dojo",1),e("csp-restrictions")||Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(u),e("host-rhino")?u.exit=function(e){quit(e)}:u.exit=function(){},e("host-webworker")||e.add("dojo-guarantee-console",1),e("dojo-guarantee-console")){e.add("console-as-object",(function(){return Function.prototype.bind&&console&&"object"==typeof console.log})),"undefined"!=typeof console||(console={});var p,m=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];for(o=0;p=m[o++];)console[p]?e("console-as-object")&&(console[p]=Function.prototype.bind.call(console[p],console)):function(){var e=p+"";console[e]="log"in console?function(){var t=Array.prototype.slice.call(arguments);t.unshift(e+":"),console.log(t.join(" "))}:function(){},console[e]._fake=!0}()}if(e.add("dojo-debug-messages",!!t.isDebug),u.deprecated=u.experimental=function(){},e("dojo-debug-messages")&&(u.deprecated=function(e,t,n){var r="DEPRECATED: "+e;t&&(r+=" "+t),n&&(r+=" -- will be removed in version: "+n),console.warn(r)},u.experimental=function(e,t){var n="EXPERIMENTAL: "+e+" -- APIs subject to change without notice.";t&&(n+=" "+t),console.warn(n)}),e.add("dojo-modulePaths",1),e("dojo-modulePaths")&&t.modulePaths){u.deprecated("dojo.modulePaths","use paths configuration");var g={};for(i in t.modulePaths)g[i.replace(/\./g,"/")]=t.modulePaths[i];n({paths:g})}return e.add("dojo-moduleUrl",1),e("dojo-moduleUrl")&&(u.moduleUrl=function(e,t){u.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var r=null;return e&&(r=n.toUrl(e.replace(/\./g,"/")+(t?"/"+t:"")+"/*.*").replace(/\/\*\.\*/,"")+(t?"":"/")),r}),u._hasResource={},u}),e,t),e.exports=o},"dojo/_base/lang":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/sniff"])],o=n.dj.d(r,(function(e,t){t.add("bug-for-in-skips-shadowed",(function(){for(var e in{toString:1})return 0;return 1}));var n=t("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],r=n.length,o=function(t,n,r){r||(r=t[0]&&e.scopeMap[t[0]]?e.scopeMap[t.shift()][1]:e.global);try{for(var o=0;o<t.length;o++){var i=t[o];if(!(i in r)){if(!n)return;r[i]={}}r=r[i]}return r}catch(e){}},i=Object.prototype.toString,s=function(e,t,n){return(n||[]).concat(Array.prototype.slice.call(e,t||0))},a=/\{([^\}]+)\}/g,c={_extraNames:n,_mixin:function(e,o,i){var s,a,c,d={};for(s in o)a=o[s],s in e&&(e[s]===a||s in d&&d[s]===a)||(e[s]=i?i(a):a);if(t("bug-for-in-skips-shadowed")&&o)for(c=0;c<r;++c)a=o[s=n[c]],s in e&&(e[s]===a||s in d&&d[s]===a)||(e[s]=i?i(a):a);return e},mixin:function(e,t){e||(e={});for(var n=1,r=arguments.length;n<r;n++)c._mixin(e,arguments[n]);return e},setObject:function(e,t,n){var r=e.split("."),i=r.pop(),s=o(r,!0,n);return s&&i?s[i]=t:void 0},getObject:function(e,t,n){return e?o(e.split("."),t,n):n},exists:function(e,t){return void 0!==c.getObject(e,!1,t)},isString:function(e){return"string"==typeof e||e instanceof String},isArray:Array.isArray||function(e){return"[object Array]"==i.call(e)},isFunction:function(e){return"[object Function]"===i.call(e)},isObject:function(e){return void 0!==e&&(null===e||"object"==typeof e||c.isArray(e)||c.isFunction(e))},isArrayLike:function(e){return!!e&&!c.isString(e)&&!c.isFunction(e)&&!(e.tagName&&"form"==e.tagName.toLowerCase())&&(c.isArray(e)||isFinite(e.length))},isAlien:function(e){return e&&!c.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(String(e))},extend:function(e,t){for(var n=1,r=arguments.length;n<r;n++)c._mixin(e.prototype,arguments[n]);return e},_hitchArgs:function(t,n){var r=c._toArray(arguments,2),o=c.isString(n);return function(){var i=c._toArray(arguments),s=o?(t||e.global)[n]:n;return s&&s.apply(t||this,r.concat(i))}},hitch:function(t,n){if(arguments.length>2)return c._hitchArgs.apply(e,arguments);if(n||(n=t,t=null),c.isString(n)){if(!(t=t||e.global)[n])throw['lang.hitch: scope["',n,'"] is null (scope="',t,'")'].join("");return function(){return t[n].apply(t,arguments||[])}}return t?function(){return n.apply(t,arguments||[])}:n},delegate:function(){function e(){}return function(t,n){e.prototype=t;var r=new e;return e.prototype=null,n&&c._mixin(r,n),r}}(),_toArray:t("ie")?function(){function e(e,t,n){for(var r=n||[],o=t||0;o<e.length;o++)r.push(e[o]);return r}return function(t){return(t.item?e:s).apply(this,arguments)}}():s,partial:function(t){var n=[null];return c.hitch.apply(e,n.concat(c._toArray(arguments)))},clone:function(e){if(!e||"object"!=typeof e||c.isFunction(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var t,n,r;if(c.isArray(e))for(t=[],n=0,r=e.length;n<r;++n)n in e&&(t[n]=c.clone(e[n]));else t=e.constructor?new e.constructor:{};return c._mixin(t,e,c.clone)},trim:String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(e,t,n){return e.replace(n||a,c.isFunction(t)?t:function(e,n){return c.getObject(n,!1,t)})}};return t("extend-dojo")&&c.mixin(e,c),c}),e,t),e.exports=o},"dojo/_base/sniff":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/sniff"])],o=n.dj.d(r,(function(e,t,n){return n("host-browser")?(e._name="browser",t.mixin(e,{isBrowser:!0,isFF:n("ff"),isIE:n("ie"),isKhtml:n("khtml"),isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),isAndroid:n("android"),isWii:n("wii"),isQuirks:n("quirks"),isAir:n("air")}),n):n}),e,t),e.exports=o},"dojo/_base/window":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/sniff"])],o=n.dj.d(r,(function(e,t,n){var r={global:e.global,doc:e.global.document||null,body:function(t){return(t=t||e.doc).body||t.getElementsByTagName("body")[0]},setContext:function(t,n){e.global=r.global=t,e.doc=r.doc=n},withGlobal:function(t,n,o,i){var s=e.global;try{return e.global=r.global=t,r.withDoc.call(null,t.document,n,o,i)}finally{e.global=r.global=s}},withDoc:function(t,o,i,s){var a,c,d,u=r.doc,l=n("quirks"),h=n("ie");try{return e.doc=r.doc=t,e.isQuirks=n.add("quirks","BackCompat"==e.doc.compatMode,!0,!0),n("ie")&&(d=t.parentWindow)&&d.navigator&&(a=parseFloat(d.navigator.appVersion.split("MSIE ")[1])||void 0,(c=t.documentMode)&&5!=c&&Math.floor(a)!=c&&(a=c),e.isIE=n.add("ie",a,!0,!0)),i&&"string"==typeof o&&(o=i[o]),o.apply(i,s||[])}finally{e.doc=r.doc=u,e.isQuirks=n.add("quirks",l,!0,!0),e.isIE=n.add("ie",h,!0,!0)}}};return n("extend-dojo")&&t.mixin(e,r),r}),e,t),e.exports=o},"dojo/_base/xhr":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/sniff"]),n.dj.c(e.i),n(n.dj.r.absMids["dojo/io-query"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-form"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["dojo/_base/json"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/request/watch"]),n(n.dj.r.absMids["dojo/request/xhr"]),n(n.dj.r.absMids["dojo/request/util"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a,c,d,u,l,h,f,p,m){e._xhrObj=p._create;var g=e.config;e.objectToQuery=r.objectToQuery,e.queryToObject=r.queryToObject,e.fieldToObject=i.fieldToObject,e.formToObject=i.toObject,e.formToQuery=i.toQuery,e.formToJson=i.toJson,e._blockAsync=!1;var b=e._contentHandlers=e.contentHandlers={text:function(e){return e.responseText},json:function(e){return c.fromJson(e.responseText||null)},"json-comment-filtered":function(e){a.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");var t=e.responseText,n=t.indexOf("/*"),r=t.lastIndexOf("*/");if(-1==n||-1==r)throw new Error("JSON was not comment filtered");return c.fromJson(t.substring(n+2,r))},javascript:function(t){return e.eval(t.responseText)},xml:function(e){var n=e.responseXML;if(n&&t("dom-qsa2.1")&&!n.querySelectorAll&&t("dom-parser")&&(n=(new DOMParser).parseFromString(e.responseText,"application/xml")),t("ie")&&(!n||!n.documentElement)){var r=function(e){return"MSXML"+e+".DOMDocument"},o=["Microsoft.XMLDOM",r(6),r(4),r(3),r(2)];u.some(o,(function(t){try{var r=new ActiveXObject(t);r.async=!1,r.loadXML(e.responseText),n=r}catch(e){return!1}return!0}))}return n},"json-comment-optional":function(e){return e.responseText&&/^[^{\[]*\/\*/.test(e.responseText)?b["json-comment-filtered"](e):b.json(e)}};e._ioSetArgs=function(t,n,a,c){var u={args:t,url:t.url},l=null;if(t.form){var h=o.byId(t.form),f=h.getAttributeNode("action");u.url=u.url||(f?f.value:e.doc?e.doc.URL:null),l=i.toObject(h)}var p=[{}];l&&p.push(l),t.content&&p.push(t.content),t.preventCache&&p.push({"dojo.preventCache":(new Date).valueOf()}),u.query=r.objectToQuery(d.mixin.apply(null,p)),u.handleAs=t.handleAs||"text";var m=new s((function(e){e.canceled=!0,n&&n(e);var t=e.ioArgs.error;return t||((t=new Error("request cancelled")).dojoType="cancel",e.ioArgs.error=t),t}));m.addCallback(a);var b=t.load;b&&d.isFunction(b)&&m.addCallback((function(e){return b.call(t,e,u)}));var v=t.error;v&&d.isFunction(v)&&m.addErrback((function(e){return v.call(t,e,u)}));var _=t.handle;return _&&d.isFunction(_)&&m.addBoth((function(e){return _.call(t,e,u)})),m.addErrback((function(e){return c(e,m)})),g.ioPublish&&e.publish&&!1!==u.args.ioPublish&&(m.addCallbacks((function(t){return e.publish("/dojo/io/load",[m,t]),t}),(function(t){return e.publish("/dojo/io/error",[m,t]),t})),m.addBoth((function(t){return e.publish("/dojo/io/done",[m,t]),t}))),m.ioArgs=u,m};var v=function(e){var t=b[e.ioArgs.handleAs](e.ioArgs.xhr);return void 0===t?null:t},_=function(e,t){return t.ioArgs.args.failOk||console.error(e),e},y=function(t){j<=0&&(j=0,g.ioPublish&&e.publish&&(!t||t&&!1!==t.ioArgs.args.ioPublish)&&e.publish("/dojo/io/stop"))},j=0;h.after(f,"_onAction",(function(){j-=1})),h.after(f,"_onInFlight",y),e._ioCancelAll=f.cancelAll,e._ioNotifyStart=function(t){g.ioPublish&&e.publish&&!1!==t.ioArgs.args.ioPublish&&(j||e.publish("/dojo/io/start"),j+=1,e.publish("/dojo/io/send",[t]))},e._ioWatch=function(e,t,n,r){e.ioArgs.options=e.ioArgs.args;d.mixin(e,{response:e.ioArgs,isValid:function(n){return t(e)},isReady:function(t){return n(e)},handleResponse:function(t){return r(e)}}),f(e),y(e)};return e._ioAddQueryToUrl=function(e){e.query.length&&(e.url+=(-1==e.url.indexOf("?")?"?":"&")+e.query,e.query=null)},e.xhr=function(t,n,r){var o,i=e._ioSetArgs(n,(function(e){o&&o.cancel()}),v,_),s=i.ioArgs;"postData"in n?s.query=n.postData:"putData"in n?s.query=n.putData:"rawBody"in n?s.query=n.rawBody:(arguments.length>2&&!r||-1==="POST|PUT".indexOf(t.toUpperCase()))&&e._ioAddQueryToUrl(s);var a={method:t,handleAs:"text",timeout:n.timeout,withCredentials:n.withCredentials,ioArgs:s};void 0!==n.headers&&(a.headers=n.headers),void 0!==n.contentType&&(a.headers||(a.headers={}),a.headers["Content-Type"]=n.contentType),void 0!==s.query&&(a.data=s.query),void 0!==n.sync&&(a.sync=n.sync),e._ioNotifyStart(i);try{o=p(s.url,a,!0)}catch(e){return i.cancel(),i}return i.ioArgs.xhr=o.response.xhr,o.then((function(){i.resolve(i)})).otherwise((function(e){s.error=e,e.response&&(e.status=e.response.status,e.responseText=e.response.text,e.xhr=e.response.xhr),i.reject(e)})),i},e.xhrGet=function(t){return e.xhr("GET",t)},e.rawXhrPost=e.xhrPost=function(t){return e.xhr("POST",t,!0)},e.rawXhrPut=e.xhrPut=function(t){return e.xhr("PUT",t,!0)},e.xhrDelete=function(t){return e.xhr("DELETE",t)},e._isDocumentOk=function(e){return m.checkStatus(e.status)},e._getText=function(t){var n;return e.xhrGet({url:t,sync:!0,load:function(e){n=e}}),n},d.mixin(e.xhr,{_xhrObj:e._xhrObj,fieldToObject:i.fieldToObject,formToObject:i.toObject,objectToQuery:r.objectToQuery,formToQuery:i.toQuery,formToJson:i.toJson,queryToObject:r.queryToObject,contentHandlers:b,_ioSetArgs:e._ioSetArgs,_ioCancelAll:e._ioCancelAll,_ioNotifyStart:e._ioNotifyStart,_ioWatch:e._ioWatch,_ioAddQueryToUrl:e._ioAddQueryToUrl,_isDocumentOk:e._isDocumentOk,_getText:e._getText,get:e.xhrGet,post:e.xhrPost,put:e.xhrPut,del:e.xhrDelete}),e.xhr}),e,t),e.exports=o},"dojo/aspect":function(e,t,n){var r,o;r=[],o=n.dj.d(r,(function(){"use strict";function e(e){return function(t,n,r,o){var i,s=t[n];s&&s.target==t||(t[n]=i=function(){for(var e=i.nextId,t=arguments,n=i.before;n;)n.advice&&(t=n.advice.apply(this,t)||t),n=n.next;if(i.around)var r=i.around.advice(this,t);for(var o=i.after;o&&o.id<e;){if(o.advice)if(o.receiveArguments){var s=o.advice.apply(this,t);r=void 0===s?r:s}else r=o.advice.call(this,r,t);o=o.next}return r},s&&(i.around={advice:function(e,t){return s.apply(e,t)}}),i.target=t,i.nextId=i.nextId||0);var a=function(e,t,n,r){var o,i=e[t],s="around"==t;if(s){var a=n((function(){return i.advice(this,arguments)}));o={remove:function(){a&&(a=e=n=null)},advice:function(e,t){return a?a.apply(e,t):i.advice(e,t)}}}else o={remove:function(){if(o.advice){var r=o.previous,i=o.next;i||r?(r?r.next=i:e[t]=i,i&&(i.previous=r)):delete e[t],e=n=o.advice=null}},id:e.nextId++,advice:n,receiveArguments:r};if(i&&!s)if("after"==t){for(;i.next&&(i=i.next););i.next=o,o.previous=i}else"before"==t&&(e[t]=o,o.next=i,i.previous=o);else e[t]=o;return o}(i||s,e,r,o);return r=null,a}}var t=e("after");return{before:e("before"),around:e("around"),after:t}}),e,t),e.exports=o},"dojo/dom":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/window"])],o=n.dj.d(r,(function(e,t){if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var n={};e("ie")?n.byId=function(e,n){if("string"!=typeof e)return e;var r=n||t.doc,o=e&&r.getElementById(e);if(o&&(o.attributes.id.value==e||o.id==e))return o;var i=r.all[e];i&&!i.nodeName||(i=[i]);for(var s=0;o=i[s++];)if(o.attributes&&o.attributes.id&&o.attributes.id.value==e||o.id==e)return o}:n.byId=function(e,n){return("string"==typeof e?(n||t.doc).getElementById(e):e)||null},n.isDescendant=function(e,t){try{for(e=n.byId(e),t=n.byId(t);e;){if(e==t)return!0;e=e.parentNode}}catch(e){}return!1},e.add("css-user-select",(function(e,t,n){if(!n)return!1;var r=n.style,o=["Khtml","O","Moz","Webkit"],i=o.length,s="userSelect";do{if(void 0!==r[s])return s}while(i--&&(s=o[i]+"UserSelect"));return!1}));var r=e("css-user-select");return n.setSelectable=r?function(e,t){n.byId(e).style[r]=t?"":"none"}:function(e,t){var r=(e=n.byId(e)).getElementsByTagName("*"),o=r.length;if(t)for(e.removeAttribute("unselectable");o--;)r[o].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");o--;)r[o].setAttribute("unselectable","on")},n}),e,t),e.exports=o},"dojo/dom-attr":function(e,t,n){var r,o;r=[t,n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-style"]),n(n.dj.r.absMids["dojo/dom-prop"])],o=n.dj.d(r,(function(e,t,n,r,o,i){var s={innerHTML:1,textContent:1,className:1,htmlFor:t("ie"),value:1},a={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function c(e,t){var n=e.getAttributeNode&&e.getAttributeNode(t);return!!n&&n.specified}e.has=function(e,t){var n=t.toLowerCase();return s[i.names[n]||t]||c(r.byId(e),a[n]||t)},e.get=function(e,t){e=r.byId(e);var o=t.toLowerCase(),d=i.names[o]||t,u=s[d],l=e[d];if(u&&void 0!==l)return l;if("textContent"==d)return i.get(e,d);if("href"!=d&&("boolean"==typeof l||n.isFunction(l)))return l;var h=a[o]||t;return c(e,h)?e.getAttribute(h):null},e.set=function(t,c,d){if(t=r.byId(t),2==arguments.length){for(var u in c)e.set(t,u,c[u]);return t}var l=c.toLowerCase(),h=i.names[l]||c,f=s[h];return"style"==h&&"string"!=typeof d?(o.set(t,d),t):f||"boolean"==typeof d||n.isFunction(d)?i.set(t,c,d):(t.setAttribute(a[l]||c,d),t)},e.remove=function(e,t){r.byId(e).removeAttribute(a[t.toLowerCase()]||t)},e.getNodeProp=function(e,t){e=r.byId(e);var n=t.toLowerCase(),o=i.names[n]||t;if(o in e&&"href"!=o)return e[o];var s=a[n]||t;return c(e,s)?e.getAttribute(s):null}}),e,t),e.exports=o},"dojo/dom-construct":function(e,t,n){var r,o;r=[t,n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/window"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-attr"])],o=n.dj.d(r,(function(e,t,n,r,o,i){var s,a={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},c=/<\s*([\w\:]+)/,d={},u=0,l="__"+t._scopeName+"ToDomId";for(var h in a)if(a.hasOwnProperty(h)){var f=a[h];f.pre="option"==h?'<select multiple="multiple">':"<"+f.join("><")+">",f.post="</"+f.reverse().join("></")+">"}function p(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)}n("ie")<=8&&(s=function(e){e.__dojo_html5_tested="yes";var t=m("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},e.body);1!==t.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,(function(t){e.createElement(t)})),b(t)}),e.toDom=function(e,t){var o=(t=t||r.doc)[l];o||(t[l]=o=++u+"",d[o]=t.createElement("div")),n("ie")<=8&&!t.__dojo_html5_tested&&t.body&&s(t);var i,h,f,p,m=(e+="").match(c),g=m?m[1].toLowerCase():"",b=d[o];if(m&&a[g])for(i=a[g],b.innerHTML=i.pre+e+i.post,h=i.length;h;--h)b=b.firstChild;else b.innerHTML=e;if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(p=t.createDocumentFragment();f=b.firstChild;)p.appendChild(f);return p},e.place=function(t,n,r){if(n=o.byId(n),"string"==typeof t&&(t=/^\s*</.test(t)?e.toDom(t,n.ownerDocument):o.byId(t)),"number"==typeof r){var i=n.childNodes;!i.length||i.length<=r?n.appendChild(t):p(t,i[r<0?0:r])}else switch(r){case"before":p(t,n);break;case"after":!function(e,t){var n=t.parentNode;n&&(n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling))}(t,n);break;case"replace":n.parentNode.replaceChild(t,n);break;case"only":e.empty(n),n.appendChild(t);break;case"first":if(n.firstChild){p(t,n.firstChild);break}default:n.appendChild(t)}return t};var m=e.create=function(t,n,s,a){var c=r.doc;return s&&(c=(s=o.byId(s)).ownerDocument),"string"==typeof t&&(t=c.createElement(t)),n&&i.set(t,n),s&&e.place(t,s,a),t};function g(e){if("innerHTML"in e)try{return void(e.innerHTML="")}catch(e){}for(var t;t=e.lastChild;)e.removeChild(t)}e.empty=function(e){g(o.byId(e))};var b=e.destroy=function(e){(e=o.byId(e))&&function(e,t){e.firstChild&&g(e),t&&(n("ie")&&t.canHaveChildren&&"removeNode"in e?e.removeNode(!1):t.removeChild(e))}(e,e.parentNode)}}),e,t),e.exports=o},"dojo/dom-form":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/io-query"]),n(n.dj.r.absMids["dojo/json"])],o=n.dj.d(r,(function(e,t,n,r){function o(t,n,r){if(null!==r){var o=t[n];"string"==typeof o?t[n]=[o,r]:e.isArray(o)?o.push(r):t[n]=r}}var i={fieldToObject:function(e){var n=null;if(e=t.byId(e)){var r=e.name,o=(e.type||"").toLowerCase();if(r&&o&&!e.disabled)if("radio"==o||"checkbox"==o)e.checked&&(n=e.value);else if(e.multiple){n=[];for(var i=[e.firstChild];i.length;)for(var s=i.pop();s;s=s.nextSibling){if(1!=s.nodeType||"option"!=s.tagName.toLowerCase()){s.nextSibling&&i.push(s.nextSibling),s.firstChild&&i.push(s.firstChild);break}s.selected&&n.push(s.value)}}else n=e.value}return n},toObject:function(e){for(var n={},r=t.byId(e).elements,s=0,a=r.length;s<a;++s){var c=r[s],d=c.name,u=(c.type||"").toLowerCase();d&&u&&"file|submit|image|reset|button".indexOf(u)<0&&!c.disabled&&(o(n,d,i.fieldToObject(c)),"image"==u&&(n[d+".x"]=n[d+".y"]=n[d].x=n[d].y=0))}return n},toQuery:function(e){return n.objectToQuery(i.toObject(e))},toJson:function(e,t){return r.stringify(i.toObject(e),null,t?4:0)}};return i}),e,t),e.exports=o},"dojo/dom-geometry":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/window"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-style"])],o=n.dj.d(r,(function(e,t,n,r){var o={boxModel:"content-box"};e("ie")&&(o.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),o.getPadExtents=function(e,t){e=n.byId(e);var o=t||r.getComputedStyle(e),i=r.toPixelValue,s=i(e,o.paddingLeft),a=i(e,o.paddingTop),c=i(e,o.paddingRight),d=i(e,o.paddingBottom);return{l:s,t:a,r:c,b:d,w:s+c,h:a+d}};var i="none";function s(e,t,n,r,o,i){i=i||"px";var s=e.style;isNaN(t)||(s.left=t+i),isNaN(n)||(s.top=n+i),r>=0&&(s.width=r+i),o>=0&&(s.height=o+i)}function a(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function c(e){return"border-box"==o.boxModel||"table"==e.tagName.toLowerCase()||a(e)}o.getBorderExtents=function(e,t){e=n.byId(e);var o=r.toPixelValue,s=t||r.getComputedStyle(e),a=s.borderLeftStyle!=i?o(e,s.borderLeftWidth):0,c=s.borderTopStyle!=i?o(e,s.borderTopWidth):0,d=s.borderRightStyle!=i?o(e,s.borderRightWidth):0,u=s.borderBottomStyle!=i?o(e,s.borderBottomWidth):0;return{l:a,t:c,r:d,b:u,w:a+d,h:c+u}},o.getPadBorderExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),s=o.getPadExtents(e,i),a=o.getBorderExtents(e,i);return{l:s.l+a.l,t:s.t+a.t,r:s.r+a.r,b:s.b+a.b,w:s.w+a.w,h:s.h+a.h}},o.getMarginExtents=function(e,t){e=n.byId(e);var o=t||r.getComputedStyle(e),i=r.toPixelValue,s=i(e,o.marginLeft),a=i(e,o.marginTop),c=i(e,o.marginRight),d=i(e,o.marginBottom);return{l:s,t:a,r:c,b:d,w:s+c,h:a+d}},o.getMarginBox=function(t,s){t=n.byId(t);var a,c=s||r.getComputedStyle(t),d=o.getMarginExtents(t,c),u=t.offsetLeft-d.l,l=t.offsetTop-d.t,h=t.parentNode,f=r.toPixelValue;if(e("mozilla")){var p=parseFloat(c.left),m=parseFloat(c.top);isNaN(p)||isNaN(m)?h&&h.style&&"visible"!=(a=r.getComputedStyle(h)).overflow&&(u+=a.borderLeftStyle!=i?f(t,a.borderLeftWidth):0,l+=a.borderTopStyle!=i?f(t,a.borderTopWidth):0):(u=p,l=m)}else(e("opera")||8==e("ie")&&!e("quirks"))&&h&&(u-=(a=r.getComputedStyle(h)).borderLeftStyle!=i?f(t,a.borderLeftWidth):0,l-=a.borderTopStyle!=i?f(t,a.borderTopWidth):0);return{l:u,t:l,w:t.offsetWidth+d.w,h:t.offsetHeight+d.h}},o.getContentBox=function(t,i){t=n.byId(t);var s,a=i||r.getComputedStyle(t),c=t.clientWidth,d=o.getPadExtents(t,a),u=o.getBorderExtents(t,a);return c?(s=t.clientHeight,u.w=u.h=0):(c=t.offsetWidth,s=t.offsetHeight),e("opera")&&(d.l+=u.l,d.t+=u.t),{l:d.l,t:d.t,w:c-d.w-u.w,h:s-d.h-u.h}},o.setContentSize=function(e,t,r){e=n.byId(e);var i=t.w,a=t.h;if(c(e)){var d=o.getPadBorderExtents(e,r);i>=0&&(i+=d.w),a>=0&&(a+=d.h)}s(e,NaN,NaN,i,a)};var d={l:0,t:0,w:0,h:0};return o.setMarginBox=function(t,i,u){t=n.byId(t);var l=u||r.getComputedStyle(t),h=i.w,f=i.h,p=c(t)?d:o.getPadBorderExtents(t,l),m=o.getMarginExtents(t,l);if(e("webkit")&&a(t)){var g=t.style;h>=0&&!g.width&&(g.width="4px"),f>=0&&!g.height&&(g.height="4px")}h>=0&&(h=Math.max(h-p.w-m.w,0)),f>=0&&(f=Math.max(f-p.h-m.h,0)),s(t,i.l,i.t,h,f)},o.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},o.docScroll=function(n){n=n||t.doc;var r=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in r?{x:r.pageXOffset,y:r.pageYOffset}:(r=e("quirks")?t.body(n):n.documentElement)&&{x:o.fixIeBiDiScrollLeft(r.scrollLeft||0,n),y:r.scrollTop||0}},o.getIeDocumentElementOffset=function(e){return{x:0,y:0}},o.fixIeBiDiScrollLeft=function(n,r){r=r||t.doc;var i=e("ie");if(i&&!o.isBodyLtr(r)){var s=e("quirks"),a=s?t.body(r):r.documentElement,c=t.global;return 6==i&&!s&&c.frameElement&&a.scrollHeight>a.clientHeight&&(n+=a.clientLeft),i<8||s?n+a.clientWidth-a.scrollWidth:-n}return n},o.position=function(r,i){r=n.byId(r);var s=t.body(r.ownerDocument),a=r.getBoundingClientRect();if(a={x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top},e("ie")<9&&(a.x-=e("quirks")?s.clientLeft+s.offsetLeft:0,a.y-=e("quirks")?s.clientTop+s.offsetTop:0),i){var c=o.docScroll(r.ownerDocument);a.x+=c.x,a.y+=c.y}return a},o.getMarginSize=function(e,t){e=n.byId(e);var i=o.getMarginExtents(e,t||r.getComputedStyle(e)),s=e.getBoundingClientRect();return{w:s.right-s.left+i.w,h:s.bottom-s.top+i.h}},o.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!("pageX"in t)){var n=t.target,r=n&&n.ownerDocument||document,i=e("quirks")?r.body:r.documentElement;t.pageX=t.clientX+o.fixIeBiDiScrollLeft(i.scrollLeft||0,r),t.pageY=t.clientY+(i.scrollTop||0)}},o}),e,t),e.exports=o},"dojo/dom-prop":function(e,t,n){var r,o;r=[t,n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-style"]),n(n.dj.r.absMids["dojo/dom-construct"]),n(n.dj.r.absMids["dojo/_base/connect"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a){var c={},d=1,u=t._scopeName+"attrid";n.add("dom-textContent",(function(e,t,n){return"textContent"in n})),e.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"},e.get=function(t,r){t=o.byId(t);var i=r.toLowerCase(),s=e.names[i]||r;return"textContent"!=s||n("dom-textContent")?t[s]:function e(t){for(var n,r="",o=t.childNodes,i=0;n=o[i];i++)8!=n.nodeType&&(1==n.nodeType?r+=e(n):r+=n.nodeValue);return r}(t)},e.set=function(t,l,h){t=o.byId(t);var f=arguments.length;if(2==f&&"string"!=typeof l){for(var p in l)e.set(t,p,l[p]);return t}var m=l.toLowerCase(),g=e.names[m]||l;if("style"==g&&"string"!=typeof h)return i.set(t,h),t;if("innerHTML"==g)return n("ie")&&t.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(s.empty(t),t.appendChild(s.toDom(h,t.ownerDocument))):t[g]=h,t;if("textContent"==g&&!n("dom-textContent"))return s.empty(t),t.appendChild(t.ownerDocument.createTextNode(h)),t;if(r.isFunction(h)){var b=t[u];b||(b=d++,t[u]=b),c[b]||(c[b]={});var v=c[b][g];if(v)a.disconnect(v);else try{delete t[g]}catch(e){}return h?c[b][g]=a.connect(t,g,h):t[g]=null,t}return t[g]=h,t}}),e,t),e.exports=o},"dojo/dom-style":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/_base/window"])],o=n.dj.d(r,(function(e,t,n){var r,o,i={};r=e("webkit")?function(e){var t;if(1==e.nodeType){var n=e.ownerDocument.defaultView;!(t=n.getComputedStyle(e,null))&&e.style&&(e.style.display="",t=n.getComputedStyle(e,null))}return t||{}}:e("ie")&&(e("ie")<9||e("quirks"))?function(e){return 1==e.nodeType&&e.currentStyle?e.currentStyle:{}}:function(e){if(1===e.nodeType){var t=e.ownerDocument.defaultView;return(t.opener?t:n.global.window).getComputedStyle(e,null)||{}}return{}},i.getComputedStyle=r,o=e("ie")?function(e,t){if(!t)return 0;if("medium"==t)return 4;if(t.slice&&"px"==t.slice(-2))return parseFloat(t);var n=e.style,r=e.runtimeStyle,o=e.currentStyle,i=n.left,s=r.left;r.left=o.left;try{n.left=t,t=n.pixelLeft}catch(e){t=0}return n.left=i,r.left=s,t}:function(e,t){return parseFloat(t)||0},i.toPixelValue=o;var s="DXImageTransform.Microsoft.Alpha",a=function(e,t){try{return e.filters.item(s)}catch(e){return t?{}:null}},c=e("ie")<9||e("ie")<10&&e("quirks")?function(e){try{return a(e).Opacity/100}catch(e){return 1}}:function(e){return r(e).opacity},d=e("ie")<9||e("ie")<10&&e("quirks")?function(e,t){""===t&&(t=1);var n=100*t;if(1===t?(e.style.zoom="",a(e)&&(e.style.filter=e.style.filter.replace(new RegExp("\\s*progid:"+s+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,a(e)?a(e,1).Opacity=n:e.style.filter+=" progid:"+s+"(Opacity="+n+")",a(e,1).Enabled=!0),"tr"==e.tagName.toLowerCase())for(var r=e.firstChild;r;r=r.nextSibling)"td"==r.tagName.toLowerCase()&&d(r,t);return t}:function(e,t){return e.style.opacity=t},u={left:!0,top:!0},l=/margin|padding|width|height|max|min|offset/;function h(e,t,n){if(t=t.toLowerCase(),"auto"==n){if("height"==t)return e.offsetHeight;if("width"==t)return e.offsetWidth}if("fontweight"==t)switch(n){case 700:return"bold";case 400:default:return"normal"}return t in u||(u[t]=l.test(t)),u[t]?o(e,n):n}var f={cssFloat:1,styleFloat:1,float:1};return i.get=function(e,n){var r=t.byId(e),o=arguments.length,s="opacity"==n;if(2==o&&s)return c(r);n=f[n]?"cssFloat"in r.style?"cssFloat":"styleFloat":n;var a=i.getComputedStyle(r);return 1==o?a:h(r,n,a[n]||r.style[n])},i.set=function(e,n,r){var o=t.byId(e),s=arguments.length,a="opacity"==n;if(n=f[n]?"cssFloat"in o.style?"cssFloat":"styleFloat":n,3==s)return a?d(o,r):o.style[n]=r;for(var c in n)i.set(e,c,n[c]);return i.getComputedStyle(o)},i}),e,t),e.exports=o},"dojo/errors/CancelError":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/errors/create"])],o=n.dj.d(r,(function(e){return e("CancelError",null,null,{dojoType:"cancel"})}),e,t),e.exports=o},"dojo/errors/RequestError":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/errors/create"])],o=n.dj.d(r,(function(e){return e("RequestError",(function(e,t){this.response=t}))}),e,t),e.exports=o},"dojo/errors/RequestTimeoutError":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/errors/create"]),n(n.dj.r.absMids["dojo/errors/RequestError"])],o=n.dj.d(r,(function(e,t){return e("RequestTimeoutError",null,t,{dojoType:"timeout"})}),e,t),e.exports=o},"dojo/errors/create":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/lang"])],o=n.dj.d(r,(function(e){return function(t,n,r,o){r=r||Error;var i=function(e){if(r===Error){Error.captureStackTrace&&Error.captureStackTrace(this,i);var t,o=Error.call(this,e);for(t in o)o.hasOwnProperty(t)&&(this[t]=o[t]);this.message=e,this.stack=o.stack}else r.apply(this,arguments);n&&n.apply(this,arguments)};return i.prototype=e.delegate(r.prototype,o),i.prototype.name=t,i.prototype.constructor=i,i}}),e,t),e.exports=o},"dojo/has":function(e,t,n){var r,o;r=[n.dj.c(e.i),n.dj.m(e)],o=n.dj.d(r,(function(e,t){var n=e.has||function(){};if(!n("dojo-has-api")){var r="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,o=function(){return this}(),i=r&&document,s=i&&i.createElement("DiV"),a=t.config&&t.config()||{};(n=function(e){return"function"==typeof a[e]?a[e]=a[e](o,i,s):a[e]}).cache=a,n.add=function(e,t,r,o){return(void 0===a[e]||o)&&(a[e]=t),r&&n(e)},n.add("host-browser",r),n.add("host-node","object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8),n.add("host-rhino","function"==typeof load&&("function"==typeof Packages||"object"==typeof Packages)),n.add("dom",r),n.add("dojo-dom-ready-api",1),n.add("dojo-sniff",1)}if(n("host-browser")){n.add("dom-addeventlistener",!!document.addEventListener),n.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),n.add("touch-events","ontouchstart"in document),n.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),n.add("MSPointer",window.navigator.msPointerEnabled),n.add("device-width",screen.availWidth||innerWidth);var c=document.createElement("form");n.add("dom-attributes-explicit",0==c.attributes.length),n.add("dom-attributes-specified-flag",c.attributes.length>0&&c.attributes.length<40)}return n.clearElement=function(e){return e.innerHTML="",e},n.normalize=function(e,t){var r=e.match(/[\?:]|[^:\?]*/g),o=0,i=function(e){var t=r[o++];return":"==t?0:"?"==r[o++]?!e&&n(t)?i():(i(!0),i(e)):t||0};return(e=i())&&t(e)},n.load=function(e,t,n){e?t([e],n):n()},n}),e,t),e.exports=o},"dojo/io-query":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/lang"])],o=n.dj.d(r,(function(e){var t={};return{objectToQuery:function(n){var r=encodeURIComponent,o=[];for(var i in n){var s=n[i];if(s!=t[i]){var a=r(i)+"=";if(e.isArray(s))for(var c=0,d=s.length;c<d;++c)o.push(a+r(s[c]));else o.push(a+r(s))}}return o.join("&")},queryToObject:function(t){for(var n,r,o,i=decodeURIComponent,s=t.split("&"),a={},c=0,d=s.length;c<d;++c)if((o=s[c]).length){var u=o.indexOf("=");u<0?(n=i(o),r=""):(n=i(o.slice(0,u)),r=i(o.slice(u+1))),"string"==typeof a[n]&&(a[n]=[a[n]]),e.isArray(a[n])?a[n].push(r):a[n]=r}return a}}}),e,t),e.exports=o},"dojo/json":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,(function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},(function(e,t){return t||1}))),has("json-stringify"))return JSON;var escapeString=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(e,t,n){return"string"==typeof t&&(n=t,t=null),function e(r,o,i){t&&(r=t(i,r));var s,a=typeof r;if("number"==a)return isFinite(r)?r+"":"null";if("boolean"==a)return r+"";if(null===r)return"null";if("string"==typeof r)return escapeString(r);if("function"!=a&&"undefined"!=a){if("function"==typeof r.toJSON)return e(r.toJSON(i),o,i);if(r instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,(function(e,t,n){var o=r["getUTC"+t]()+(n?1:0);return o<10?"0"+o:o}));if(r.valueOf()!==r)return e(r.valueOf(),o,i);var c=n?o+n:"",d=n?" ":"",u=n?"\n":"";if(r instanceof Array){var l=r.length,h=[];for(i=0;i<l;i++){"string"!=typeof(s=e(r[i],c,i))&&(s="null"),h.push(u+c+s)}return"["+h.join(",")+u+o+"]"}var f=[];for(i in r){var p;if(r.hasOwnProperty(i)){if("number"==typeof i)p='"'+i+'"';else{if("string"!=typeof i)continue;p=escapeString(i)}if("string"!=typeof(s=e(r[i],c,i)))continue;f.push(u+c+p+":"+d+s)}}return"{"+f.join(",")+u+o+"}"}}(e,"","")}}}),module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/keys":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/sniff"])],o=n.dj.d(r,(function(e,t){return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:t("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}}),e,t),e.exports=o},"dojo/mouse":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/_base/window"])],o=n.dj.d(r,(function(e,t,n,r,o){var i,s;function a(e,n){var o=function(o,i){return t(o,e,(function(e){return n?n(e,i):r.isDescendant(e.relatedTarget,o)?void 0:i.call(this,e)}))};return o.bubble=function(t){return a(e,(function(e,n){var r=t(e.target),o=e.relatedTarget;if(r&&r!=(o&&1==o.nodeType&&t(o)))return n.call(r,e)}))},o}return n.add("dom-quirks",o.doc&&"BackCompat"==o.doc.compatMode),n.add("events-mouseenter",o.doc&&"onmouseenter"in o.doc.createElement("div")),n.add("events-mousewheel",o.doc&&"onmousewheel"in o.doc),i=n("dom-quirks")&&n("ie")||!n("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){return 1&e.button},isMiddle:function(e){return 4&e.button},isRight:function(e){return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){return e.button==t},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}},e.mouseButtons=i,s=n("events-mousewheel")?"mousewheel":function(e,n){return t(e,"DOMMouseScroll",(function(e){e.wheelDelta=-e.detail,n.call(this,e)}))},{_eventHandler:a,enter:a("mouseover"),leave:a("mouseout"),wheel:s,isLeft:i.isLeft,isMiddle:i.isMiddle,isRight:i.isRight}}),e,t),e.exports=o},"dojo/on":function(e,t,n){var r,o;r=[n.dj.h("dom-addeventlistener?:dojo/aspect"),n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/sniff"])],o=n.dj.d(r,(function(e,t,n){"use strict";if(n("dom")){var r=window.ScriptEngineMajorVersion;n.add("jscript",r&&r()+ScriptEngineMinorVersion()/10),n.add("event-orientationchange",n("touch")&&!n("android")),n.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),n.add("event-focusin",(function(e,t,n){return"onfocusin"in n})),n("touch")&&n.add("touch-can-modify-event-delegate",(function(){var e=function(){};e.prototype=document.createEvent("MouseEvents");try{var t=new e;return t.target=null,null===t.target}catch(e){return!1}}))}var o=function(e,t,n,r){return"function"!=typeof e.on||"function"==typeof t||e.nodeType?o.parse(e,t,n,s,r,this):e.on(t,n)};o.pausable=function(e,t,n,r){var i,s=o(e,t,(function(){if(!i)return n.apply(this,arguments)}),r);return s.pause=function(){i=!0},s.resume=function(){i=!1},s},o.once=function(e,t,n,r){var i=o(e,t,(function(){return i.remove(),n.apply(this,arguments)}));return i},o.parse=function(e,t,n,r,i,s){var a;if(t.call)return t.call(s,e,n);if(t instanceof Array?a=t:t.indexOf(",")>-1&&(a=t.split(/\s*,\s*/)),a){for(var c,d=[],u=0;c=a[u++];)d.push(o.parse(e,c,n,r,i,s));return d.remove=function(){for(var e=0;e<d.length;e++)d[e].remove()},d}return r(e,t,n,i,s)};var i=/^touch/;function s(e,t,r,s,a){var c=t.match(/(.*):(.*)/);if(c)return t=c[2],c=c[1],o.selector(c,t).call(a,e,r);if(n("touch")&&(i.test(t)&&(r=w(r)),n("event-orientationchange")||"orientationchange"!=t||(t="resize",e=window,r=w(r))),f&&(r=f(r)),e.addEventListener){var d=t in l,u=d?l[t]:t;return e.addEventListener(u,r,d),{remove:function(){e.removeEventListener(u,r,d)}}}if(t="on"+t,g&&e.attachEvent)return g(e,t,r);throw new Error("Target must be an event emitter")}function a(){this.cancelable=!1,this.defaultPrevented=!0}function c(){this.bubbles=!1}o.matches=function(e,n,r,o,i){for(i=i&&"function"==typeof i.matches?i:t.query,o=!1!==o,1!=e.nodeType&&(e=e.parentNode);!i.matches(e,n,r);)if(e==r||!1===o||!(e=e.parentNode)||1!=e.nodeType)return!1;return e},o.selector=function(e,t,n){return function(r,i){var s="function"==typeof e?{matches:e}:this,a=t.bubble;function c(t){return o.matches(t,e,r,n,s)}return a?o(r,a(c),i):o(r,t,(function(e){var t=c(e.target);if(t)return e.selectorTarget=t,i.call(t,e)}))}};var d=[].slice,u=o.emit=function(e,t,n){var r=d.call(arguments,2),o="on"+t;if("parentNode"in e){var i=r[0]={};for(var s in n)i[s]=n[s];i.preventDefault=a,i.stopPropagation=c,i.target=e,i.type=t,n=i}do{e[o]&&e[o].apply(e,r)}while(n&&n.bubbles&&(e=e.parentNode));return n&&n.cancelable&&n},l=n("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!n("event-stopimmediatepropagation"))var h=function(){this.immediatelyStopped=!0,this.modified=!0},f=function(e){return function(t){if(!t.immediatelyStopped)return t.stopImmediatePropagation=h,e.apply(this,arguments)}};if(n("dom-addeventlistener"))o.emit=function(e,t,n){if(e.dispatchEvent&&document.createEvent){var r=e.ownerDocument||document,i=r.createEvent("HTMLEvents");for(var s in i.initEvent(t,!!n.bubbles,!!n.cancelable),n)s in i||(i[s]=n[s]);return e.dispatchEvent(i)&&i}return u.apply(o,arguments)};else{o._fixEvent=function(e,t){e||(e=(t&&(t.ownerDocument||t.document||t).parentWindow||window).event);if(!e)return e;try{p&&e.type==p.type&&e.srcElement==p.target&&(e=p)}catch(e){}if(!e.target)switch(e.target=e.srcElement,e.currentTarget=t||e.srcElement,"mouseover"==e.type&&(e.relatedTarget=e.fromElement),"mouseout"==e.type&&(e.relatedTarget=e.toElement),e.stopPropagation||(e.stopPropagation=v,e.preventDefault=_),e.type){case"keypress":var n="charCode"in e?e.charCode:e.keyCode;10==n?(n=0,e.keyCode=13):13==n||27==n?n=0:3==n&&(n=99),e.charCode=n,b(e)}return e};var p,m=function(e){this.handle=e};m.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var g=function(t,r,i){if(i=function(e){return function(t){t=o._fixEvent(t,this);var n=e.call(this,t);return t.modified&&(p||setTimeout((function(){p=null})),p=t),n}}(i),((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||n("jscript")<5.8)&&!n("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var s,a=t[r];if(!a||!a.listeners){var c=a;(a=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}")).listeners=[],t[r]=a,a.global=this,c&&a.listeners.push(_dojoIEListeners_.push(c)-1)}return a.listeners.push(s=a.global._dojoIEListeners_.push(i)-1),new m(s)}return e.after(t,r,i,!0)},b=function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode},v=function(){this.cancelBubble=!0},_=o._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(n("touch"))var y=function(){},j=window.orientation,w=function(e){return function(t){var r=t.corrected;if(!r){var o=t.type;try{delete t.type}catch(e){}if(t.type){if(n("touch-can-modify-event-delegate"))y.prototype=t,r=new y;else for(var i in r={},t)r[i]=t[i];r.preventDefault=function(){t.preventDefault()},r.stopPropagation=function(){t.stopPropagation()}}else(r=t).type=o;if(t.corrected=r,"resize"==o)return j==window.orientation?null:(j=window.orientation,r.type="orientationchange",e.call(this,r));"rotation"in r||(r.rotation=0,r.scale=1);var s=r.changedTouches[0];for(var a in s)delete r[a],r[a]=s[a]}return e.call(this,r)}};return o}),e,t),e.exports=o},"dojo/promise/Promise":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/lang"])],o=n.dj.d(r,(function(e){"use strict";function t(){throw new TypeError("abstract")}return e.extend((function(){}),{then:function(e,n,r){t()},cancel:function(e,n){t()},isResolved:function(){t()},isRejected:function(){t()},isFulfilled:function(){t()},isCanceled:function(){t()},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})}),e,t),e.exports=o},"dojo/promise/all":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/when"])],o=n.dj.d(r,(function(e,t,n){"use strict";var r=e.some;return function(e){var o,i,s;e instanceof Array?i=e:e&&"object"==typeof e&&(o=e);var a=[];if(o){for(var c in i=[],o)Object.hasOwnProperty.call(o,c)&&(a.push(c),i.push(o[c]));s={}}else i&&(s=[]);if(!i||!i.length)return(new t).resolve(s);var d=new t;d.promise.always((function(){s=a=null}));var u=i.length;return r(i,(function(e,t){return o||a.push(t),n(e,(function(e){d.isFulfilled()||(s[a[t]]=e,0==--u&&d.resolve(s))}),d.reject),d.isFulfilled()})),d.promise}}),e,t),e.exports=o},"dojo/request/handlers":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/json"]),n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf"])],o=n.dj.d(r,(function(e,t,n,r){var o;if(r.add("activex","undefined"!=typeof ActiveXObject),r.add("dom-parser",(function(e){return"DOMParser"in e})),r("activex")){var i,s=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];o=function(e){var t=e.data,o=e.text;function a(e){try{var n=new ActiveXObject(e);n.async=!1,n.loadXML(o),t=n,i=e}catch(e){return!1}return!0}return t&&r("dom-qsa2.1")&&!t.querySelectorAll&&r("dom-parser")&&(t=(new DOMParser).parseFromString(o,"application/xml")),t&&t.documentElement||i&&a(i)||n.some(s,a),t}}var a=function(e){return r("native-xhr2-blob")||"blob"!==e.options.handleAs||"undefined"==typeof Blob?e.xhr.response:new Blob([e.xhr.response],{type:e.xhr.getResponseHeader("Content-Type")})},c={javascript:function(e){return t.eval(e.text||"")},json:function(t){return e.parse(t.text||null)},xml:o,blob:a,arraybuffer:a,document:a};function d(e){var t=c[e.options.handleAs];return e.data=t?t(e):e.data||e.text,e}return d.register=function(e,t){c[e]=t},d}),e,t),e.exports=o},"dojo/request/script":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__.dj.m(module),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/watch"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/util"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/array"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/lang"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/on"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom-construct"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/window"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,(function(module,watch,util,kernel,array,lang,on,dom,domConstruct,has,win){has.add("script-readystatechange",(function(e,t){return void 0!==t.createElement("script").onreadystatechange&&(void 0===e.opera||"[object Opera]"!==e.opera.toString())}));var mid=module.id.replace(/[\/\.\-]/g,"_"),counter=0,loadEvent=has("script-readystatechange")?"readystatechange":"load",readyRegExp=/complete|loaded/,callbacks=kernel.global[mid+"_callbacks"]={},deadScripts=[];function attach(e,t,n){var r=n||win.doc,o=r.createElement("script");return o.type="text/javascript",o.src=t,o.id=e,o.async=!0,o.charset="utf-8",r.getElementsByTagName("head")[0].appendChild(o)}function remove(e,t,n){domConstruct.destroy(dom.byId(e,t)),callbacks[e]&&(n?callbacks[e]=function(){delete callbacks[e]}:delete callbacks[e])}function _addDeadScript(e){var t=e.response.options,n=t.ioArgs?t.ioArgs.frameDoc:t.frameDoc;deadScripts.push({id:e.id,frameDoc:n}),t.ioArgs&&(t.ioArgs.frameDoc=null),t.frameDoc=null}function canceler(e,t){e.canDelete&&script._remove(e.id,t.options.frameDoc,!0)}function isValid(e){return deadScripts&&deadScripts.length&&(array.forEach(deadScripts,(function(e){script._remove(e.id,e.frameDoc),e.frameDoc=null})),deadScripts=[]),!e.options.jsonp||!e.data}function isReadyScript(e){return!!this.scriptLoaded}function isReadyCheckString(response){var checkString=response.options.checkString;return checkString&&eval("typeof("+checkString+') !== "undefined"')}function handleResponse(e,t){this.canDelete&&_addDeadScript(this),t?this.reject(t):this.resolve(e)}function script(e,t,n){var r=util.parseArgs(e,util.deepCopy({},t));e=r.url,t=r.options;var o=util.deferred(r,canceler,isValid,t.jsonp?null:t.checkString?isReadyCheckString:isReadyScript,handleResponse);(lang.mixin(o,{id:mid+counter++,canDelete:!1}),t.jsonp)&&(new RegExp("[?&]"+t.jsonp+"=").test(e)||(e+=(~e.indexOf("?")?"&":"?")+t.jsonp+"="+(t.frameDoc?"parent.":"")+mid+"_callbacks."+o.id),o.canDelete=!0,callbacks[o.id]=function(e){r.data=e,o.handleResponse(r)});if(util.notify&&util.notify.emit("send",r,o.promise.cancel),!t.canAttach||t.canAttach(o)){var i=script._attach(o.id,e,t.frameDoc);if(!t.jsonp&&!t.checkString)var s=on(i,loadEvent,(function(e){("load"===e.type||readyRegExp.test(i.readyState))&&(s.remove(),o.scriptLoaded=e)}))}return on.once(i,"error",(function(e){o.reject(e),script._remove(o.id,t.frameDoc,!0)})),watch(o),n?o:o.promise}return script.get=script,script._attach=attach,script._remove=remove,script._callbacksProperty=mid+"_callbacks",script}),module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/request/util":function(e,t,n){var r,o;r=[t,n(n.dj.r.absMids["dojo/errors/RequestError"]),n(n.dj.r.absMids["dojo/errors/CancelError"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/io-query"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/promise/Promise"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a){e.deepCopy=function(t,n){for(var r in n){var o=t[r],i=n[r];o!==i&&(o&&"object"==typeof o&&i&&"object"==typeof i?e.deepCopy(o,i):t[r]=i)}return t},e.deepCreate=function(t,n){n=n||{};var r,o,i=s.delegate(t);for(r in t)(o=t[r])&&"object"==typeof o&&(i[r]=e.deepCreate(o,n[r]));return e.deepCopy(i,n)};var c=Object.freeze||function(e){return e};function d(e){return c(e)}function u(e){return void 0!==e.data?e.data:e.text}e.deferred=function(o,i,l,h,f,p){var m=new r((function(e){return i&&i(m,o),e&&(e instanceof t||e instanceof n)?e:new n("Request canceled",o)}));m.response=o,m.isValid=l,m.isReady=h,m.handleResponse=f;var g=m.then(d).otherwise((function(e){throw e.response=o,e}));e.notify&&g.then(s.hitch(e.notify,"emit","load"),s.hitch(e.notify,"emit","error"));var b=g.then(u),v=new a;for(var _ in b)b.hasOwnProperty(_)&&(v[_]=b[_]);return v.response=g,c(v),p&&m.then((function(e){p.call(m,e)}),(function(e){p.call(m,o,e)})),m.promise=v,m.then=v.then,m},e.addCommonMethods=function(e,t){i.forEach(t||["GET","POST","PUT","DELETE"],(function(t){e[("DELETE"===t?"DEL":t).toLowerCase()]=function(n,r){return(r=s.delegate(r||{})).method=t,e(n,r)}}))},e.parseArgs=function(e,t,n){var r=t.data,i=t.query;return r&&!n&&("object"!=typeof r||r instanceof ArrayBuffer||r instanceof Blob||(t.data=o.objectToQuery(r))),i?("object"==typeof i&&(i=o.objectToQuery(i)),t.preventCache&&(i+=(i?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(i="request.preventCache="+ +new Date),e&&i&&(e+=(~e.indexOf("?")?"&":"?")+i),{url:e,options:t,getHeader:function(e){return null}}},e.checkStatus=function(e){return(e=e||0)>=200&&e<300||304===e||1223===e||!e}}),e,t),e.exports=o},"dojo/request/watch":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/request/util"]),n(n.dj.r.absMids["dojo/errors/RequestTimeoutError"]),n(n.dj.r.absMids["dojo/errors/CancelError"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/window"]),n.dj.h("dom-addeventlistener?:dojo/on")],o=n.dj.d(r,(function(e,t,n,r,o,i){var s=null,a=[];function c(){for(var e,n=+new Date,r=0;r<a.length&&(e=a[r]);r++){var o=e.response,i=o.options;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(o)?(a.splice(r--,1),d._onAction&&d._onAction()):e.isReady&&e.isReady(o)?(a.splice(r--,1),e.handleResponse(o),d._onAction&&d._onAction()):e.startTime&&e.startTime+(i.timeout||0)<n&&(a.splice(r--,1),e.cancel(new t("Timeout exceeded",o)),d._onAction&&d._onAction())}d._onInFlight&&d._onInFlight(e),a.length||(clearInterval(s),s=null)}function d(e){e.response.options.timeout&&(e.startTime=+new Date),e.isFulfilled()||(a.push(e),s||(s=setInterval(c,50)),e.response.options.sync&&c())}return d.cancelAll=function(){try{r.forEach(a,(function(e){try{e.cancel(new n("All requests canceled."))}catch(e){}}))}catch(e){}},o&&i&&o.doc.attachEvent&&i(o.global,"unload",(function(){d.cancelAll()})),d}),e,t),e.exports=o},"dojo/request/xhr":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/errors/RequestError"]),n(n.dj.r.absMids["dojo/request/watch"]),n(n.dj.r.absMids["dojo/request/handlers"]),n(n.dj.r.absMids["dojo/request/util"]),n(n.dj.r.absMids["dojo/has"])],o=n.dj.d(r,(function(e,t,n,r,o){o.add("native-xhr",(function(){return"undefined"!=typeof XMLHttpRequest})),o.add("dojo-force-activex-xhr",(function(){return o("activex")&&"file:"===window.location.protocol})),o.add("native-xhr2",(function(){if(o("native-xhr")&&!o("dojo-force-activex-xhr")){var e=new XMLHttpRequest;return void 0!==e.addEventListener&&("undefined"==typeof opera||void 0!==e.upload)}})),o.add("native-formdata",(function(){return"undefined"!=typeof FormData})),o.add("native-response-type",(function(){return o("native-xhr")&&void 0!==(new XMLHttpRequest).responseType})),o.add("native-xhr2-blob",(function(){if(o("native-response-type")){var e=new XMLHttpRequest;e.open("GET","/",!0),e.responseType="blob";var t=e.responseType;return e.abort(),"blob"===t}}));var i,s,a,c,d={blob:o("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function u(t,o){var i,s=t.xhr;t.status=t.xhr.status;try{t.text=s.responseText}catch(e){}if("xml"===t.options.handleAs&&(t.data=s.responseXML),!o)try{n(t)}catch(e){o=e}if(o)this.reject(o);else{try{n(t)}catch(e){i=e}r.checkStatus(s.status)?i?this.reject(i):this.resolve(t):i?(o=new e("Unable to load "+t.url+" status: "+s.status+" and an error in handleAs: transformation of response",t),this.reject(o)):(o=new e("Unable to load "+t.url+" status: "+s.status,t),this.reject(o))}}function l(e){return this.xhr.getResponseHeader(e)}o("native-xhr2")?(i=function(e){return!this.isFulfilled()},c=function(e,t){t.xhr.abort()},a=function(t,n,r){function o(e){n.handleResponse(r)}function i(t){var o=t.target,i=new e("Unable to load "+r.url+" status: "+o.status,r);n.handleResponse(r,i)}function s(e){e.lengthComputable?(r.loaded=e.loaded,r.total=e.total,n.progress(r)):3===r.xhr.readyState&&(r.loaded="loaded"in e?e.loaded:e.position,n.progress(r))}return t.addEventListener("load",o,!1),t.addEventListener("error",i,!1),t.addEventListener("progress",s,!1),function(){t.removeEventListener("load",o,!1),t.removeEventListener("error",i,!1),t.removeEventListener("progress",s,!1),t=null}}):(i=function(e){return e.xhr.readyState},s=function(e){return 4===e.xhr.readyState},c=function(e,t){var n=t.xhr,r=typeof n.abort;"function"!==r&&"object"!==r&&"unknown"!==r||n.abort()});var h={data:null,query:null,sync:!1,method:"GET"};function f(n,p,m){var g=o("native-formdata")&&p&&p.data&&p.data instanceof FormData,b=r.parseArgs(n,r.deepCreate(h,p),g);n=b.url,p=b.options;var v,_=r.deferred(b,c,i,s,u,(function(){v&&v()})),y=b.xhr=f._create();if(!y)return _.cancel(new e("XHR was not created")),m?_:_.promise;b.getHeader=l,a&&(v=a(y,_,b));var j=p.data,w=!p.sync,E=p.method;try{y.open(E,n,w,p.user||void 0,p.password||void 0),p.withCredentials&&(y.withCredentials=p.withCredentials),o("native-response-type")&&p.handleAs in d&&(y.responseType=d[p.handleAs]);var M=p.headers,T=!g&&"application/x-www-form-urlencoded";if(M)for(var x in M)"content-type"===x.toLowerCase()?T=M[x]:M[x]&&y.setRequestHeader(x,M[x]);T&&!1!==T&&y.setRequestHeader("Content-Type",T),M&&"X-Requested-With"in M||y.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.notify&&r.notify.emit("send",b,_.promise.cancel),y.send(j)}catch(e){_.reject(e)}return t(_),y=null,m?_:_.promise}if(f._create=function(){throw new Error("XMLHTTP not available")},o("native-xhr")&&!o("dojo-force-activex-xhr"))f._create=function(){return new XMLHttpRequest};else if(o("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),f._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP"),f._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(e){}}return r.addCommonMethods(f),f}),e,t),e.exports=o},"dojo/sniff":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/has"])],o=n.dj.d(r,(function(e){if(e("host-browser")){var t=navigator,n=t.userAgent,r=t.appVersion,o=parseFloat(r);if(e.add("air",n.indexOf("AdobeAIR")>=0),e.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),e.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),e.add("khtml",r.indexOf("Konqueror")>=0?o:void 0),e.add("edge",parseFloat(n.split("Edge/")[1])||void 0),e.add("opr",parseFloat(n.split("OPR/")[1])||void 0),e.add("webkit",!e("wp")&&!e("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),e.add("chrome",!e("edge")&&!e("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),e.add("android",!e("wp")&&parseFloat(n.split("Android ")[1])||void 0),e.add("safari",!(r.indexOf("Safari")>=0)||e("wp")||e("chrome")||e("android")||e("edge")||e("opr")?void 0:parseFloat(r.split("Version/")[1])),e.add("mac",r.indexOf("Macintosh")>=0),e.add("quirks","BackCompat"==document.compatMode),!e("wp")&&n.match(/(iPhone|iPod|iPad)/)){var i=RegExp.$1.replace(/P/,"p"),s=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",a=parseFloat(s.replace(/_/,".").replace(/_/g,""));e.add(i,a),e.add("ios",a)}if(e.add("bb",(n.indexOf("BlackBerry")>=0||n.indexOf("BB10")>=0)&&parseFloat(n.split("Version/")[1])||void 0),e.add("trident",parseFloat(r.split("Trident/")[1])||void 0),e.add("svg","undefined"!=typeof SVGAngle),!e("webkit")){if(n.indexOf("Opera")>=0&&e.add("opera",o>=9.8&&parseFloat(n.split("Version/")[1])||o),!(n.indexOf("Gecko")>=0)||e("wp")||e("khtml")||e("trident")||e("edge")||e.add("mozilla",o),e("mozilla")&&e.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0),document.all&&!e("opera")){var c=parseFloat(r.split("MSIE ")[1])||void 0,d=document.documentMode;d&&5!=d&&Math.floor(c)!=d&&(c=d),e.add("ie",c)}e.add("wii","undefined"!=typeof opera&&opera.wiiremote)}}return e}),e,t),e.exports=o},"dojo/topic":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/Evented"])],o=n.dj.d(r,(function(e){var t=new e;return{publish:function(e,n){return t.emit.apply(t,arguments)},subscribe:function(e,n){return t.on.apply(t,arguments)}}}),e,t),e.exports=o},"dojo/when":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/promise/Promise"])],o=n.dj.d(r,(function(e,t){"use strict";return function(n,r,o,i){var s=n&&"function"==typeof n.then,a=s&&n instanceof t;if(!s)return arguments.length>1?r?r(n):n:(new e).resolve(n);if(!a){var c=new e(n.cancel);n.then(c.resolve,c.reject,c.progress),n=c.promise}return r||o||i?n.then(r,o,i):n}}),e,t),e.exports=o},"dojox/cometd/AckExtension":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojox/cometd/cometd"])],o=n.dj.d(r,(function(e){return e.AckExtension=function(){var e,t=!1,n=-1;function r(t,n){e._debug(t,n)}this.registered=function(t,n){e=n,r("AckExtension: executing registration callback")},this.unregistered=function(){r("AckExtension: executing unregistration callback"),e=null},this.incoming=function(e){var o=e.channel;if("/meta/handshake"==o)r("AckExtension: server supports acks",t=e.ext&&e.ext.ack);else if(t&&"/meta/connect"==o&&e.successful){var i=e.ext;i&&"number"==typeof i.ack&&r("AckExtension: server sent ack id",n=i.ack)}return e},this.outgoing=function(o){var i=o.channel;return"/meta/handshake"==i?(o.ext||(o.ext={}),o.ext.ack=e&&!1!==e.ackEnabled,n=-1):t&&"/meta/connect"==i&&(o.ext||(o.ext={}),o.ext.ack=n,r("AckExtension: client sending ack id",n)),o}}}),e,t),e.exports=o},"dojox/cometd/cometd":function(e,t,n){var r;void 0===(r=function(){this.org=this.org||{};var e=this.org;return e.cometd={},e.cometd.JSON={},e.cometd.JSON.toJSON=e.cometd.JSON.fromJSON=function(e){throw"Abstract"},e.cometd.Utils={},e.cometd.Utils.isString=function(e){return null!=e&&("string"==typeof e||e instanceof String)},e.cometd.Utils.isArray=function(e){return null!=e&&e instanceof Array},e.cometd.Utils.inArray=function(e,t){for(var n=0;n<t.length;++n)if(e===t[n])return n;return-1},e.cometd.Utils.setTimeout=function(e,t,n){return window.setTimeout((function(){try{t()}catch(n){e._debug("Exception invoking timed function",t,n)}}),n)},e.cometd.Utils.clearTimeout=function(e){window.clearTimeout(e)},e.cometd.TransportRegistry=function(){var e=[],t={};this.getTransportTypes=function(){return e.slice(0)},this.findTransportTypes=function(n,r,o){for(var i=[],s=0;s<e.length;++s){var a=e[s];!0===t[a].accept(n,r,o)&&i.push(a)}return i},this.negotiateTransport=function(n,r,o,i){for(var s=0;s<e.length;++s)for(var a=e[s],c=0;c<n.length;++c)if(a===n[c]){var d=t[a];if(!0===d.accept(r,o,i))return d}return null},this.add=function(n,r,o){for(var i=!1,s=0;s<e.length;++s)if(e[s]===n){i=!0;break}return i||("number"!=typeof o?e.push(n):e.splice(o,0,n),t[n]=r),!i},this.find=function(n){for(var r=0;r<e.length;++r)if(e[r]===n)return t[n];return null},this.remove=function(n){for(var r=0;r<e.length;++r)if(e[r]===n){e.splice(r,1);var o=t[n];return delete t[n],o}return null},this.clear=function(){e=[],t={}},this.reset=function(){for(var n=0;n<e.length;++n)t[e[n]].reset()}},e.cometd.Transport=function(){var t,n;this.registered=function(e,r){t=e,n=r},this.unregistered=function(){t=null,n=null},this._debug=function(){n._debug.apply(n,arguments)},this._mixin=function(){return n._mixin.apply(n,arguments)},this.getConfiguration=function(){return n.getConfiguration()},this.getAdvice=function(){return n.getAdvice()},this.setTimeout=function(t,r){return e.cometd.Utils.setTimeout(n,t,r)},this.clearTimeout=function(t){e.cometd.Utils.clearTimeout(t)},this.convertToMessages=function(t){if(e.cometd.Utils.isString(t))try{return e.cometd.JSON.fromJSON(t)}catch(e){throw this._debug("Could not convert to JSON the following string",'"'+t+'"'),e}if(e.cometd.Utils.isArray(t))return t;if(null==t)return[];if(t instanceof Object)return[t];throw"Conversion Error "+t+", typeof "+typeof t},this.accept=function(e,t,n){throw"Abstract"},this.getType=function(){return t},this.send=function(e,t){throw"Abstract"},this.reset=function(){this._debug("Transport",t,"reset")},this.abort=function(){this._debug("Transport",t,"aborted")},this.toString=function(){return this.getType()}},e.cometd.Transport.derive=function(e){function t(){}return t.prototype=e,new t},e.cometd.RequestTransport=function(){var t=new e.cometd.Transport,n=e.cometd.Transport.derive(t),r=0,o=null,i=[],s=[];function a(e){for(;s.length>0;){var t=s[0],n=t[0],r=t[1];if(n.url!==e.url||n.sync!==e.sync)break;s.shift(),e.messages=e.messages.concat(n.messages),this._debug("Coalesced",n.messages.length,"messages from request",r.id)}}function c(e,t){if(this.transportSend(e,t),t.expired=!1,!e.sync){var n=this.getConfiguration().maxNetworkDelay,r=n;!0===t.metaConnect&&(r+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"waiting at most",r,"ms for the response, maxNetworkDelay",n);var o=this;t.timeout=this.setTimeout((function(){t.expired=!0,t.xhr&&t.xhr.abort();var n="Request "+t.id+" of transport "+o.getType()+" exceeded "+r+" ms max network delay";o._debug(n),o.complete(t,!1,t.metaConnect),e.onFailure(t.xhr,e.messages,"timeout",n)}),r)}}function d(e){var t=++r,n={id:t,metaConnect:!1};i.length<this.getConfiguration().maxConnections-1?(i.push(n),c.call(this,e,n)):(this._debug("Transport",this.getType(),"queueing request",t,"envelope",e),s.push([e,n]))}function u(e){var t=e.id;if(this._debug("Transport",this.getType(),"metaConnect complete, request",t),null!==o&&o.id!==t)throw"Longpoll request mismatch, completing request "+t;o=null}function l(t,n){var r=e.cometd.Utils.inArray(t,i);if(r>=0&&i.splice(r,1),s.length>0){var o=s.shift(),c=o[0],u=o[1];if(this._debug("Transport dequeued request",u.id),n)this.getConfiguration().autoBatch&&a.call(this,c),d.call(this,c),this._debug("Transport completed request",t.id,c);else{var l=this;this.setTimeout((function(){l.complete(u,!1,u.metaConnect),c.onFailure(u.xhr,c.messages,"error","Previous request failed")}),0)}}}function h(e){if(null!==o)throw"Concurrent metaConnect requests not allowed, request id="+o.id+" not yet completed";var t=++r;this._debug("Transport",this.getType(),"metaConnect send, request",t,"envelope",e);var n={id:t,metaConnect:!0};c.call(this,e,n),o=n}return n.complete=function(e,t,n){n?u.call(this,e):l.call(this,e,t)},n.transportSend=function(e,t){throw"Abstract"},n.transportSuccess=function(e,t,n){t.expired||(this.clearTimeout(t.timeout),this.complete(t,!0,t.metaConnect),n&&n.length>0?e.onSuccess(n):e.onFailure(t.xhr,e.messages,"Empty HTTP response"))},n.transportFailure=function(e,t,n,r){t.expired||(this.clearTimeout(t.timeout),this.complete(t,!1,t.metaConnect),e.onFailure(t.xhr,e.messages,n,r))},n.send=function(e,t){t?h.call(this,e):d.call(this,e)},n.abort=function(){t.abort();for(var e=0;e<i.length;++e){var n=i[e];this._debug("Aborting request",n),n.xhr&&n.xhr.abort()}o&&(this._debug("Aborting metaConnect request",o),o.xhr&&o.xhr.abort()),this.reset()},n.reset=function(){t.reset(),o=null,i=[],s=[]},n},e.cometd.LongPollingTransport=function(){var t=new e.cometd.RequestTransport,n=e.cometd.Transport.derive(t),r=!0;return n.accept=function(e,t,n){return r||!t},n.xhrSend=function(e){throw"Abstract"},n.transportSend=function(t,n){this._debug("Transport",this.getType(),"sending request",n.id,"envelope",t);var o=this;try{var i=!0;n.xhr=this.xhrSend({transport:this,url:t.url,sync:t.sync,headers:this.getConfiguration().requestHeaders,body:e.cometd.JSON.toJSON(t.messages),onSuccess:function(e){o._debug("Transport",o.getType(),"received response",e);var i=!1;try{var s=o.convertToMessages(e);0===s.length?(r=!1,o.transportFailure(t,n,"no response",null)):(i=!0,o.transportSuccess(t,n,s))}catch(e){o._debug(e),i||(r=!1,o.transportFailure(t,n,"bad response",e))}},onError:function(e,s){r=!1,i?o.setTimeout((function(){o.transportFailure(t,n,e,s)}),0):o.transportFailure(t,n,e,s)}}),i=!1}catch(e){r=!1,this.setTimeout((function(){o.transportFailure(t,n,"error",e)}),0)}},n.reset=function(){t.reset(),r=!0},n},e.cometd.CallbackPollingTransport=function(){var t=new e.cometd.RequestTransport,n=e.cometd.Transport.derive(t);return n.accept=function(e,t,n){return!0},n.jsonpSend=function(e){throw"Abstract"},n.transportSend=function(t,n){for(var r=this,o=0,i=t.messages.length,s=[];i>0;){var a=e.cometd.JSON.toJSON(t.messages.slice(o,o+i)),c=t.url.length+encodeURI(a).length;if(c>2e3){if(1===i){var d="Bayeux message too big ("+c+" bytes, max is 2000) for transport "+this.getType();return void this.setTimeout((function(){r.transportFailure(t,n,"error",d)}),0)}--i}else s.push(i),o+=i,i=t.messages.length-o}var u=t;if(s.length>1){var l=0,h=s[0];this._debug("Transport",this.getType(),"split",t.messages.length,"messages into",s.join(" + ")),(u=this._mixin(!1,{},t)).messages=t.messages.slice(l,h),u.onSuccess=t.onSuccess,u.onFailure=t.onFailure;for(var f=1;f<s.length;++f){var p=this._mixin(!1,{},t);l=h,h+=s[f],p.messages=t.messages.slice(l,h),p.onSuccess=t.onSuccess,p.onFailure=t.onFailure,this.send(p,n.metaConnect)}}this._debug("Transport",this.getType(),"sending request",n.id,"envelope",u);try{var m=!0;this.jsonpSend({transport:this,url:u.url,sync:u.sync,headers:this.getConfiguration().requestHeaders,body:e.cometd.JSON.toJSON(u.messages),onSuccess:function(e){var t=!1;try{var o=r.convertToMessages(e);0===o.length?r.transportFailure(u,n,"no response"):(t=!0,r.transportSuccess(u,n,o))}catch(e){r._debug(e),t||r.transportFailure(u,n,"bad response",e)}},onError:function(e,t){m?r.setTimeout((function(){r.transportFailure(u,n,e,t)}),0):r.transportFailure(u,n,e,t)}}),m=!1}catch(e){this.setTimeout((function(){r.transportFailure(u,n,"error",e)}),0)}},n},e.cometd.WebSocketTransport=function(){var t,n,r=new e.cometd.Transport,o=e.cometd.Transport.derive(r),i=!0,s=!1,a={},c={},d=null,u=!1,l=!1;function h(){var n=t.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",n);var r=this,o=null,i=t.getConfiguration().connectTimeout;i>0&&(o=this.setTimeout((function(){o=null,u||(r._debug("Transport",r.getType(),"timed out while connecting to URL",n,":",i,"ms"),r.onClose(1002,"Connect Timeout"))}),i));var s=new e.cometd.WebSocket(n),a=function(e){var t=e?e.code:1e3,n=e?e.reason:void 0;r._debug("WebSocket closed",t,"/",n,s),o&&(r.clearTimeout(o),o=null),s===d?r.onClose(t,n):r._debug("Ignoring close event, WebSocket",d)};s.onopen=function(){r._debug("WebSocket opened",s),o&&(r.clearTimeout(o),o=null),s===d?r.onOpen():r._debug("Ignoring open event, WebSocket",d)},s.onclose=a,s.onerror=function(){a({code:1002})},s.onmessage=function(e){r._debug("WebSocket message",e,s),s===d?r.onMessage(e):r._debug("Ignoring message event, WebSocket",d)},d=s,this._debug("Transport",this.getType(),"configured callbacks on",s)}function f(t,n){var r=e.cometd.JSON.toJSON(t.messages);d.send(r),this._debug("Transport",this.getType(),"sent",t,"metaConnect =",n);var o=this.getConfiguration().maxNetworkDelay,i=o;n&&(i+=this.getAdvice().timeout,l=!0);for(var s=[],a=0;a<t.messages.length;++a){var u=t.messages[a];if(u.id){s.push(u.id);var h=d;c[u.id]=this.setTimeout((function(){h&&h.close(1e3,"Timeout")}),i)}}this._debug("Transport",this.getType(),"waiting at most",i,"ms for messages",s,"maxNetworkDelay",o,", timeouts:",c)}function p(e,t){try{null===d?h.call(this):u&&f.call(this,e,t)}catch(t){var n=d;this.setTimeout((function(){e.onFailure(n,e.messages,"error",t)}),0)}}return o.onOpen=function(){for(var e in this._debug("Transport",this.getType(),"opened",d),u=!0,s=!0,this._debug("Sending pending messages",a),a){var t=a[e],r=t[0],o=t[1];n=r.onSuccess,f.call(this,r,o)}},o.onMessage=function(t){this._debug("Transport",this.getType(),"received websocket message",t,d);for(var r=!1,o=this.convertToMessages(t.data),i=[],s=0;s<o.length;++s){var u=o[s];if((/^\/meta\//.test(u.channel)||void 0===u.data)&&u.id){i.push(u.id);var h=c[u.id];h&&(this.clearTimeout(h),delete c[u.id],this._debug("Transport",this.getType(),"removed timeout for message",u.id,", timeouts",c))}"/meta/connect"===u.channel&&(l=!1),"/meta/disconnect"!==u.channel||l||(r=!0)}for(var f=!1,p=0;p<i.length;++p){var m=i[p];for(var g in a){var b=g.split(","),v=e.cometd.Utils.inArray(m,b);if(v>=0){f=!0,b.splice(v,1);var _=a[g][0],y=a[g][1];delete a[g],b.length>0&&(a[b.join(",")]=[_,y]);break}}}f&&this._debug("Transport",this.getType(),"removed envelope, envelopes",a),n.call(this,o),r&&d.close(1e3,"Disconnect")},o.onClose=function(e,t){for(var n in this._debug("Transport",this.getType(),"closed",e,t,d),i=s,c)this.clearTimeout(c[n]);for(var r in c={},a){var o=a[r][0];a[r][1]&&(l=!1),o.onFailure(d,o.messages,"closed "+e+"/"+t)}a={},null!==d&&u&&d.close(1e3,"Close"),u=!1,d=null},o.registered=function(e,n){r.registered(e,n),t=n},o.accept=function(n,r,o){return i&&!!e.cometd.WebSocket&&!1!==t.websocketEnabled},o.send=function(e,t){this._debug("Transport",this.getType(),"sending",e,"metaConnect =",t);for(var n=[],r=0;r<e.messages.length;++r){var o=e.messages[r];o.id&&n.push(o.id)}a[n.join(",")]=[e,t],this._debug("Transport",this.getType(),"stored envelope, envelopes",a),p.call(this,e,t)},o.abort=function(){if(r.abort(),null!==d)try{d.close(1001)}catch(e){this._debug(e)}this.reset()},o.reset=function(){r.reset(),null!==d&&u&&d.close(1e3,"Reset"),i=!0,s=!1,c={},a={},d=null,u=!1,n=null},o},e.cometd.Cometd=function(t){var n,r,o,i,s=this,a=t||"default",c=!1,d=new e.cometd.TransportRegistry,u="disconnected",l=0,h=null,f=0,p=[],m=!1,g={},b=0,v=null,_=[],y={},j={},w=!1,E=!1,M={connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6e4,interval:0,reconnect:"retry"}};function T(t){return e.cometd.Utils.isString(t)}function x(e){return null!=e&&"function"==typeof e}function S(e,t){if(window.console){var n=window.console[e];x(n)&&n.apply(window.console,t)}}function C(e){if(s._debug("Configuring cometd object with",e),T(e)&&(e={url:e}),e||(e={}),!(M=s._mixin(!1,M,e)).url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var t=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(M.url),n=t[2],r=t[8],o=t[9];if(c=s._isCrossDomain(n),M.appendMessageTypeToURL)if(void 0!==o&&o.length>0)s._info("Appending message type to URI "+r+o+" is not supported, disabling 'appendMessageTypeToURL' configuration"),M.appendMessageTypeToURL=!1;else{var i=r.split("/"),a=i.length-1;r.match(/\/$/)&&(a-=1),i[a].indexOf(".")>=0&&(s._info("Appending message type to URI "+r+" is not supported, disabling 'appendMessageTypeToURL' configuration"),M.appendMessageTypeToURL=!1)}}function k(){for(var e in g)for(var t=g[e],n=t.length-1;n>=0;--n){var r=t[n];r&&!r.listener&&(t.splice(n,1),s._debug("Removed subscription",r,"for channel",e))}}function P(e){u!==e&&(s._debug("Status",u,"->",e),u=e)}function R(){return"disconnecting"===u||"disconnected"===u}function A(e,t,n,r,o){try{return t.call(e,r)}catch(e){s._debug("Exception during execution of extension",n,e);var i=s.onExtensionException;if(x(i)){s._debug("Invoking extension exception callback",n,e);try{i.call(s,e,n,o,r)}catch(e){s._info("Exception during execution of exception callback in extension",n,e)}}return r}}function O(e){for(var t=0;t<_.length&&null!=e;++t){var n=_[t],r=n.extension.outgoing;if(x(r)){var o=A(n.extension,r,n.name,e,!0);e=void 0===o?e:o}}return e}function D(e,t){var n=g[e];if(n&&n.length>0)for(var r=n.length-1;r>=0;--r){var o=n[r];try{o.callback.call(o.scope,t)}catch(e){s._debug("Exception during notification",o,t,e);var i=s.onListenerException;if(x(i)){s._debug("Invoking listener exception callback",o,e);try{i.call(s,e,o.handle,o.listener,t)}catch(e){s._info("Exception during execution of listener callback",o,e)}}}}}function L(e,t){D(e,t);for(var n=e.split("/"),r=n.length-1,o=r;o>0;--o){var i=n.slice(0,o).join("/")+"/*";o===r&&D(i,t),D(i+="*",t)}}function I(){null!==v&&e.cometd.Utils.clearTimeout(v),v=null}function F(t){I();var n=y.interval+b;s._debug("Function scheduled in",n,"ms, interval =",y.interval,"backoff =",b,t),v=e.cometd.Utils.setTimeout(s,t,n)}function N(e,t,r,a){for(var c=0;c<t.length;++c){var d=t[c];d.id=""+ ++l,h&&(d.clientId=h);var u=void 0;x(d._callback)&&(u=d._callback,delete d._callback),null!=(d=O(d))?(t[c]=d,u&&(j[d.id]=u)):t.splice(c--,1)}if(0!==t.length){var f=M.url;M.appendMessageTypeToURL&&(f.match(/\/$/)||(f+="/"),a&&(f+=a));var p={url:f,sync:e,messages:t,onSuccess:function(e){try{o.call(s,e)}catch(e){s._debug("Exception during handling of messages",e)}},onFailure:function(e,t,n,r){try{i.call(s,e,t,n,r)}catch(e){s._debug("Exception during handling of failure",e)}}};s._debug("Send",p),n.send(p,r)}}function U(e){f>0||!0===m?p.push(e):N(!1,[e],!1)}function H(){b=0}function q(){b<M.maxBackoff&&(b+=M.backoffIncrement)}function W(){var e=p;p=[],e.length>0&&N(!1,e,!1)}function B(){P("connecting"),F((function(){!function(){if(!R()){var e={channel:"/meta/connect",connectionType:n.getType()};E||(e.advice={timeout:0}),P("connecting"),s._debug("Connect sent",e),N(!1,[e],!0,"connect"),P("connected")}}()}))}function X(e){e&&(y=s._mixin(!1,{},M.advice,e),s._debug("New advice",y))}function K(e){I(),e&&n.abort(),h=null,P("disconnected"),f=0,H(),p.length>0&&(i.call(s,void 0,p,"error","Disconnected"),p=[])}function z(e){h=null,k(),R()?(d.reset(),X(M.advice)):X(s._mixin(!1,y,{reconnect:"retry"})),f=0,m=!0,r=e;var t=d.findTransportTypes("1.0",c,M.url),o={version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:t,advice:{timeout:y.timeout,interval:y.interval}},i=s._mixin(!1,{},r,o);n=d.negotiateTransport(t,"1.0",c,M.url),s._debug("Initial transport is",n.getType()),P("handshaking"),s._debug("Handshake sent",i),N(!1,[i],!1,"handshake")}function J(){P("handshaking"),m=!0,F((function(){z(r)}))}function V(e){L("/meta/handshake",e),L("/meta/unsuccessful",e),!R()&&"none"!==y.reconnect?(q(),J()):K(!1)}function G(e,t){V({successful:!1,failure:!0,channel:"/meta/handshake",request:t,xhr:e,advice:{reconnect:"retry",interval:b}})}function Q(e){L("/meta/connect",e),L("/meta/unsuccessful",e);var t=R()?"none":y.reconnect;switch(t){case"retry":B(),q();break;case"handshake":d.reset(),H(),J();break;case"none":K(!1);break;default:throw"Unrecognized advice action"+t}}function Y(e,t){E=!1,Q({successful:!1,failure:!0,channel:"/meta/connect",request:t,xhr:e,advice:{reconnect:"retry",interval:b}})}function $(e){K(!0),L("/meta/disconnect",e),L("/meta/unsuccessful",e)}function Z(e,t){$({successful:!1,failure:!0,channel:"/meta/disconnect",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function ee(e){L("/meta/subscribe",e),L("/meta/unsuccessful",e)}function te(e,t){ee({successful:!1,failure:!0,channel:"/meta/subscribe",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function ne(e){L("/meta/unsubscribe",e),L("/meta/unsuccessful",e)}function re(e,t){ne({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function oe(e){var t=j[e.id];x(t)&&(delete j[e.id],t.call(s,e))}function ie(e){oe(e),L("/meta/publish",e),L("/meta/unsuccessful",e)}function se(e,t){ie({successful:!1,failure:!0,channel:t.channel,request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function ae(e){if(null!=(e=function(e){for(var t=0;t<_.length&&null!=e;++t){var n=M.reverseIncomingExtensions?_.length-1-t:t,r=_[n],o=r.extension.incoming;if(x(o)){var i=A(r.extension,o,r.name,e,!1);e=void 0===i?e:i}}return e}(e)))switch(X(e.advice),e.channel){case"/meta/handshake":!function(e){if(e.successful){h=e.clientId;var t=d.negotiateTransport(e.supportedConnectionTypes,e.version,c,M.url);if(null===t)throw"Could not negotiate transport with server; client "+d.findTransportTypes(e.version,c,M.url)+", server "+e.supportedConnectionTypes;n!==t&&(s._debug("Transport",n,"->",t),n=t),m=!1,W(),e.reestablish=w,w=!0,L("/meta/handshake",e);var r=R()?"none":y.reconnect;switch(r){case"retry":H(),B();break;case"none":K(!1);break;default:throw"Unrecognized advice action "+r}}else V(e)}(e);break;case"/meta/connect":!function(e){if(E=e.successful){L("/meta/connect",e);var t=R()?"none":y.reconnect;switch(t){case"retry":H(),B();break;case"none":K(!1);break;default:throw"Unrecognized advice action "+t}}else Q(e)}(e);break;case"/meta/disconnect":!function(e){e.successful?(K(!1),L("/meta/disconnect",e)):$(e)}(e);break;case"/meta/subscribe":!function(e){e.successful?L("/meta/subscribe",e):ee(e)}(e);break;case"/meta/unsubscribe":!function(e){e.successful?L("/meta/unsubscribe",e):ne(e)}(e);break;default:!function(e){void 0===e.successful?void 0!==e.data&&null!==e.data?L(e.channel,e):s._debug("Unknown message",e):e.successful?(oe(e),L("/meta/publish",e)):ie(e)}(e)}}function ce(e){var t=g[e];if(t)for(var n=0;n<t.length;++n)if(t[n])return!0;return!1}function de(e,t){var n={scope:e,method:t};if(x(e))n.scope=void 0,n.method=e;else if(T(t)){if(!e)throw"Invalid scope "+e;if(n.method=e[t],!x(n.method))throw"Invalid callback "+t+" for scope "+e}else if(!x(t))throw"Invalid callback "+t;return n}function ue(e,t,n,r){var o=de(t,n);s._debug("Adding listener on",e,"with scope",o.scope,"and callback",o.method);var i={channel:e,scope:o.scope,callback:o.method,listener:r},a=g[e];a||((a=[]).subscriptionCounter=0,g[e]=a),a.push(i);var c=a.subscriptionCounter;return a.subscriptionCounter=a.subscriptionCounter+1,i.id=c,i.handle=[e,c],s._debug("Added listener",i,"for channel",e,"having id =",c),i.handle}this._mixin=function(e,t,n){for(var r=t||{},o=2;o<arguments.length;++o){var i=arguments[o];if(null!=i)for(var s in i){var a=i[s],c=r[s];if(a!==t&&void 0!==a)if(e&&"object"==typeof a&&null!==a)if(a instanceof Array)r[s]=this._mixin(e,c instanceof Array?c:[],a);else{var d="object"!=typeof c||c instanceof Array?{}:c;r[s]=this._mixin(e,d,a)}else r[s]=a}}return r},this._warn=function(){S("warn",arguments)},this._info=function(){"warn"!==M.logLevel&&S("info",arguments)},this._debug=function(){"debug"===M.logLevel&&S("debug",arguments)},this._isCrossDomain=function(e){return e&&e!==window.location.host},this.send=U,this.receive=ae,o=function(e){s._debug("Received",e);for(var t=0;t<e.length;++t){ae(e[t])}},i=function(e,t,n,r){s._debug("handleFailure",e,t,n,r);for(var o=0;o<t.length;++o){var i=t[o];switch(i.channel){case"/meta/handshake":G(e,i);break;case"/meta/connect":Y(e,i);break;case"/meta/disconnect":Z(e,i);break;case"/meta/subscribe":te(e,i);break;case"/meta/unsubscribe":re(e,i);break;default:se(e,i)}}},this.registerTransport=function(e,t,n){var r=d.add(e,t,n);return r&&(this._debug("Registered transport",e),x(t.registered)&&t.registered(e,this)),r},this.getTransportTypes=function(){return d.getTransportTypes()},this.unregisterTransport=function(e){var t=d.remove(e);return null!==t&&(this._debug("Unregistered transport",e),x(t.unregistered)&&t.unregistered()),t},this.unregisterTransports=function(){d.clear()},this.findTransport=function(e){return d.find(e)},this.configure=function(e){C.call(this,e)},this.init=function(e,t){this.configure(e),this.handshake(t)},this.handshake=function(e){P("disconnected"),w=!1,z(e)},this.disconnect=function(e,t){if(!R()){void 0===t&&"boolean"!=typeof e&&(t=e,e=!1);var n=this._mixin(!1,{},t,{channel:"/meta/disconnect"});P("disconnecting"),N(!0===e,[n],!1,"disconnect")}},this.startBatch=function(){++f},this.endBatch=function(){!function(){if(--f<0)throw"Calls to startBatch() and endBatch() are not paired";0!==f||R()||m||W()}()},this.batch=function(e,t){var n=de(e,t);this.startBatch();try{n.method.call(n.scope),this.endBatch()}catch(e){throw this._debug("Exception during execution of batch",e),this.endBatch(),e}},this.addListener=function(e,t,n){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!T(e))throw"Illegal argument type: channel must be a string";return ue(e,t,n,!0)},this.removeListener=function(t){if(!e.cometd.Utils.isArray(t))throw"Invalid argument: expected subscription, not "+t;!function(e){var t,n=g[e[0]];n.length>0&&-1!==(t=function(e,t){for(var n=0;n<e.length;){if(e[n].id===t)return n;n+=1}return-1}(n,e[1]))&&(n.splice(t,1),s._debug("Removed listener",e))}(t)},this.clearListeners=function(){g={}},this.subscribe=function(e,t,n,r){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!T(e))throw"Illegal argument type: channel must be a string";if(R())throw"Illegal state: already disconnected";x(t)&&(r=n,n=t,t=void 0);var o=!ce(e),i=ue(e,t,n,!1);if(o){var s={channel:"/meta/subscribe",subscription:e},a=this._mixin(!1,{},r,s);U(a)}return i},this.unsubscribe=function(e,t){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(R())throw"Illegal state: already disconnected";this.removeListener(e);var n=e[0];if(!ce(n)){var r={channel:"/meta/unsubscribe",subscription:n},o=this._mixin(!1,{},t,r);U(o)}},this.clearSubscriptions=function(){k()},this.publish=function(e,t,n,r){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!T(e))throw"Illegal argument type: channel must be a string";if(R())throw"Illegal state: already disconnected";x(t)?(r=t,t=n={}):x(n)&&(r=n,n={});var o={channel:e,data:t,_callback:r},i=this._mixin(!1,{},n,o);U(i)},this.getStatus=function(){return u},this.isDisconnected=R,this.setBackoffIncrement=function(e){M.backoffIncrement=e},this.getBackoffIncrement=function(){return M.backoffIncrement},this.getBackoffPeriod=function(){return b},this.setLogLevel=function(e){M.logLevel=e},this.registerExtension=function(e,t){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!T(e))throw"Illegal argument type: extension name must be a string";for(var n=!1,r=0;r<_.length;++r){var o=_[r];if(o.name===e){n=!0;break}}return n?(this._info("Could not register extension with name",e,"since another extension with the same name already exists"),!1):(_.push({name:e,extension:t}),this._debug("Registered extension",e),x(t.registered)&&t.registered(e,this),!0)},this.unregisterExtension=function(e){if(!T(e))throw"Illegal argument type: extension name must be a string";for(var t=!1,n=0;n<_.length;++n){var r=_[n];if(r.name===e){_.splice(n,1),t=!0,this._debug("Unregistered extension",e);var o=r.extension;x(o.unregistered)&&o.unregistered();break}}return t},this.getExtension=function(e){for(var t=0;t<_.length;++t){var n=_[t];if(n.name===e)return n.extension}return null},this.getName=function(){return a},this.getClientId=function(){return h},this.getURL=function(){return M.url},this.getTransport=function(){return n},this.getConfiguration=function(){return this._mixin(!0,{},M)},this.getAdvice=function(){return this._mixin(!0,{},y)},e.cometd.WebSocket=window.WebSocket,e.cometd.WebSocket||(e.cometd.WebSocket=window.MozWebSocket)},e.cometd}.call(null,n,t,e))||(e.exports=r)},"mldatx_file_preview_plugin/_impl/MldatxFilePreviewPlugin":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/when"]),n.dj.c(e.i),n(n.dj.r.absMids["mw-messageservice/MessageService"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s){var a={};return e([],{constructor:function(e){s.subscribe("/mldatx/fileinfo",this._setFileInfo,this)},getTitle:function(){return{getTitleFcn:this._getTitleImpl.bind(this),overridePriority:2}},_getTitleImpl:function(e){return this._getFileInfo(e).then((function(e){return"Name"in e&&0!==e.Name.length?e.Name:""}))},getRichContent:function(){return{getRichContentFcn:this._getRichContentImpl.bind(this),overridePriority:3}},_getRichContentImpl:function(e){const t=this._getFileInfo(e),n=document.createElement("img");return o(t,(function(e){"Thumbnail"in e&&0!==e.Thumbnail.length?n.src="data:image/png;base64,"+e.Thumbnail:n.src=""})),{richContent:n,isWidget:!1}},getRichContentLabel:function(){return{getRichContentLabelFcn:this._getRichContentLabelImpl.bind(this),overridePriority:3}},_getRichContentLabelImpl:function(e){const t=this._getFileInfo(e);return[o(t,(function(e){return"Description"in e&&0!==e.Description.length?e.Description:""}))]},_setFileInfo:function(e){var t=e.data,n=t.Path;const r=a[n];r&&(r.info=t,a[n]=r,r.promise.resolve(t))},_getFileInfo:function(e){const t=e.path;if(a[t]){const n=a[t];if(n.modifiedUtc===e.modifiedUtc)return n.promise}s.publish("/mldatx/fileinfo",e.path);const n=new r;return a[t]={modifiedUtc:e.modifiedUtc,promise:n,info:""},n}})}),e,t),e.exports=o},"mldatx_file_preview_plugin/index":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["mldatx_file_preview_plugin/_impl/MldatxFilePreviewPlugin"])],o=n.dj.d(r,(function(e,t,n){return{initialize:function(r){var o=new t,i=e([n])();return o.resolve({exports:{mldatxFilePreviewPlugin:i}}),o.promise}}}),e,t),e.exports=o},"mw-deprecation-utils/deprecation":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["mw-log/Log"])],o=n.dj.d(r,(function(e,t){var n={deprecated:function(n){var r,o;(!!e.isDebug||!!window.showDeprecationsAsErrors)&&this._isConfigValid(n)&&(o=window.showDeprecationsAsErrors||n.deprecationLevel===this.ERROR?this.ERROR:this.WARN,r="DEPRECATED: ",n.deprecated&&(r+=n.deprecated.module,n.deprecated.method&&(r+="."+n.deprecated.method+"()"),r+="."),n.replacement&&(r+=" Use "+n.replacement.module,n.replacement.method&&(r+="."+n.replacement.method+"()"),r+=" instead."),n.removalVersion&&(r+=" Will be removed in version: "+n.removalVersion+"."),n.geckNumber&&(r+=" Please use g"+n.geckNumber+" to track latest information regarding this deprecation"),n.additionalInformation&&(r+=" "+n.additionalInformation),t[o](r))},_isConfigValid:function(e){var n=!!e.deprecated&&"object"==typeof e.deprecated&&e.deprecated.hasOwnProperty("module");return e.replacement&&(n=n&&"object"==typeof e.replacement&&e.replacement.hasOwnProperty("module")),e.geckNumber&&(n=n&&"number"==typeof e.geckNumber),n||t.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API"),n}};return Object.defineProperties(n,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),n}),e,t),e.exports=o},"mw-html-utils/HtmlUtils":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/io-query"]),n(n.dj.r.absMids["mw-html-utils/_parseHtml/sanitize"]),n(n.dj.r.absMids["mw-deprecation-utils/deprecation"])],o=n.dj.d(r,(function(e,t,n){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,parseQueryString:function(){var e=window.location.search.substr(1,window.location.search.length);return this._parseQueryString(e)},_parseQueryString:function(t){return e.queryToObject(t)},parseUrl:function(e){var t=document.createElement("a");t.display="none",t.href=e||window.location.href,t.href=t.href;var n={protocol:t.protocol,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,hash:t.hash};return"https:"!==n.protocol&&"http:"!==n.protocol||0===n.pathname.indexOf("/")||(n.pathname="/"+n.pathname),"https:"===n.protocol&&"443"===n.port&&0!==e.indexOf("https://"+n.hostname+":443")&&(n.port=""),n},escapeHtml:function(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML},escapeLinksAndHtml:function(e,t){n.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var r="",o=e.split(this.HYPERLINK_ESCAPE_REGEXP),i=e.match(this.HYPERLINK_ESCAPE_REGEXP),s="",a=this,c=0,d=function(e,t,n,r){var o=a.parseUrl(t).protocol;"http:"!==o&&"https:"!==o&&"matlab:"!==o&&(t="#"),t=a.escapeHtml(t),r=a._strongNotEscaped(r,!0),s='<a href="'+t+'">'+r+"</a>"};if(t)r=this.escapeHtml(e),r=this.escapeWhitespace(r);else if(""!==o[0]&&(r=this._strongNotEscaped(o[0],!0)),null!==i&&0!==i.length)for(c=0;c<i.length;c+=1)i[c].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,d),""!==o[c+1]&&(o[c+1]=this._strongNotEscaped(o[c+1],!0)),r+=s+o[c+1];return r},treatHtmlLikeCommandWindow:function(e,t,n){if("string"!=typeof e)return"";var r="",o=e.split(this.HYPERLINK_ESCAPE_REGEXP),i=e.match(this.HYPERLINK_ESCAPE_REGEXP),s="",a=this,c=0;n=n||{};var d=function(e,t,n,r){var o=a.parseUrl(t).protocol,i="";"http:"!==o&&"https:"!==o&&"matlab:"!==o&&(t="#"),t=a.escapeHtml(t),r=a._strongNotEscaped(r,!1),a.BOLD_LINK_ATTRIBUTE_REGEX.test(n)&&(i=' style="font-weight:bold"'),s='<a href="'+t+'"'+i+">"+r+"</a>"};if(t)r=this.escapeHtml(e);else if(""!==o[0]&&(r=this._strongNotEscaped(o[0],!1)),null!==i&&0!==i.length)for(c=0;c<i.length;c+=1)i[c].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,d),""!==o[c+1]&&(o[c+1]=this._strongNotEscaped(o[c+1],!1)),r+=s+o[c+1];return n.addPreTagToPreserveWhiteSpace&&(r='<span style="white-space: pre">'+r+"</span>"),r},_strongNotEscaped:function(e,t){var n="",r=e.match(this.STRONG_ESCAPE_REGEXP),o=e.split(this.STRONG_ESCAPE_REGEXP),i=function(e){return e};t&&(i=this.escapeWhitespace);var s=0;if(null!==r&&0!==r.length)for(n=i(this.escapeHtml(o[0])),s=0;s<r.length;s+=1)n+=r[s]+i(this.escapeHtml(o[s+1]));else n=i(this.escapeHtml(e));return n},escapeWhitespace:function(e){return n.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use <span style="white-space: pre">...</span>'}}),(e=e||"").replace(/\n/g,"<br>").replace(/ {2}/g,"&nbsp;&nbsp;")},handleAnchors:function(e,t){if(t.target.href){t.preventDefault(),t.stopPropagation();var n=t.target.href;if(-1!==n.indexOf("matlab:")){if("matlab:"===n.substring(0,7)){var r=t.target.href.substring(7);e(window.unescape(r))}}else window.open(t.target.href)}},isElementOverflown:function(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},sanitizeHtmlFromJava:t.sanitizeHtmlFromJava}}),e,t),e.exports=o},"mw-html-utils/_parseHtml/sanitize":function(e,t,n){"use strict";var r,o;r=[],o=n.dj.d(r,(function(){var e,t,n,r=["backgroundColor","borderBottom","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRadius","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderStyle","borderTop","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","borderWidth","color","fontFamily","fontSize","fontStyle","fontWeight","height","lineHeight","margin","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","minHeight","minWidth","overflow","overflowWrap","overflowX","overflowY","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textAnchor","textDecoration","textIndent","textOverflow","textShadow","textTransform","width"];return{sanitizeHtmlFromJava:(e={A:["target","href","title"],ABBR:["title"],ADDRESS:[],AREA:["shape","coords","href","alt"],ARTICLE:[],ASIDE:[],AUDIO:["autoplay","controls","loop","preload","src"],B:[],BDI:["dir"],BDO:["dir"],BIG:[],BLOCKQUOTE:["cite"],BR:[],CAPTION:[],CENTER:[],CITE:[],CODE:[],COL:["align","valign","span","width"],COLGROUP:["align","valign","span","width"],DD:[],DEL:["datetime"],DETAILS:["open"],DIV:[],DL:[],DT:[],EM:[],FONT:["color","size","face"],FOOTER:[],H1:[],H2:[],H3:[],H4:[],H5:[],H6:[],HEADER:[],HR:[],I:[],IMG:["src","alt","title","width","height"],INS:["datetime"],LI:[],MARK:[],NAV:[],OL:[],P:[],PRE:[],S:[],SECTION:[],SMALL:[],SPAN:[],SUB:[],SUP:[],STRONG:[],TABLE:["width","border","align","valign"],TBODY:["align","valign"],TD:["width","rowspan","colspan","align","valign"],TFOOT:["align","valign"],TH:["width","rowspan","colspan","align","valign"],THEAD:["align","valign"],TR:["rowspan","align","valign"],TT:[],U:[],UL:[],VIDEO:["autoplay","controls","loop","preload","src","height","width"]},t={href:{"http:":!0,"https:":!0,"mailto:":!0,"matlab:":!0,relative:{"#":!0,"/":!0}},src:{"http:":!0,"https:":!0,"mailto:":!0,relative:{"#":!0,"/":!0}}},n=!0,function(o){var i=function(e,t){var n=String.prototype.trim.call(t),r=n.indexOf(":");return r<0&&e.relative[n.charAt(0)]||e[n.substring(0,r)+":"]?n:"#"},s=function(o){var s=void 0;return o.nodeType===window.Node.ELEMENT_NODE?e[o.tagName]?(s=document.createElement(o.tagName),function(e,n){for(var r=[],o=0;o<e.length;o+=1){var s=e[o];if(n.hasAttribute(s)){var a=n.getAttribute(s),c="";c=t[s]?i(t[s],a):a,r.push({key:s,value:c})}}return r}(e[o.tagName],o).forEach((function(e){s.setAttribute(e.key,e.value)})),n&&function(e,t){var n=t.getAttribute("style");if(e.style&&null!==n&&""!==n)for(var o=0;o<r.length;o+=1){var i=r[o],s=t.style[i];void 0!==e.style[i]&&(e.style[i]=s)}}(s,o)):s=document.createDocumentFragment():s=o.nodeType===window.Node.TEXT_NODE?document.createTextNode(o.textContent):document.createDocumentFragment(),s},a=(new DOMParser).parseFromString(o,"text/html");return a.body?function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=document.createDocumentFragment();if(n>150||!t)return r;for(var o=t.firstChild;o;o=o.nextSibling){var i=s(o);o.nodeType===window.Node.ELEMENT_NODE&&i.appendChild(e(o,n+1)),r.appendChild(i)}return r}(a.body):document.createDocumentFragment()})}}),e,t),e.exports=o},"mw-log/Log":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["mw-log/impl/Modes"]),n(n.dj.r.absMids["mw-log/impl/Levels"]),n(n.dj.r.absMids["mw-log/impl/Backlog"]),n(n.dj.r.absMids["mw-log/util/LogUtils"])],o=n.dj.d(r,(function(e,t,n,r){const o=n.create(100),i=4,s=3,a=3,c=3,d=3,u=3,l=3,h=3,f=3,p=2,m=1,g=0,b=0;let v={},_=0,y=t.DEBUG,j=e.DEVELOPMENT,w=[],E={};class M{constructor(n){null==E[n]?(r.makeReadOnlyProperty(this,"name",n),E[this.name]=this,this._timers={},this._threshold=t.DEBUG,this._showTimestamp=!0,r.makeReadOnlyProperty(this,"modes",e),r.makeReadOnlyProperty(this,"levels",t)):E.DEFAULT.error("a logger with the name '"+n+"' already exists - change the name to prevent interference")}static _sanitizeLevel(e){return"number"==typeof e?e:t.DEBUG}static _sanitizeMode(t){return r.objectValues(e).indexOf(t)>-1?t:e.development}get threshold(){return this._threshold}set threshold(e){this._threshold=M._sanitizeLevel(e)}get showTimestamp(){return this._showTimestamp}set showTimestamp(e){this._showTimestamp=!!e}get globalThreshold(){return y}set globalThreshold(e){y=M._sanitizeLevel(e)}get mode(){return j}set mode(e){j=M._sanitizeMode(e)}_shouldLog(e){return y>e&&this._threshold>e}_nameAndTime(){let e=[];return"DEFAULT"!==this.name&&e.push(this.name),this._showTimestamp&&e.push(r.currentTimeString()),e}table(e){if(this._shouldLog(c)){const t={namespace:this.name,type:"table",message:[e],time:new Date};o.add(t),r.printToConsole("log",this._nameAndTime(),j),r.printToConsole("table",[e],j),r.execCallbacks(v,t)}}trace(){if(this._shouldLog(d)){const e={namespace:this.name,type:"trace",message:null,time:new Date};let t=(new Error).stack.split("\n");for("Error"===t[0]&&t.shift();t[0].includes("Log.js")||t[0].includes("logger.trace")||"trace"===t[0];)t.shift();t=t.join("\n"),e.message=[t],o.add(e),r.printToConsole("log",this._nameAndTime(),j),r.printToConsole("trace",[],j),r.execCallbacks(v,e)}}time(e){this._shouldLog(u)&&(null==this._timers[e]?this._timers[e]=(new Date).getTime():this.warn('timer "'+e+'" already exists.'))}timeEnd(e){if(this._shouldLog(l)){const t={namespace:this.name,type:"timeEnd",message:null,time:new Date};if(null!=this._timers[e]){const n=(new Date).getTime()-this._timers[e];t.message=[e+": "+n+"ms - timer ended"],o.add(t),r.printToConsole("log",this._nameAndTime().concat(t.message),j),r.execCallbacks(v,t),this._timers[e]=null}else this.warn('timer "'+e+"\" doesn't exist.")}}_group(e,t){if(this._shouldLog(h)){const n=t?"groupCollapsed":"group",i={namespace:this.name,type:n,message:[e],time:new Date};w.push(e),o.add(i),r.printToConsole(n,[e],j),r.execCallbacks(v,i)}}groupCollapsed(e){this._group(e,!0)}group(e){this._group(e,!1)}groupEnd(){if(this._shouldLog(f)){const e=w.pop(),t={namespace:this.name,type:"groupEnd",message:[e],time:new Date};o.add(t),r.printToConsole("groupEnd",[],j),r.execCallbacks(v,t)}}assert(e,t){if(this._shouldLog(g)&&!e){const e={namespace:this.name,type:"assert",message:["Assertion failed:",t],time:new Date};o.add(e),e.message.shift();let n=[!1].concat(this._nameAndTime().concat(e.message));r.printToConsole("assert",n,j),r.execCallbacks(v,e)}}_basicLogMethod(e,t,n){if(this._shouldLog(t)){const t={namespace:this.name,type:e,message:n,time:new Date};n=this._nameAndTime().concat(n),o.add(t),r.printToConsole(e,n,j),r.execCallbacks(v,t)}}debug(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("debug",i,t)}log(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("log",s,t)}dir(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("dir",a,t)}info(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("info",p,t)}warn(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("warn",m,t)}error(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("error",b,t)}addCallback(e,t){v[_]=e,t&&o.applyCallback(e);let n={};const r=_;return n.remove=()=>{delete v[r]},_++,n}createLogger(e){const t=new M(e);return t.name?t:E[e]}}return new M("DEFAULT")}),e,t),e.exports=o},"mw-log/impl/Backlog":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["mw-log/util/LogUtils"])],o=n.dj.d(r,(function(e){let t={create:function(t){let n={},r=[];e.makeReadOnlyProperty(n,"size",t);let o=0;return n.add=function(e){r[o]=e,o=(o+1)%n.size},n.applyCallback=function(e){let i=o+1;void 0===r[i]&&(i=0);let s=0,a=i;for(;s<n.size&&void 0!==r[a];)e(r[a]),a=(a+1)%t,s++},n}};return t}),e,t),e.exports=o},"mw-log/impl/Levels":function(e,t,n){"use strict";var r,o;r=[],o=n.dj.d(r,(function(){const e={DEBUG:5,LOG:4,TABLE:4,TIME:4,DIR:4,INFO:3,WARN:2,ASSERT:1,ERROR:1};return Object.freeze(e),e}),e,t),e.exports=o},"mw-log/impl/Modes":function(e,t,n){"use strict";var r,o;r=[],o=n.dj.d(r,(function(){const e={DEVELOPMENT:"DEVELOPMENT",PRODUCTION:"PRODUCTION"};return Object.freeze(e),e}),e,t),e.exports=o},"mw-log/util/LogUtils":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["mw-log/impl/Modes"])],o=n.dj.d(r,(function(e){const t={objectValues:function(e){let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},makeReadOnlyProperty:function(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1})},execCallbacks:function(e,n){const r=t.objectValues(e);for(let e in r)r[e](n)},currentTimeString:function(){const e=new Date;return e.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"})+"."+e.getTime()%1e3},printToConsole:function(t,n,r){r===e.PRODUCTION&&"error"!==t||console[t].apply(console,n)}};return t}),e,t),e.exports=o},"mw-messageservice/MessageService":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceAsync"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceBase"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceReqResp"]),n(n.dj.r.absMids["mw-remote/Remote"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s){let a=new o,c={messageService:a,subscribe:e.hitch(a,"subscribe"),unsubscribe:e.hitch(a,"unsubscribe"),publish:e.hitch(a,"publish"),start:e.hitch(a,"start"),stop:e.hitch(a,"stop"),isRunning:e.hitch(a,"isStarted"),isStarted:e.hitch(a,"isStarted"),isConnected:e.hitch(a,"isConnected"),isFatallyDisconnected:e.hitch(a,"isFatallyDisconnected"),isDisconnected:e.hitch(a,"isDisconnected"),setLatency:e.hitch(a,"setLatency"),setErrorRate:e.hitch(a,"setErrorRate"),getTransport:e.hitch(a,"getTransport"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},on:function(e,t){return n(this.messageService,e,t)},handleMessage:e.hitch(a,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start,this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};t.after(a,"onConnected",e.hitch(c,"onConnected"),!0),t.after(a,"onDisconnected",e.hitch(c,"onDisconnected"),!0),t.after(a,"onReconnected",e.hitch(c,"onReconnected"),!0),t.after(a,"onFatallyDisconnected",e.hitch(c,"onFatallyDisconnected"),!0),t.after(a,"onNotConnected",e.hitch(c,"onNotConnected"),!0);let d=s.enableServerOnWorkerAsync;s.enableServerOnWorkerAsync=function(){d(),a.setDelegate(new r(s))};let u=s.disableServerOnWorkerAsync;return s.disableServerOnWorkerAsync=function(){u(),a.setDelegate(new i(s,a))},s.isServerOnWorkerAsyncEnabled()?s.enableServerOnWorkerAsync():s.disableServerOnWorkerAsync(),c}),e,t),e.exports=o},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/json"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojox/cometd/cometd"]),n(n.dj.r.absMids["dojox/cometd/AckExtension"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a,c,d){let u,l=i.Utils.setTimeout;i.JSON.toJSON=r.stringify,i.JSON.fromJSON=r.parse;let h=0,f=0,p={};setInterval((function(){h+=200,Object.keys(p).forEach((function(e){let t=p[e];t.execTime<=h&&(t.func(),delete p[e])}))}),200);let m=function(e,t,n,r,o){let c=new i.LongPollingTransport,u=i.Transport.derive(c);u.xhrSend=function(e){let n;return r.remoteSupportsSendPayload?(e.headers=e.headers||{},e.headers.computeToken=r.computeToken,n=o.sendPayload(e.body,r.endPointName,{headers:e.headers})):n=t.sendMessage(e.body,r.url,{headers:e.headers}),n.then(e.onSuccess,(function(t){e.onError(t,t)})),{abort:function(){n.cancel()}}};let m=new i.Cometd(e);return i.Utils.setTimeout=function(e,t,n){return 0===n?l(e,t,n):(f+=1,p[f]={func:function(){try{t()}catch(e){m._debug("Exception invoking timed function",t,e)}},execTime:h+n},f)},i.Utils.clearTimeout=function(e){delete p[e]},r.remoteSupportsSendPayload?r.endPointAllowsDirectXhr.then((function(e){"ENABLED"!==e.status&&(i.WebSocket=d.WebSocket,d.WebSocket.proxyClient=t)})):(i.WebSocket=d.WebSocket,d.WebSocket.proxyClient=t),m.registerExtension("ack",new s),n[a.WEBSOCKET]&&m.registerTransport(a.WEBSOCKET,new i.WebSocketTransport,0),m.registerTransport(a.LONG_POLLING,u,1),m};const g=function(e,t){e.successful?t.resolve(e):(c.warn("Message failed: ",e),t.reject(e))};return u=e([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(e,r,o,i){this.remote=e,this.constructCometD=r||m,this.cometdProperties=i||{connectTimeout:5e3,maxBackoff:1e4,logLevel:"info",maxNetworkDelay:2e4,appendMessageTypeToURL:!1,autoBatch:!0},this._webSocket={try:!0,connectedAtLeastOnce:!1};let s=["maxNetworkDelay","connectTimeout","logLevel"],a=t.cometdProperties;if(a)for(let e=0;e<s.length;e+=1){let t=s[e];void 0!==a[t]&&(this.cometdProperties[t]=a[t])}this.workerProxyAsyncClient=o||new d("remoteWorkerAsyncProducer");let u=this;n.after(this.workerProxyAsyncClient,"onError",(function(e){u.cometd&&(u.logCometdLifecycle&&c.info("MessageServiceAsync disconnecting cometd due to IFrame error."),u.cometd.disconnect()),u.onConnectionError(e)}),!0),this.subscriptions={},this.recentMessages=[],this._deferredCleanupFunction=function(){u._deferredCleanup=!1,u.recentMessages=[]}},onMessage:function(e){},onConnectionError:function(){},connect:function(){this.routingHost=u.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();let e=this._setUpEndPoint();this.computeToken&&(e.computeToken=this.computeToken),e.remoteSupportsSendPayload||this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);let t={};u.enableWebsocket&&this._webSocket.try?t.websocket=!0:(t.websocket=!1,this._webSocket.try=!1);let n=this.constructCometD("messageService",this.workerProxyAsyncClient,t,e,this.remote);this.cometd=n,this.logCometdLifecycle&&c.info("MessageServiceAsync constructing new cometd instance.");let r=this._createOneShotMessagePromise("/meta/handshake");this._createListenerForUnknownClient();let i=this,s=new o;return r.then((function(e){i.logCometdLifecycle&&c.info("MessageServiceAsync cometd handshake successful.",e,n.getClientId(),n),n.isDisconnected()?(c.error("MessageServiceAsync cometd handshake successful but still disconnected!"),n.disconnect(),s.reject(e)):(n.getTransport().getType()===a.WEBSOCKET&&(i._webSocket.connectedAtLeastOnce=!0),s.resolve(e))}),(function(e){if(i.logCometdLifecycle&&c.info("MessageServiceAsync disconnecting cometd due to handshake failure.",e,n.getClientId(),n),n.disconnect(),e.request&&e.request.supportedConnectionTypes){let t=e.request.supportedConnectionTypes;if(t.length>1){t[0]!==a.WEBSOCKET||i._webSocket.connectedAtLeastOnce||(i._webSocket.try=!1)}}s.reject(e)})),this.cometdProperties.url=e.url,n.init(this.cometdProperties),s.promise},disconnect:function(){this.logCometdLifecycle&&c.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());let e=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(),e},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&c.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return!!this.cometd&&!this.cometd.isDisconnected()},doPublish:function(e,t){let n=new o;return this.cometd.publish(this._getRequestChannel(e),t,{},(function(e){g(e,n)})),n.promise},doSubscribe:function(e){this.logCometdSubscriptions&&c.info("MessageServiceAsync subscribing cometd to channel: "+e);let t=this._createOneShotMessagePromise("/meta/subscribe");return this.subscriptions[e]=this.cometd.subscribe(this._getRequestChannel(e),this,this._handleCometResponse),t},doUnsubscribe:function(e){if(this.subscriptions[e]){this.logCometdSubscriptions&&c.info("MessageServiceAsync unsubscribing cometd from channel: "+e);let t=this._createOneShotMessagePromise("/meta/unsubscribe");return this.cometd.unsubscribe(this.subscriptions[e]),delete this.subscriptions[e],t}return(new o).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(e){this.workerProxyAsyncClient.setLatency(e)},doSetErrorRate:function(e){this.workerProxyAsyncClient.setErrorRate(e)},getTransport:function(){return this.cometd&&!this.cometd.isDisconnected()?this.cometd.getTransport().getType():a.UNKNOWN},_handleCometResponse:function(e){this._shouldHandleMessage(e)&&this.onMessage(this._stripBasePrefixAndConvertToJson(e))},_shouldHandleMessage:function(e){return!e.id&&(this.recentMessages.indexOf(e)<0&&(this.recentMessages.push(e),this._deferRecentMessagesCleanup(),!0))},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(e){let t=new o;return this._addOneShotListener(e,(function(e){g(e,t)})),t.promise},_addOneShotListener:function(e,t){let n,r=this,o=this.cometd;n=this.cometd.addListener(e,(function(e){o.removeListener(n),t.apply(r,arguments)}))},_createListenerForUnknownClient:function(){let e=this.cometd,t=this;e.addListener("/meta/connect",(function(n){!n.successful&&n.advice&&"handshake"===n.advice.reconnect&&(e.disconnect(),t.onConnectionError(n.error))}))},_setUpEndPoint:function(){let e,t,n=!1,r="MESSAGE_SERVICE_ASYNC_ENDPOINT";return e=this.routingHost+this.BASE_END_POINT,this.routingKey&&(e+="?routingkey="+this.routingKey),{remoteSupportsSendPayload:n,url:e,endPointName:r,endPointAllowsDirectXhr:t}},_getRequestChannel:function(e){return this.BASE_PREFIX+e},_stripBasePrefixAndConvertToJson:function(e){return{channel:e.channel.substring(this.BASE_PREFIX.length),data:e.data}}}),u.enableWebsocket=!1,u.workerHostOverride=!1,window.location.search.indexOf("websocket=on")>=0&&(u.enableWebsocket=!0),u}),e,t),e.exports=o},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceState"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s){return e([i],{logSubscriptions:!1,constructor:function(){this.batching=!0,this.typeSerializers=[],this.typeDeserializers={},this.channelSubscriptions={}},setDelegate:function(e){this.inherited("setDelegate",arguments),n.after(this._delegate,"onMessage",t.hitch(this,this.handleMessage),!0)},publish:function(e,t){if(this.isConnected()||"resubscribing"===this._currentState){let n=this._queuePublish(e,this.serialize(t));return this._deferProcessQueue(),n}return this._queuePublish(e,this.serialize(t))},subscribe:function(e,t,n){if(this.logSubscriptions&&o.info("MessageService subscribe: "+e,t,n),this._addHandler(this.channelSubscriptions,e,t,n),this.isConnected()||"resubscribing"===this._currentState){let r=this._queueSubscribe(e,t,n);return this._deferProcessQueue(),r}return this._queueSubscribe(e,t,n)},unsubscribe:function(e,t,n){if(this.logSubscriptions&&o.info("MessageService unsubscribe: "+e,t,n),this._removeHandler(this.channelSubscriptions,e,t,n)){if(this._removeQueuedMatchingSubscribe(e,t,n))return(new r).resolve();if(this.isConnected()||"resubscribing"===this._currentState){let r=this._queueUnsubscribe(e,t,n);return this._deferProcessQueue(),r}return(new r).resolve()}return o.error("Not subscribed to channel: "+e+", can't unsubscribe."),(new r).reject("Not subscribed to channel: "+e+", can't unsubscribe.")},flush:function(){if(!this.isConnected())throw new Error("Can only manually flush the queue when connected.");this._processQueue()},setLatency:function(e){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(e)},setErrorRate:function(e){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(e)},getTransport:function(){return this._delegate&&this._delegate.getTransport?this._delegate.getTransport():s.UNKNOWN},_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments),this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments),Object.keys(this.channelSubscriptions).forEach((function(e){e.subscribed=!1}))},_enterConnected:function(){this.inherited("_enterConnected",arguments),this._processQueue()},_enterDisconnecting:function(){this._processQueue(),this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(e,t){let n=new r;return this._queuedOps.push({type:"publish",channel:e,data:t,deferred:n}),n.promise},_queueSubscribe:function(e,t,n){let o=new r;return this._queuedOps.push({type:"subscribe",channel:e,handler:t,scope:n,deferred:o}),o.promise},_removeQueuedMatchingSubscribe:function(e,t,n){let r;for(let o=this._queuedOps.length-1;o>=0;o-=1)if(r=this._queuedOps[o],"subscribe"===r.type&&r.channel===e&&r.handler===t&&r.scope===n){this._queuedOps.splice(o,1);let e=this._delegate&&this._delegate.delegateConnected();return this.isConnected()&&e&&r.deferred.resolve(),!0}},_queueUnsubscribe:function(e,t,n){let o=new r;return this._queuedOps.push({type:"unsubscribe",channel:e,handler:t,scope:n,deferred:o}),o.promise},_processQueue:function(){let e=this._delegate&&this._delegate.delegateConnected();if(!(this.isConnected()&&e)&&"disconnecting"!==this._currentState)return;this._delegate.doStartBatch();let t=this._queuedOps;this._queuedOps=[],t.forEach((function(e){let t;"publish"===e.type?t=this._delegate.doPublish(e.channel,e.data):"subscribe"===e.type?t=this._doSubscribe(e.channel,e.handler,e.scope):"unsubscribe"===e.type&&(t=this._doUnsubscribe(e.channel,e.handler,e.scope)),t.then(e.deferred.resolve,e.deferred.reject)}),this),this._delegate.doEndBatch()},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){let e=this;this._deferredTimeout=setTimeout((function(){e._deferredTimeout=!1,e._processQueue()}),0)}else this.batching||this._processQueue()},_doSubscribe:function(e){if(this.channelSubscriptions[e].subscribed)return(new r).resolve();{let t=this._delegate.doSubscribe(e);return this.channelSubscriptions[e].subscribed=!0,t}},_doUnsubscribe:function(e){return this.channelSubscriptions[e]?(new r).resolve():this._delegate.doUnsubscribe(e)},handleMessage:function(e){let t;if(e&&e.channel){e.data&&(e.data=this.deserialize(e.data));let n=e.channel.split("/");for(t=1;t<=n.length;t+=1)this._callHandlers(this.channelSubscriptions,n.slice(0,t).concat("**").join("/"),e);this._callHandlers(this.channelSubscriptions,n.slice(0,n.length-1).concat("*").join("/"),e),this._callHandlers(this.channelSubscriptions,n.concat("*").join("/"),e),this._callHandlers(this.channelSubscriptions,e.channel,e)}},registerMessageHandler:function(e,t,n){o.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(e,t,n){o.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(e,t,n){this.typeSerializers.push({typeMatcher:e,type:t,serializer:n})},registerTypeDeserializer:function(e,t){this.typeDeserializers[e]=t},serialize:function(e){return t.isArray(e)?this._serializeArray(e):e instanceof Number||e instanceof Boolean||t.isString(e)?e:this._serializeObject(e)},deserialize:function(e){return t.isArray(e)?this._deserializeArray(e):e instanceof Number||e instanceof Boolean||t.isString(e)?e:this._deserializeObject(e)},_addHandler:function(e,t,n,r){let i,s;r=r||this,"string"!=typeof n||"function"==typeof r[n]?(i=e[t],i||(i=[],e[t]=i),s={channel:t,handler:n,scope:r},i.push(s),i.sort((function(e){return e.exclusive?-1:0}))):o.warn("Not adding invalid handler: "+n)},_removeHandler:function(e,t,n,r){let o;r=r||this,o=e[t];let i=this._getHandlerIndex(o,{handler:n,scope:r});return i>=0&&o.splice(i,1),o&&0!==o.length||delete e[t],i>=0},_callHandlers:function(e,t,n){let r,i;if(e.hasOwnProperty(t))for(r=e[t],i=0;i<r.length;i+=1)try{"string"==typeof r[i].handler?r[i].scope[r[i].handler].call(r[i].scope,n):r[i].handler.call(r[i].scope,n)}catch(e){let r=2;o.error("Error while executing message handler on channel: "+t+", message: "+JSON.stringify(n,null,r)+", error: ",e)}},_getHandlerIndex:function(e,t){if(!e)return-1;let n;for(n=0;n<e.length;n+=1)if(t.handler===e[n].handler&&t.scope===e[n].scope)return n;return-1},_serializeObject:function(e){let t,n;for(n=0;n<this.typeSerializers.length;n+=1){let t=this.typeSerializers[n];if(t.typeMatcher(e))return{__type__:t.type,__value__:t.serializer.call(this,e)}}if(e instanceof window.Image)return e;for(t in e)e.hasOwnProperty(t)&&(e[t]=this.serialize(e[t]));return e},_serializeArray:function(e){let t,n=e.length;for(t=0;t<n;t+=1)e[t]=this.serialize(e[t]);return e},_deserializeObject:function(e){let t;if(null==e)return null;if(e.hasOwnProperty("__type__")&&e.hasOwnProperty("__value__"))try{return this.typeDeserializers[e.__type__].call(this,e.__value__)}catch(t){o.error("Error while trying to deserialize: ",e,"Error: ",t)}for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(e[t]=this.deserialize(e[t]));return e},_deserializeArray:function(e){let t,n=e.length;for(t=0;t<n;t+=1)e[t]=this.deserialize(e[t]);return e}})}),e,t),e.exports=o},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["mw-log/Log"])],o=n.dj.d(r,(function(e,t,n){return e([],{pollDelay:50,constructor:function(e,t){this.remote=e,this.messageService=t,this.pending=0,e.registerDefaultMessageFactory("OpaqueMessage",(function(){return this.pending+=1,{opaqueMessageDOs:[]}}),this),e.registerResponseHandler("OpaqueMessageResponse",(function(e){this.pending-=1,e.forEach((function(e){try{e.opaqueMessageDOs&&e.opaqueMessageDOs.forEach(t.handleMessage,t)}catch(e){n.error("Error while handling message: "+e)}})),this.poll()}),this)},onMessage:function(e){},onConnectionError:function(){},connect:function(){return this.enabled=!0,this.poll(),(new t).resolve()},disconnect:function(){return this.enabled=!1,this.timeout&&(clearTimeout(this.timeout),this.timeout=null),(new t).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){let e=this;this.timeout=setTimeout((function(){e.pending+=1,e.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}}),e.timeout=null}),this.pollDelay)}},doPublish:function(e,t){clearTimeout(this.timeout),this.timeout=null,this.pending+=1,this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:e,data:t}]}})},doSubscribe:function(e){},doUnsubscribe:function(e){},doStartBatch:function(){},doEndBatch:function(){}})}),e,t),e.exports=o},"mw-messageservice/messageserviceimpl/MessageServiceState":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Evented"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/promise/all"]),n(n.dj.r.absMids["mw-statemachine/StateMachine"]),n(n.dj.r.absMids["mw-log/Log"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a){return e([t],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(e){if(this._delegate!==e){this._delegate=e;let t=this;r.after(e,"onConnectionError",(function(){a.warn("MessageService received connection error, reconnecting"),t._reconnect()}),!0),this._states=new s(this._stateOptions),r.after(this._states,"onEnterState",n.hitch(this,this._enterState),!0),this._states.start()}},onConnected:function(){this.emit("connected")},onNewlyConnected:function(){},onDisconnected:function(){this.emit("disconnected")},onReconnected:function(){this.emit("reconnected")},onFatallyDisconnected:function(){this.emit("fatallyDisconnected")},onNotConnected:function(){this.emit("notConnected")},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(e){let t=this._currentState;this._currentState=e,this.logStateChanges&&a.info("MessageService state change: "+t+" -> "+e),"connected"===t&&this.onNotConnected(),"connected"===e&&this._previouslyConnected?this.onReconnected():"connected"!==e||this._previouslyConnected||this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1,this._delegate.cleanup(),this.onDisconnected()},_enterConnecting:function(){this._retryCount=0,this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1,a.info("Reconnecting message service. Attempt "+this._retryCount,arguments),this._delegate.cleanup(),this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&a.info("MessageService timeout:",arguments)},_retryFailure:function(){let e;return this._retryCount>=this._MAX_RETRIES&&(a.error("Message service fatally disconnected."),e="fatallyDisconnected"),e},_enterResubscribing:function(){let e,t,n=[];for(e in this._delegate.doStartBatch(),this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(e)&&(t=this.channelSubscriptions[e],n.push(this._delegate.doSubscribe(e)),t.subscribed=!0);this._delegate.doEndBatch(),i(n).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&a.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})}),e,t),e.exports=o},"mw-messageservice/messageserviceimpl/transportEnums":function(e,t,n){var r,o;r=[],o=n.dj.d(r,(function(){return{UNKNOWN:"unknown",LONG_POLLING:"long-polling",WEBSOCKET:"websocket"}}),e,t),e.exports=o},"mw-remote/EndPointsManager":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],o=n.dj.d(r,(function(e,t,n,r,o){return e([],{constructor:function(){this.DirectXhrConstants={ENABLED:"ENABLED",DISABLED:"DISABLED",UNRESOLVED:"UNRESOLVED"},this._setDirectXhrCommunicationState(!1),this._directXhrChecks={},this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:["RouterLogin","CreateAccount","CurrentUser","Login","UpdateAccount","ServiceRegistry","ClientType","AuthorizationDetails","AcquireMatlab"],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],iframeProxyName:"remoteWorkerAsyncProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1,directXhr:this.DirectXhrConstants.UNRESOLVED},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1,directXhr:this.DirectXhrConstants.UNRESOLVED}}},_setDirectXhrCommunicationState:function(e){this._useDirectXhrForCommunication=e},reset:function(){this._initializeEndPointsCollection(),this._directXhrChecks={}},setUpNewEndPoint:function(e,t,n,r,o){this.endPointsCollection[e]={routingHost:"",routingKey:"",pathSuffix:n,enabled:t,messages:[],iframeProxy:null,iframeProxyName:r,acceptsMessageContainerMessages:o,directXhr:this.DirectXhrConstants.UNRESOLVED}},getPathSuffixForEndPoint:function(e){return this.endPointsCollection[e].pathSuffix},setPathSuffixForEndPoint:function(e,t){this.endPointsCollection[e].pathSuffix=t},getEndPointNames:function(){var e,t={};for(e in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(e)&&(t[e]=e);return t},setRoutingHostAndRoutingKey:function(e,t,n){t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),this.endPointsCollection[e].routingHost=t,n&&(this.endPointsCollection[e].routingKey=n),this._checkIfEndpointAllowsDirectXhr(e,!0).then(r.hitch(this,this._processEndPointAllowsXhrResponse,e,t))},_processEndPointAllowsXhrResponse:function(e,t,n){this._setEndpointAllowsDirectXhr(n),n.status!==this.DirectXhrConstants.ENABLED&&t&&this._setIframeRoutingHostAndRoutingkey(e)},_setEndpointAllowsDirectXhr:function(e){this.endPointsCollection[e.endPointName]&&e.status in this.DirectXhrConstants&&(this.endPointsCollection[e.endPointName].directXhr=e.status)},_setIframeRoutingHostAndRoutingkey:function(e){var t=this.getIframeProxyClientForEndPoint(e);t&&t.setRemotePageHost(this.endPointsCollection[e].routingHost,this.endPointsCollection[e].routingKey,null,this.endPointsCollection[e].iframeProxyUrl)},getEndPointAllowsDirectXhr:function(e){return this._checkIfEndpointAllowsDirectXhr(e,!1)},_checkIfEndpointAllowsDirectXhr:function(e,t){if(this._directXhrChecks[e]&&!t)return this._directXhrChecks[e];var r=new n;this._directXhrChecks[e]=r;var o,i=this.getDirectXhrAllowed(e),s=this.DirectXhrConstants,a={endPointName:e,status:s.UNRESOLVED};if("function"==typeof URL)try{o=new URL(this.getRoutingHost(e))}catch(e){return a.status=s.DISABLED,r.resolve(a),r.promise}else(o=document.createElement("a")).href=this.getRoutingHost(e);if(this._useDirectXhrForCommunication)if(o.origin===window.location.origin)a.status=s.ENABLED,r.resolve(a);else if(i===s.UNRESOLVED){var c=new XMLHttpRequest,d=this.getRemoteUrlForEndPoint(e);c.open("OPTIONS",d),c.send(),c.onload=function(){200===c.status?(a.status=s.ENABLED,r.resolve(a)):(a.status=s.DISABLED,r.resolve(a))},c.onerror=function(){a.status=s.DISABLED,r.resolve(a)}}else a.status=i,r.resolve(a);else a.status=s.DISABLED,r.resolve(a);return r.promise},getRoutingHost:function(e){return this.endPointsCollection[e].routingHost},getRoutingKey:function(e){return this.endPointsCollection[e].routingKey},getMessageTypesMappedToEndPoint:function(e){return this.endPointsCollection[e].messages},isEndPointEnabled:function(e){return this.endPointsCollection[e].enabled},setMessageTypesToEndPoint:function(e,t){this.endPointsCollection[e].messages=t},enableEndPoint:function(e){this.endPointsCollection[e].enabled=!0},getDirectXhrAllowed:function(e){return this.endPointsCollection[e].directXhr},disableEndPoint:function(e){this.endPointsCollection[e].enabled=!1},getEndPointForMessageType:function(e){var n,r=null;for(n in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(n)&&(r=t.lastIndexOf(this.endPointsCollection[n].messages,e)>-1?n:r)){if(this.isEndPointEnabled(r))break;r=null}return r||this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(e){var t=this.endPointsCollection[e].routingHost+this.endPointsCollection[e].pathSuffix;return this.endPointsCollection[e].routingKey&&(t=t+"?routingkey="+this.endPointsCollection[e].routingKey),t},setIframeProxyClientForEndPoint:function(e,t){this.endPointsCollection[e].iframeProxy=t},getIframeProxyClientForEndPoint:function(e){var t=this.endPointsCollection[e].iframeProxy;return t||(t=new o(this.endPointsCollection[e].iframeProxyName),this.endPointsCollection[e].iframeProxy=t),t},isEndpointMessageContainerBased:function(e){return!e||!this.endPointsCollection[e]||this.endPointsCollection[e].acceptsMessageContainerMessages},addMessagesTypesToEndPoint:function(e,t){this.endPointsCollection[e]&&-1===this.endPointsCollection[e].messages.indexOf(t)&&this.endPointsCollection[e].messages.push(t)},removeMessageTypesFromEndPoint:function(e,t){if(this.endPointsCollection[e]){var n=this.endPointsCollection[e].messages.indexOf(t);n>-1&&this.endPointsCollection[e].messages.splice(n,1)}}})}),e,t),e.exports=o},"mw-remote/Remote":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),n(n.dj.r.absMids["mw-remote/impl/FaultManager"]),n(n.dj.r.absMids["mw-remote/impl/RequestManager"]),n(n.dj.r.absMids["mw-remote/impl/ResponseManager"]),n(n.dj.r.absMids["mw-remote/impl/Transaction"]),n(n.dj.r.absMids["mw-remote/impl/AutoDetectedTransaction"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),n(n.dj.r.absMids["mw-remote/UploadToWorker"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/utils/RemoteUrlUtils"]),n(n.dj.r.absMids["mw-remote/serviceRegistryLookup!"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a,c,d,u,l,h,f){var p;return(p={reset:function(){var m=[],g=new r,b=new i({faultManager:g}),v=new o({responseManager:b});p.faultManager=g,p.responseManager=b,p.requestManager=v,p._serviceRegistryLookup=f,p._uploadIframeProxyUrlParameters=["?computeToken=","","&routingkey=",""];var _=p.proxyClient=new n;p.createUploadIframeTarget=e.hitch(_,_.createUploadIframeTarget),p.cancelUpload=e.hitch(_,_.cancelUpload),c.setIframeProxyClientForEndPoint(c.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,_),c.setIframeProxyClientForEndPoint(c.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,_),s.construct=function(e){return e=e||{},c.getRoutingHost(c.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||p.setEndpoint(),e.allowedMessages=m,e.sendMessage=p.sendMessage,e.computeSessionId=p.getComputeSessionId,new a(e)},p.registerEndpointLevelFaultHandler=e.hitch(g,g.registerEndpointLevelFaultHandler),p.sendMessage=e.hitch(v,v.sendMessage),p.sendPayload=d.sendPayload,p.registerDefaultMessageFactory=e.hitch(v,v.registerDefaultMessageFactory),p.deregisterDefaultMessageFactory=e.hitch(v,v.deregisterDefaultMessageFactory),p.registerResponseHandler=e.hitch(b,b.registerResponseHandler),p.deregisterResponseHandler=e.hitch(b,b.deregisterResponseHandler),p.registerFaultHandler=e.hitch(g,g.registerFaultHandler),p.deregisterFaultHandler=e.hitch(g,g.deregisterFaultHandler),p.registerTopLevelFaultHandler=e.hitch(g,g.registerTopLevelFaultHandler),p.deregisterTopLevelFaultHandler=e.hitch(g,g.deregisterTopLevelFaultHandler),p.setServiceEndPoint=function(e,t,n){c.setRoutingHostAndRoutingKey(e,t,n)},p.setDirectXhrCommunicationState=function(e){c._setDirectXhrCommunicationState(e)},p.setServicePathSuffixForEndPoint=function(e,t){c.setPathSuffixForEndPoint(e,t)},p.ignoreTopLevelFault=p.registerTopLevelFaultHandler,p.setComputeToken=function(e){p._uploadIframeProxyUrlParameters[1]=e.computeSessionId,v.computeToken=e},p.setWorkerEndpoint=function(e,t){p._uploadIframeProxyUrlParameters[3]=t,c.setRoutingHostAndRoutingKey(c.getEndPointNames().WORKER_ENDPOINT,e,t)},p.setEndpoint=function(e){if(!e){var t=p._serviceRegistryLookup.getServiceRegistryEndpoint("primary");t?e=t:(l.info("ServiceRegistryLookup is empty, falling back to localhost"),e="/")}if(!e||"/"===e){var n=(document.getElementsByTagName("base")[0]||{}).href;if(void 0!==n){var r=document.createElement("a");r.display="none",r.href=n,e=r.protocol+"//"+r.hostname+(r.port?":"+r.port:"")+"/"}else e=window.location.protocol+"//"+window.location.host+"/"}c.setRoutingHostAndRoutingKey(c.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,e),c.setRoutingHostAndRoutingKey(c.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,e),_.setRemotePageHost(e)},p.setAllowedMessages=function(e){m=e},p.allowAllMessages=function(){m=[]},p.getEndPoint=function(){return c.getRoutingHost(c.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)},p.getUploadIframeProxyUrl=function(){var e=p.getWorkerRoutingHost();return"/"===e.slice(-1)&&(e=e.slice(0,-1)),e+_.getUploadIframeProxyUrlPath()+p._uploadIframeProxyUrlParameters.join("")},p.getComputeSessionId=function(){return v.computeToken?v.computeToken.computeSessionId:null},p.getWorkerRoutingHost=function(){var e=c.getRoutingHost(c.getEndPointNames().WORKER_ENDPOINT);if(e)return e;if(!(e=p._serviceRegistryLookup.getServiceRegistryEndpoint("primary"))||"/"===e){var t=(document.getElementsByTagName("base")[0]||{}).href;if(void 0!==t){var n=document.createElement("a");n.display="none",n.href=t,e=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")+"/"}else e=window.location.protocol+"//"+window.location.host+"/"}return e},p.getWorkerRoutingKey=function(){return c.getRoutingKey(c.getEndPointNames().WORKER_ENDPOINT)},p.upload=function(e,t){return(new u).upload(e,t,{endpoint:p.getWorkerRoutingHost(),uploadIframeProxyUrl:p.getUploadIframeProxyUrl()})},p.createWorkerRoutingHostUrl=function(e){return h.createWorkerRoutingHostUrl(e,{host:p.getWorkerRoutingHost(),sessionId:p.getComputeSessionId(),routingKey:p.getWorkerRoutingKey()})},p.getServiceRegistryEndpoint=function(e){return p._serviceRegistryLookup.getServiceRegistryEndpoint(e)},p.enableServerOnWorkerAsync=function(){c.enableEndPoint(c.getEndPointNames().WORKER_ASYNC_ENDPOINT)},p.disableServerOnWorkerAsync=function(){c.disableEndPoint(c.getEndPointNames().WORKER_ASYNC_ENDPOINT)},p.isServerOnWorkerAsyncEnabled=function(){return c.isEndPointEnabled(c.getEndPointNames().WORKER_ASYNC_ENDPOINT)},p.enableServerOnWorker=function(){c.enableEndPoint(c.getEndPointNames().WORKER_ENDPOINT)},p.disableServerOnWorker=function(){c.disableEndPoint(c.getEndPointNames().WORKER_ENDPOINT)},p.isWorkerEndpointEnabled=function(){return c.isEndPointEnabled(c.getEndPointNames().WORKER_ENDPOINT)},p.setWorkerOnlyMessageTypes=function(e){c.setMessageTypesToEndPoint(c.getEndPointNames().WORKER_ENDPOINT,e)},t.after(_,"onError",(function(e){e&&g.handleNonTransactionFault(e)}),!0),p.createNewEndPoint=function(e,t,n,r,o){this.getEndPointByName(e)||c.setUpNewEndPoint(e,t,n,r,o)},p.getUrlForEndPoint=function(e){return c.getRemoteUrlForEndPoint(e)},p.getEndPointByName=function(e){return c.getEndPointNames()[e]},p.getEndPointAllowsDirectXhr=function(e){return c.getEndPointAllowsDirectXhr(e)}}}).reset(),p}),e,t),e.exports=o},"mw-remote/RemoteEndPointsManager":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["mw-remote/EndPointsManager"])],o=n.dj.d(r,(function(e){var t=null;return null===t&&(t=new e),t}),e,t),e.exports=o},"mw-remote/ReplaceUploadIframe":function(e,t,n){"use strict";var r,o;function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r=[],o=n.dj.d(r,(function(){return function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._xhr=null,this._uploadDestinationUrl=t.uploadDestinationUrl,this._computeToken=t.computeToken,this._routingkey=t.routingkey,this._fileDestination=t.fileDestination,this._csrfToken=t.csrfToken,this._postMessage=function(e){t.postMessage(e)}}var t,n,r;return t=e,(n=[{key:"_postMessageToParent",value:function(e){this._postMessage({data:e})}},{key:"_createFormDataFromFileList",value:function(e){for(var t=new window.FormData,n=0;n<e.length;n++){var r=e[n];t.append("uploadFileName",r,r.name)}return t}},{key:"_createAndSendXhr",value:function(e){var t=this;this._xhr=new XMLHttpRequest,this._xhr.upload.onprogress=function(e){t._postMessageToParent({type:"updateProgress",loaded:e.loaded,total:e.total})},this._xhr.onload=function(){t._postMessageToParent({type:"uploadFinished",status:t._xhr.status,response:t._xhr.response})},this._xhr.onerror=function(){t._postMessageToParent({type:"uploadError",status:t._xhr.status,response:t._xhr.response})},this._xhr.open("POST","".concat(this._uploadDestinationUrl,"?dest=").concat(this._fileDestination,"&computeToken=").concat(this._computeToken,"&routingKey=").concat(this._routingkey,"&csrfToken=").concat(this._csrfToken),!0),this._xhr.send(e)}},{key:"handleMessage",value:function(e){if(e.data instanceof FileList){var t=this._createFormDataFromFileList(e.data);this._createAndSendXhr(t)}else"cancelUpload"===e.data&&(this._xhr&&this._xhr.abort(),this._postMessageToParent({type:"uploadCanceled"}))}}])&&i(t.prototype,n),r&&i(t,r),e}()}),e,t),e.exports=o},"mw-remote/UploadToWorker":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/dom-construct"]),n(n.dj.r.absMids["mw-html-utils/HtmlUtils"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),n(n.dj.r.absMids["mw-remote/ReplaceUploadIframe"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s){return e([],{constructor:function(){},upload:function(e,n,r){var s=this;if(this._uploadHandler=new t((function(){s.postMessageToUploadIframe("cancelUpload"),s._unloadIframe()})),this._workerEndpoint=r.endpoint,e instanceof FileList){var a={csrfToken:void 0,validForMs:void 0};return i.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),o.getEndPointNames().WORKER_ENDPOINT).then((function(t){if(t.messages.CreateCsrfTokenResponse.forEach((function(e){e.messageFaults&&e.messageFaults.length>0||(a={csrfToken:e.csrfToken,validForMs:e.validForMs})})),window.MW_USE_IFRAME_OUT_OF_MODEL){var o=encodeURI(r.uploadIframeProxyUrl)+"&uploadDestinationUrl="+s._workerEndpoint+"upload?dest="+encodeURIComponent(n)+"&csrfToken="+encodeURIComponent(a.csrfToken);s._createUploadIframe(e,o)}else{var i=new URL(r.uploadIframeProxyUrl).searchParams,c=i.get("computeToken"),d=i.get("routingkey");s._createUploadIframeNew(e,{uploadDestinationUrl:s._workerEndpoint+"upload",computeToken:c,routingkey:d,fileDestination:encodeURIComponent(n),csrfToken:encodeURIComponent(a.csrfToken)})}})),this._uploadHandler}},_createUploadIframe:function(e,t){var r=this;this._eventCallBack=function(t){if(r.getHostName(t.origin)===r.getHostName(r._workerEndpoint))switch(t.data.type){case"iframeIsReady":r.postMessageToUploadIframe(e);break;case"updateProgress":r._uploadHandler.progress({loaded:t.data.loaded,total:t.data.total});break;case"uploadFinished":r._uploadHandler.resolve({status:t.data.status,response:t.data.response}),r._unloadIframe();break;case"uploadError":r._uploadHandler.reject({status:t.data.status,response:t.data.response})}},this._uploadIframe=n.create("iframe",{id:"uploadIframe",src:t,width:0,height:0,style:"visibility: hidden; display: none;"}),document.body.appendChild(this._uploadIframe),window.addEventListener("message",this._eventCallBack,!1)},_createUploadIframeNew:function(e,t){var n=this;this._eventCallBack=function(e){switch(e.data.type){case"updateProgress":n._uploadHandler.progress({loaded:e.data.loaded,total:e.data.total});break;case"uploadFinished":n._uploadHandler.resolve({status:e.data.status,response:e.data.response}),n._unloadIframe();break;case"uploadError":n._uploadHandler.reject({status:e.data.status,response:e.data.response})}},t.postMessage=this._eventCallBack,this._ReplaceUploadIframe=new s(t),this.postMessageToUploadIframe(e)},_unloadIframe:function(){window.MW_USE_IFRAME_OUT_OF_MODEL?this._uploadIframe&&(window.removeEventListener("message",this._eventCallBack,!1),this._uploadIframe.parentNode.removeChild(this._uploadIframe),n.destroy(this._uploadIframe),this._uploadIframe=void 0):this._ReplaceUploadIframe=null},getHostName:function(e){return r.parseUrl(e).hostname},postMessageToUploadIframe:function(e){window.MW_USE_IFRAME_OUT_OF_MODEL?this._uploadIframe.contentWindow.postMessage(e,this._workerEndpoint):this._ReplaceUploadIframe&&this._ReplaceUploadIframe.handleMessage({data:e})}})}),e,t),e.exports=o},"mw-remote/defaultMessageMapping":function(e,t,n){"use strict";var r,o;r=[],o=n.dj.d(r,(function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],SaveSessionState:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"],AcquireMatlab:["ServiceRegistry"]}}),e,t),e.exports=o},"mw-remote/iframeproxy/CheckUrlService":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/request/script"]),n(n.dj.r.absMids["mw-log/Log"])],o=n.dj.d(r,(function(e,t,n,r){return function(o){var i,s,a,c;if(!o)throw new Error("Expected a valid url in urlToEmptyJsFile");return(i={}).framedoc=null,"error",s=n.get(o,i,!0),a=e.byId(s.id,i.frameDoc),c=t(a,"error",(function(e){r.info("CheckUrlService detected an error accessing url: "+o),s.handleResponse(null,e),c.remove()})),s.promise}}),e,t),e.exports=o},"mw-remote/iframeproxy/IframeProxyClient":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/connect"]),n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/dom-construct"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/iframeproxy/CheckUrlService"]),n(n.dj.r.absMids["mw-remote/iframeproxy/IframeProxyReplace"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a,c){var d=t([],{IFRAME_TIMEOUT:2e4,LATEST_VERSION:"1.6",REMOTE_PROXY:"/remote/proxy/",constructor:function(e){this.iframeId=e||"remoteProducer",this._version=null,this._messageId=0,this._loaded=!1,this._pendingQueue=[],this._transactions={},this._uploadTargetCallbacks={},this._checkUrl=null,this._loadTimeoutHandle=null,this._checkUrlTimeout=null,this._errorRate=0},setRemotePageHost:function(e,t,n,r){var o=this;e=this._combineUriPaths(e||"","/"),t=t||"",r=r||"",this.computeToken=n,e===this._host&&t===this._key&&r===this._proxyUrl||(this._loaded=!1,this._errorLoading=!1,this._host=e,this._key=t,this._proxyUrl=r,window.MW_USE_IFRAME_OUT_OF_MODEL?(this._version=null,this._setVersion("use_latest")):(this._version="use_latest",this._iframeProxyReplace=new c({parent:{postMessage:function(e){o._handleMessage({data:e})}}})))},_setVersion:function(e){if(e&&"use_latest"!==e||(e=this.LATEST_VERSION),!this._loaded&&e!==this._version){this._version=e;var t=this._calculateUrls(this._host,this._key,e,this._proxyUrl);this._createIframe(t)}},_calculateUrls:function(e,t,n,r){var o=this.REMOTE_PROXY+n+"/iframeProxyRelease.html",i=this.REMOTE_PROXY+n+"/CheckJsFile.js";return r&&(o=r),o=this._combineUriPaths(e,o).split("?")[0],o+=t?"?routingkey="+t:"",i=this._combineUriPaths(e,i),{fastFailUrl:i+=t?"?routingkey="+t:"?time="+(new Date).getTime(),iFrameUrl:o}},_createIframe:function(t){var n=t.fastFailUrl,r=this;this._url=t.iFrameUrl,this.remoteIframe&&i.destroy(this.remoteIframe),this.remoteIframe=i.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"}),document.body.appendChild(this.remoteIframe),this._checkUrl=null,this._checkUrlTimeout=setTimeout((function(){r._checkUrl=new a(n).then((function(){r._checkUrl=null}),(function(e){r._checkUrl=null,"cancel"!==e.dojoType&&"CancelError"!==e.name&&r._handleLoadTimeoutHitch()}))}),.15*this.IFRAME_TIMEOUT),this._loadTimeoutHandle=setTimeout((function(){r._handleLoadTimeoutHitch()}),this.IFRAME_TIMEOUT),this._messageConnection||(this._messageConnection=e.connect(window,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(this._cleanupFailureChecks(),!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{var e=(parseFloat(this._version)-.1).toFixed(1).toString();s.info("Unable to load proxy version "+this._version+", trying "+e+"."),this._setVersion(e)}},createUploadIframeTarget:function(e,t,n){this._uploadTargetCallbacks[e]=r.hitch(n||this,t),this._postMessage("createUploadIframe;"+e)},cancelUpload:function(e){this._postMessage("cancelUpload;"+e)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(e,t,r){var o,i,a,c=this;return this.computeToken&&((r=r||{}).headers=r.headers||{},r.headers.computeToken=this.computeToken),i="sendMessage;"+(o=this._getNewMessageId())+";"+t+";",i+=r?JSON.stringify(r,null,0):"{}",i+=";"+e,a={deferred:new n((function(){"1.0"===c._version?s.warn("Cancelling is not supported by the 1.0 remote proxy."):c._postMessage("abort;"+o)})),id:o},this._errorLoading?a.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[o]=a,this._postMessage(i)),a.deferred},setLatency:function(e){this._latency=e},setErrorRate:function(e){this._errorRate=e},_postMessage:function(e){this._loaded?this._postMessageNow(e):this._pendingQueue.push(e)},_handleMessage:function(e){var t,n,r,o,i,s,a,c,d,u=!0;if(window.MW_USE_IFRAME_OUT_OF_MODEL&&(u=e.source===this.remoteIframe.contentWindow),u){if(n=e.data.indexOf(";"),!(r=e.data.substring(0,n)))throw new Error("Client unable to parse message, no action specified: "+e.data);switch(r){case"ready":this._cleanupFailureChecks(),this._loaded=!0,this._flushPending();break;case"sendMessageResponse":this._sendMessageResponse(e,n);break;case"uploadIframeMessage":t=e.data.indexOf(";",n+1),o=e.data.substring(n+1,t),i=e.data.substring(t+1,e.data.length),this._uploadTargetCallbacks[o](i);break;case"websocketOpened":this.onWebsocketOpen();break;case"websocketClosed":s=e.data.substring(n+1,e.data.length),a=JSON.parse(s),this.onWebsocketClose(a);break;case"websocketMsg":c=e.data.substring(n+1,e.data.length),d=JSON.parse(c),this.onWebsocketMsg(d);break;case"websocketError":this.onWebsocketError();break;default:throw new Error("Unknown action: "+r+", data: "+e.data)}}},_sendMessageResponse:function(e,t){var n,r,o=e.data.indexOf(";",t+1),i=e.data.indexOf(";",o+1),s=e.data.substring(t+1,o),a=e.data.substring(o+1,i),c=e.data.substring(i+1,e.data.length);if(!s||!a)throw new Error("Invalid message from remote iframe: "+e.data);if(!(n=this._transactions[s]))throw new Error("Unknown transaction id: "+s+", from remote iframe: "+e.data);if(delete this._transactions[s],!n.deferred.isCanceled()){if("success"===a){try{r=c&&JSON.parse(c)}catch(e){r=c}return r=""===r?{}:r,void n.deferred.resolve(r)}this.onError(c),n.deferred.reject(c)}},_cleanupFailureChecks:function(){this._checkUrlTimeout&&clearTimeout(this._checkUrlTimeout),this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle),this._checkUrl&&!this._checkUrl.isFulfilled()&&this._checkUrl.cancel("Timeout Occurred or iFrame Was Loaded before CheckUrl",!1),this._checkUrlTimeout=null,this._loadTimeoutHandle=null,this._checkUrl=null},_handleLoadTimeout:function(){var e,t,n;if(!this._loaded){for(t in e={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},n=this._transactions,this._transactions={},this._pendingQueue=[],n)n.hasOwnProperty(t)&&n[t].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date);this._errorLoading=!0,this.onError(e)}},_postMessageNow:function(e){var t,n,r=this;function o(){if(r._errorRate>0&&Math.random()<r._errorRate&&0===e.indexOf("sendMessage;")){if(t=e.split(";",2)[1],n=r._transactions[t]){delete r._transactions[t],s.error("Generating simulated error. Request was: ",e);var o="403 Forbidden;403";r.onError(o),n.deferred.reject(o)}}else window.MW_USE_IFRAME_OUT_OF_MODEL?r.remoteIframe.contentWindow.postMessage(e,r._url):r._iframeProxyReplace.handleMessage({data:e})}this._latency?setTimeout(o,this._latency):o()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this),this._pendingQueue=[]},_getNewMessageId:function(){return this._messageId+=1,this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){var e=Array.prototype.slice.call(arguments),t=e.reduce((function(e,t){return 0===e.length?t:(t.length>0&&("/"===t[0]&&e.lastIndexOf("/")===e.length-1?t=t.substring(1):"/"!==t[0]&&e.lastIndexOf("/")!==e.length-1&&(e+="/")),e+t)}));return t}});return d.WebSocket=t([],{constructor:function(e){var t=this;this.proxyClient=d.WebSocket.proxyClient,this.proxyClient.computeToken&&e.indexOf("?")>=0&&(e=e+"&computeToken="+this.proxyClient.computeToken),this.proxyClient._postMessage("connectWebsocket;"+e),o.after(this.proxyClient,"onWebsocketOpen",(function(){t.onopen.apply(t,arguments)}),!0),o.after(this.proxyClient,"onWebsocketMsg",(function(){t.onmessage.apply(t,arguments)}),!0),o.after(this.proxyClient,"onWebsocketClose",(function(){t.onclose.apply(t,arguments)}),!0),o.after(this.proxyClient,"onWebsocketError",(function(){t.onerror.apply(t,arguments)}),!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(e){this.proxyClient._postMessage("websocketSend;"+e)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}}),d}),e,t),e.exports=o},"mw-remote/iframeproxy/IframeProxyReplace":function(e,t,n){"use strict";var r,o;function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r=[],o=n.dj.d(r,(function(){return function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._childIframes=[],this._inFlightTransactions={},this._noop=function(){},this._webSocket=null,this._parent=t.parent,this.postMessage("ready","")}var t,n,r;return t=e,(n=[{key:"postMessage",value:function(e,t){this._parent.postMessage(e+";"+t||"","*")}},{key:"handleXhrResponse",value:function(e,t){var n=e+";success;"+t;this.postMessage("sendMessageResponse",n)}},{key:"handleXhrFault",value:function(e,t,n){var r=e+";fault;"+t+";"+n;this.postMessage("sendMessageResponse",r)}},{key:"handleMessage",value:function(e){var t,n,r,o,i,s,a,c,d,u,l,h=this,f=e.data.indexOf(";"),p=e.data.substring(0,f);if(!p)throw new Error("Unable to parse message, no action specified: "+e.data);switch(p){case"sendMessage":if(t=e.data.indexOf(";",f+1),n=e.data.indexOf(";",t+1),a=e.data.indexOf(";",n+1),r=e.data.substring(f+1,t),o=e.data.substring(t+1,n),c=JSON.parse(e.data.substring(n+1,a)),i=e.data.substring(a+1,e.data.length),!(r&&o&&i))throw new Error("Invalid message to send: "+e.data);try{if(d=new XMLHttpRequest,this._inFlightTransactions[r]={xhr:d},u=!1,d.onreadystatechange=function(){var e;0===d.readyState?(u=!0,h.handleXhrFault(r,"XHR readyState 0")):4!==d.readyState||u||(u=!0,(e=d.status||0)>=200&&e<300||304===e?h.handleXhrResponse(r,d.responseText):h.handleXhrFault(r,d.responseText,e)),u&&d&&(d.onreadystatechange=h._noop,d=null,delete h._inFlightTransactions[r].xhr,delete h._inFlightTransactions[r])},d.open("POST",o,!0),d.setRequestHeader("Content-Type",c.contentType?c.contentType:"application/json"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.headers)for(l in c.headers)c.headers.hasOwnProperty(l)&&d.setRequestHeader(l,c.headers[l]);d.send(i)}catch(e){this.handleXhrFault(r,"Unable to send data: "+e.toString())}break;case"createUploadIframe":r=e.data.substring(f+1,e.data.length),document.getElementById(r)||((s=document.createElement("iframe")).id=r,s.name=r,s.src="about:blank",s.width=0,s.height=0,s.style="visibility: hidden; display: none;",this._childIframes.push(s),document.body.appendChild(s));break;case"cancelUpload":r=e.data.substring(f+1,e.data.length);var m=document.getElementById(r);m&&(-1!==navigator.appVersion.indexOf("MSIE")?m.contentWindow.document.execCommand("Stop"):m.contentWindow.stop());break;case"abort":r=e.data.substring(f+1,e.data.length),this._inFlightTransactions[r]&&this._inFlightTransactions[r].xhr.abort();break;case"connectWebsocket":var g=e.data.substring(f+1,e.data.length);this._webSocket=new WebSocket(g),this._webSocket.onopen=function(){h._parent.postMessage("websocketOpened;","*")},this._webSocket.onmessage=function(e){var t={data:e.data},n=JSON.stringify(t);h._parent.postMessage("websocketMsg;"+n,"*")},this._webSocket.onclose=function(e){var t={code:e.code,reason:e.reason,wasClean:e.wasClean},n=JSON.stringify(t);h._parent.postMessage("websocketClosed;"+n,"*")},this._webSocket.onerror=function(){h._parent.postMessage("websocketError;","*")};break;case"websocketSend":var b=e.data.substring(f+1,e.data.length);this._webSocket.send(b);break;case"closeWebsocket":this._webSocket.close();break;default:throw new Error("Unknown action: "+p)}}}])&&i(t.prototype,n),r&&i(t,r),e}()}),e,t),e.exports=o},"mw-remote/impl/AutoDetectedTransaction":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-remote/impl/JsonTransaction"]),n(n.dj.r.absMids["mw-remote/utils/SendMessageUtil"])],o=n.dj.d(r,(function(e,t,n){return e([t],{_doSend:function(e){return n.sendPayload(e,this.endPointName)}})}),e,t),e.exports=o},"mw-remote/impl/FaultManager":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"])],o=n.dj.d(r,(function(e,t,n){return t([],{constructor:function(e){e=e||{},this.faultHandlers=e.faultHandlers||{},this.topLevelHandlers=e.topLevelHandlers||[],this.endPointLevelHandlers=e.endPointLevelHandlers||{}},registerFaultHandler:function(e,t,r){r&&(t=n.hitch(r,t)),this.faultHandlers[e]=t},deregisterFaultHandler:function(e){delete this.faultHandlers[e]},registerTopLevelFaultHandler:function(e,t,r){var o;if(r&&(t=n.hitch(r,t)),n.isString(e)){if("*"===e)return o={matcher:e,handler:t},this.defaultTopLevelHandler=t,o;e=this._constructMatcherFromQuery(e)}return o={matcher:e,handler:t},this.topLevelHandlers.push(o),o},registerEndpointLevelFaultHandler:function(e,t,r,o){var i;return o&&(r=n.hitch(o,r)),n.isString(t)&&(t=this._constructMatcherFromQuery(t)),i={matcher:t,handler:r},this.endPointLevelHandlers[e]||(this.endPointLevelHandlers[e]=[]),this.endPointLevelHandlers[e].push(i),i},deregisterTopLevelFaultHandler:function(e){var t=this.topLevelHandlers.indexOf(e);t>-1?this.topLevelHandlers.splice(t,1):"*"===e.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(t){var r=t.split("||"),o=[];return r.forEach((function(e){e=(e=(e=n.trim(e)).replace(/([.])/g,"\\$1")).replace(/\*/g,".*"),o.push(new RegExp("^"+e+"$"))})),function(t){return e.some(o,(function(e){return e.test(t.faultCode||t.code||"")}))}},handleFault:function(e){var t,r=function(t,n){var r,o=e.getMessageClassifier(n);o&&(r=[t,o].join(":"),this.faultHandlers[r]&&this.faultHandlers[r](e.fault,e.context))};for(t in e.requestMessages)if(e.requestMessages.hasOwnProperty(t)){this.faultHandlers[t]&&this.faultHandlers[t](e.fault,e.context);var o=e.requestMessages[t];Array.isArray(o)&&o.forEach(n.hitch(this,r,t))}this.faultHandlers["*"]&&this.faultHandlers["*"](e.fault,e.context),this.endPointLevelHandlers[e.endPointName]?this._handleEndpointLevelFault(e):this._handleTopLevelFault(e)},_handleEndpointLevelFault:function(t){var n=!1,r=e.filter(this.endPointLevelHandlers[t.endPointName],(function(e){return e.matcher.call(this,t.fault,t.context)}),this);return r.length>0&&r[0].handler&&(n=!0,r[0].handler.call(this,t.fault,t.context,t)),n},_handleTopLevelFault:function(t){var n=e.filter(this.topLevelHandlers,(function(e){return e.matcher.call(this,t.fault,t.context)}),this),r=n.length>0?n[0].handler:this.defaultTopLevelHandler;r&&r.call(this,t.fault,t.context,t)},handleNonTransactionFault:function(t){var n=e.filter(this.topLevelHandlers,(function(e){return e.matcher.call(this,t)}),this),r=n.length>0?n[0].handler:this.defaultTopLevelHandler;r&&r.call(this,t)}})}),e,t),e.exports=o},"mw-remote/impl/JsonTransaction":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/xhr"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-remote/impl/Transaction"])],o=n.dj.d(r,(function(e,t,n,r,o){return e(o,{constructor:function(e){e=e||{},this.uuid=e.uuid||this._generateUuid()},_getRequest:function(e){var t=r.isEndpointMessageContainerBased(this.endPointName),n=null;t?(n={uuid:this.uuid,messages:e},this.computeToken&&(n.computeToken=this.computeToken)):Object.keys(e).forEach((function(t){n=e[t]}));return this._sanitizeForJson(n),JSON.stringify(n,null,0)},_sanitizeForJson:function(e){var t;if(n.isArray(e))e.forEach(this._sanitizeForJson,this);else if(n.isObject(e))for(t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete e[t]:(n.isObject(e[t])||n.isArray(e[t]))&&this._sanitizeForJson(e[t]))},_doSend:function(e){return t.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:e})},_processResponse:function(e){this.stopTime=(new Date).getTime(),e?(e.fault&&(this.fault=e.fault),e.messages?this.responseMessages=e.messages:this.responseMessages=e):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(e){this.stopTime=(new Date).getTime(),this.fault={faultCode:"Connection.Fault",message:e}}})}),e,t),e.exports=o},"mw-remote/impl/RequestManager":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-remote/defaultMessageMapping"]),n(n.dj.r.absMids["mw-remote/impl/Transaction"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s){return t([],{defaultMapping:i,constructor:function(e){e=e||{},this.defaultFactories=e.defaultFactories||{},this.mockHandlers=e.mockHandlers||{},this.mapping=e.mapping||this.defaultMapping,this.responseManager=e.responseManager},registerDefaultMessageFactory:function(e,t,n){n&&(t=r.hitch(n,t)),this.defaultFactories[e]=t},deregisterDefaultMessageFactory:function(e){delete this.defaultFactories[e]},registerMockResponseGenerator:function(e,t,o){var i=this;t=r.hitch(o||this,t),this.mockHandlers[e]=function(e,r){var o,a=s.construct(r);(o=t(e,a))||(o=new n).callback(),o.addCallback((function(){i.responseManager._processResult(a)}))}},deregisterMockResponseGenerator:function(e){delete this.mockHandlers[e]},sendMessage:function(e,t,n){var r,o,i,s={},a={};for(t=t||{},this._createAndFillTransactions(e,t,n,s,a),r=Object.keys(s),o=0;o<r.length;o+=1)i=r[o],this._callMocks(a[i]),s[i].send(),this.responseManager.handleTransaction(s[i])},_getTransaction:function(e,t){return s.construct({context:t,computeToken:this.computeToken,endPointName:e})},_getMockTransaction:function(e,t,n){return s.construct({context:t,computeToken:this.computeToken,endPointName:e,uuid:n})},_createAndFillTransactions:function(e,t,n,r,i){var s,a,c,d,u=function(e){var n,s,a,c,d,u,l;if(d=o.getEndPointForMessageType(e),u=r[d],l=i[d],u||(u=this._getTransaction(d,t),l=this._getMockTransaction(d,t,u.uuid),r[d]=u,i[d]=l),this.defaultFactories[e]){if(!(n=this.defaultFactories[e](u.context)))return;a=(s=e.split(":"))[0],c=s.slice(1,s.length).join(":"),this.mockHandlers[e]||u.addRequestMessage(a,n,c),l.addRequestMessage(a,n,c)}};for(s in e)if(e.hasOwnProperty(s)){var l=o.getEndPointForMessageType(s);c=i[l],d=r[l],r[l]||(d=this._getTransaction(l,t),c=this._getMockTransaction(l,t,d.uuid),r[l]=d,i[l]=c),a=[s,n].join(":"),this.mockHandlers[s]||this.mockHandlers[a]||d.addRequestMessage(s,e[s],n),c.addRequestMessage(s,e[s],n),this.mapping[a]?this.mapping[a].forEach(u,this):this.mapping[s]&&this.mapping[s].forEach(u,this)}},_callMocks:function(e){var t,n,o=e.context;delete e.context;var i=function(e,n){var r,o=t.getMessageClassifier(n);o&&(r=[e,o].join(":"),this.mockHandlers[r]&&this.mockHandlers[r]([n],t))};for(n in e.requestMessages)e.requestMessages.hasOwnProperty(n)&&((t=r.mixin({},e)).context=o,this.mockHandlers.hasOwnProperty(n)&&this.mockHandlers[n](t.requestMessages[n],t),Array.isArray(t.requestMessages[n])?t.requestMessages[n].forEach(r.hitch(this,i,n)):i(n,t.requestMessages[n]));this.mockHandlers["*"]&&this.mockHandlers["*"](n,t.requestMessages[n],t)}})}),e,t),e.exports=o},"mw-remote/impl/ResponseManager":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"])],o=n.dj.d(r,(function(e,t,n,r){return e([],{constructor:function(e){e=e||{},this.responseHandlers=e.responseHandlers||{},this.faultManager=e.faultManager,this.transactions=e.transactions||[]},registerResponseHandler:function(e,n,r){r&&(n=t.hitch(r,n)),this.responseHandlers[e]=n},deregisterResponseHandler:function(e){delete this.responseHandlers[e]},handleTransaction:function(e){this.transactions.push(e),e.deferred.addCallback(t.hitch(this,this._processAll,e)),e.deferred.addCallback(t.hitch(this,this._processResult,e)),e.deferred.addErrback(t.hitch(this,this._processAll,e)),e.deferred.addErrback(t.hitch(this,this._processFault,e))},_processAll:function(e){var t;(t=this.transactions.indexOf(e))>=0&&this.transactions.splice(t,1)},_processResult:function(e){e.getResponseMessageTypes().forEach((function(t){var r=e.responseMessages[t],o=[];try{Array.isArray(r)&&(r.forEach((function(n){var r,i=e.getMessageClassifier(n);if(i){r=[t,i].join(":");var s=this,a=!1;e.getRequestMessageTypes().forEach((function(t){var o=e.requestMessages[t];Array.isArray(o)?o.forEach((function(t){s.responseHandlers[r]&&t.uuid===n.uuid&&(s.responseHandlers[r]([n],e.context),a=!0)})):s.responseHandlers[r]&&o.uuid===n.uuid&&(s.responseHandlers[r]([n],e.context),a=!0)})),a||o.push(n)}else o.push(n)}),this),o.length>0&&this.responseHandlers[t]&&this.responseHandlers[t](o,e.context),this.responseHandlers["*"]&&this.responseHandlers["*"](t,e.responseMessages[t],e.context))}catch(e){n.error("Remote: Fault occurred while processing response.\nMessage: "+e.message+"\nType: "+t+"\nResponse: "+JSON.stringify(r,null,2))}}),this),this._processUdcResponses(e),e.fault&&this.faultManager.handleFault(e)},_processUdcResponses:function(e){if(!r.isEndpointMessageContainerBased(e.endPointName)){var t=Object.keys(e.requestMessages)[0];this.responseHandlers[t]&&this.responseHandlers[t](e.responseMessages)}},_processFault:function(e){this.faultManager.handleFault(e)}})}),e,t),e.exports=o},"mw-remote/impl/Transaction":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-utils/Utils"])],o=n.dj.d(r,(function(e,t,n,r,o){return e([],{constructor:function(e){e=e||{},this.requestMessages=e.requestMessages||{},this.responseMessages=e.responseMessages||{},this.context=e.context,this.computeToken=e.computeToken,this.uuidClassifierMap=e.uuidClassifierMap||{},this.endPointName=e.endPointName||null,this.allowedMessages=e.allowedMessages||[],this.ignoreMessageTypes=e.ignoreMessageTypes||[],this.sendMessage=e.sendMessage},addRequestMessage:function(e,t,o){if(t){var i=r.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[e]||(this.requestMessages[e]=[]),n.isArray(t)?t.forEach((function(t){this.addRequestMessage(e,t,o)}),this):i?(t.uuid=t.uuid||this._generateUuid(),o&&(this.uuidClassifierMap[t.uuid]=o),this.requestMessages[e].push(t)):this.requestMessages[e]=t,this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(e){var t={};return this.getRequestMessageTypes().forEach((function(n){(0===this.allowedMessages.length||this.allowedMessages.indexOf(n)>=0)&&(t[n]=e[n])}),this),t},getResponseMessageTypes:function(){var e,t=[];for(e in this.responseMessages)this.responseMessages.hasOwnProperty(e)&&t.push(e);return t},getRequestMessageTypes:function(){var e,t=[];for(e in this.requestMessages)this.requestMessages.hasOwnProperty(e)&&t.push(e);return t},getMessageClassifier:function(e){return e&&e.uuid&&this.uuidClassifierMap.hasOwnProperty(e.uuid)?this.uuidClassifierMap[e.uuid]:""},send:function(){this._removeEmptyMessages(),this._isEmpty(this.requestMessages)?(this.deferred=new t,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(e,t){var n;if(this.getRequestMessageTypes().indexOf(e)>-1)if(t)for(n in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(n)&&t&&this.uuidClassifierMap[n]===t&&this.ignoreMessageTypes.push(e+":"+t);else this.ignoreMessageTypes.push(e)},_removeEmptyMessages:function(){var e;if(!this._isEmpty(this.requestMessages))for(e in this.requestMessages)this.requestMessages.hasOwnProperty(e)&&n.isArray(this.requestMessages[e])&&0===o.getArrayLength(this.requestMessages[e])&&delete this.requestMessages[e]},_isEmpty:function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},_generateUuid:function(){return o.generateUuid()}})}),e,t),e.exports=o},"mw-remote/serviceRegistryLookup":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/request/xhr"]),n(n.dj.r.absMids["mw-html-utils/HtmlUtils"])],o=n.dj.d(r,(function(e,t){var n=!1,r={_serviceData:{},getServiceRegistryEndpoint:function(e){var t,n;if(r._serviceData.serviceregistry)for(t=r._serviceData.serviceregistry.length,n=0;n<t;n+=1)if(r._serviceData.serviceregistry[n].name===e)return r._serviceData.serviceregistry[n].endpoint;return""}},o=function(e){var n=t.parseQueryString().mre;if(n){var r=new URL(n,window.location.href);if(i(r)){n=r.href;var o=e.serviceregistry;o=Array.isArray(o)?o:[];var s=!1;o.forEach((function(e){e.name&&"primary"===e.name&&(e.endpoint=n,s=!0)})),s||(o.push({name:"primary",endpoint:n}),e.serviceregistry=o)}}return e},i=function(e){return!(e.origin!==window.location.origin&&!s(e))},s=function(e){var t=e.origin;e.port&&(t=e.origin.replace(":"+e.port,""));var n=[".mathworks.com",".mathworks.cn"];for(var r in n){var o=n[r];if(t.endsWith(o))return!0}return!1},a={_doXhr:function(t,n){return e(t,{handleAs:"json",failOk:!0,method:"GET",timeout:15e3,sync:n})},_reset:function(){n=!1,r._serviceData={}},load:function(e,t,i){if(n)i(r);else{var s=!t.async;a._doXhr("/serviceregistrylookup/1/service",s).then((function(e){e instanceof Object||(e={}),r._serviceData=o(e),n=!0,i(r)}),(function(){r._serviceData=o({}),n=!0,i(r)}))}}};return a}),e,t),e.exports=o},"mw-remote/serviceRegistryLookup!":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["mw-remote/serviceRegistryLookup"]),n("mwBundle.mldatx_file_preview_plugin|7c1cede0fa96821f1d00933e343d2e2af30a4286"),n(n.dj.r.absMids["8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf"])],o=n.dj.d(r,(function(e,t){return t(e,"",n.dj.c(),!0)}),e,t),e.exports=o},"mw-remote/utils/RemoteUrlUtils":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["mw-log/Log"])],o=n.dj.d(r,(function(e){var t=new RegExp("^(?:[a-z]+:)?//","i"),n=["localhost","127.0.0.1","[::1]"];return{createWorkerRoutingHostUrl:function(t,r){var o=t,i="",s="",a=r.host,c=r.sessionId,d=r.routingKey;try{if(i=new URL(a),this.isAbsoluteUrl(t)){if((s=new URL(t)).origin&&n.includes(s.hostname)){var u=s.pathname;o=new URL(u,i).href,o+=s.search}}else o=t&&t.startsWith("/")?i+t.substr(1,t.length):i+t;return o+=(o.indexOf("?")>=0?"&":"?")+"mre="+i,d&&c&&(o+="&routingkey="+d+"&computeToken="+c),o}catch(t){e.error("Input URL is malformed")}return o},isAbsoluteUrl:function(e){return!!t.test(e)}}}),e,t),e.exports=o},"mw-remote/utils/SendMessageUtil":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["dojo/_base/xhr"]),n(n.dj.r.absMids["dojo/_base/Deferred"])],o=n.dj.d(r,(function(e,t,n){return{sendPayload:function(r,o,i){var s=e.getEndPointAllowsDirectXhr(o),a=new n;return s.then((function(n){(n.status===e.DirectXhrConstants.ENABLED?function(n,r,o){var i=o&&o.headers?o.headers:null;return t.post({url:e.getRemoteUrlForEndPoint(r),contentType:"application/json",handleAs:"json",headers:i,postData:n})}(r,o,i):function(t,n,r){return e.getIframeProxyClientForEndPoint(n).sendMessage(t,e.getRemoteUrlForEndPoint(n),r)}(r,o,i)).then((function(e){a.resolve(e)}))})),a}}}),e,t),e.exports=o},"mw-statemachine/StateMachine":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/State"])],o=n.dj.d(r,(function(e,t){return e([],{constructor:function(e){e.stateMachine=this,this.state=new t(e)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(e,t){this.state.enter(e,t)},onEnterState:function(e){},onExitState:function(e){}})}),e,t),e.exports=o},"mw-statemachine/statemachineimpl/EventTrigger":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],o=n.dj.d(r,(function(e,t,n,r,o){return e(o,{constructor:function(){this.connection={}},enable:function(){t.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]),this.connection=n.after(this.context,this.name,t.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove(),this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})}),e,t),e.exports=o},"mw-statemachine/statemachineimpl/MessageTrigger":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/topic"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],o=n.dj.d(r,(function(e,t,n,r,o){return e(o,{constructor:function(){var e=this.name.split(" ");(e.length<2||"subscribe"!==e[0])&&r.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name."),this.messageId=e[1]||"",this.subscrition={}},enable:function(){this.subscription=n.subscribe(this.messageId,t.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})}),e,t),e.exports=o},"mw-statemachine/statemachineimpl/RemoteTrigger":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/Remote"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],o=n.dj.d(r,(function(e,t,n,r,o){return e(o,{constructor:function(){var e=this.name.split(" ");(e.length<2||"response"!==e[0]&&"fault"!==e[0])&&n.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler."),r.registerResponseHandler&&r.registerFaultHandler||n.error("The remote package is not available, this type of trigger will not work."),this.messageId=e[1]||"",this.handlerType=e[0]},enable:function(){"response"===this.handlerType?r.registerResponseHandler(this.messageId,t.hitch(null,this.triggerHandler,this.name)):r.registerFaultHandler(this.messageId,t.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?r.deregisterResponseHandler(this.messageId):r.deregisterFaultHandler(this.messageId)}})}),e,t),e.exports=o},"mw-statemachine/statemachineimpl/State":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/EventTrigger"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/MessageTrigger"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/RemoteTrigger"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/TimeoutTrigger"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Transition"])],o=n.dj.d(r,(function(e,t,n,r,o,i,s,a){var c;return c=e([],{constructor:function(e){this.stateMachine=e.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}},this.namespace=e.namespace||"",this.name=e.name||this.getDefaultName(),this.context=e.context||{},this.data=e.data||{},this.composition=e.composition||"XOR",this.defaultSubstate=e.defaultSubstate||"",this.constructSubstates(e.substates),this.constructTriggersAndTransitions(e.transitions),this.active=e.active||!1},getDefaultName:function(){var e;return this.namespace.length>0?e=this.namespace.split(".").pop():n.warn("State: state name is not specified."),e||""},constructSubstates:function(e){var t,r,o={};for(t in e)e.hasOwnProperty(t)&&((r=e[t]).name&&r.name!==t&&n.error("State: error constructing substate: "+t+", the specified names don't match: "+r.name),r.name=t,r.namespace=r.namespace||[this.namespace,this.name].join("."),r.stateMachine=r.stateMachine||this.stateMachine,r.context=r.context||this.context,o[r.name]=new c(r));this.substates=o},constructTriggersAndTransitions:function(e){var t,n,r={},o=[];for(t in e)e.hasOwnProperty(t)&&((n=this.constructTrigger(t))&&o.push(n),r[t]=this.constructTransition(t,e[t]));this.transitions=r,this.triggers=o},constructTrigger:function(e){var n,a,c;return 2===(n=e.split(" ")).length?"subscribe"===n[0]?c=o:"response"===n[0]||"fault"===n[0]?c=i:"timeout"===n[0]&&(c=s):"onEnterState"===e&&"onExitState"===e||(c=r),c&&(a=new c({name:e,context:this.context,triggerHandler:t.hitch(this,this.handleTrigger)})),a},constructTransition:function(e,n){var r,o;return(t.isFunction(n)||t.isString(n)||t.isArray(n))&&("onEnterState"===e||"onExitState"===e?(r=n,(n={}).action=r,n.target=""):(o=n,(n={}).target=o)),n.state=this,new a(n)},enter:function(e,t){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(t))),e?this.changeSubstates(e,t):this.changeToDefaultSubstate(t)},exit:function(){var e=this.activeSubstates();this.active=!1,this.disableTriggers(),e.forEach((function(e){e.exit()})),this.handleTrigger("onExitState"),this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach((function(e){e.enable()}))},disableTriggers:function(){this.triggers.forEach((function(e){e.disable()}))},handleTrigger:function(e){var n,r;this.transitions[e]&&(r=Array.prototype.slice.call(arguments,1,arguments.length),(n=this.transitions[e].handleTrigger(e,r))&&(t.isString(n)||(r=n.args,n=n.target),this.stateMachine._changeState(n,r)))},changeSubstates:function(e,t){var n=this.activeSubstates();this.substates[e]&&(n.length>=0&&n[0].name!==e&&n.forEach((function(e){e.exit()})),this.substates[e].enter(void 0,t))},changeToDefaultSubstate:function(e){0===this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,e)},activeSubstates:function(){var e,t=[];for(e in this.substates)this.substates.hasOwnProperty(e)&&this.substates[e].active&&t.push(this.substates[e]);return t}})}),e,t),e.exports=o},"mw-statemachine/statemachineimpl/TimeoutTrigger":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],o=n.dj.d(r,(function(e,t,n,r){return e(r,{constructor:function(){var e=this.name.split(" ");(e.length<2||"timeout"!==e[0])&&n.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler."),this.timeoutInSeconds=parseFloat(e[1]),this.handlerType=e[0]},enable:function(){this.disable(),this.timeoutHandle=setTimeout(t.hitch(null,this.triggerHandler,this.name),1e3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})}),e,t),e.exports=o},"mw-statemachine/statemachineimpl/Transition":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"])],o=n.dj.d(r,(function(e,t,n){return e([],{constructor:function(t){this.state={},this.target="",this.condition=null,this.action=null,e.safeMixin(this,t)},handleTrigger:function(e,t){var n="";return this.checkCondition(e,t)&&(this.runAction(e,t),n=this.getTarget(e,this.target,t)),n},checkCondition:function(e,n){return!this.condition||t.hitch(this.state.context,this.condition).apply(null,[e,this.state.data].concat(n))},runAction:function(e,n){this.action&&t.hitch(this.state.context,this.action).apply(null,[e,this.state.data].concat(n))},getTarget:function(e,r,o){var i,s,a;if(t.isString(r))s=r;else if(t.isFunction(r))s=t.hitch(this.state.context,r).apply(null,[e,this.state.data].concat(o));else if(t.isArray(r))for(i=0;i<r.length;i+=1){if(s=this.getTarget(e,r[i],o),t.isString(s)){s={target:s},t.mixin(s,a);break}if(s&&s.target){t.mixin(s,a);break}a=s||{}}else n.warn("Transition: improper target: ",r);return s}})}),e,t),e.exports=o},"mw-statemachine/statemachineimpl/Trigger":function(e,t,n){var r,o;r=[n(n.dj.r.absMids["dojo/_base/declare"])],o=n.dj.d(r,(function(e){return e([],{constructor:function(t){this.name="",this.context={},this.triggerHandler=t.triggerHandler||function(){},e.safeMixin(this,t)},enable:function(){},disable:function(){}})}),e,t),e.exports=o},"mw-utils/Utils":function(e,t,n){"use strict";var r,o;r=[n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/_base/window"]),n(n.dj.r.absMids["mw-utils/deprecation"])],o=n.dj.d(r,(function(e,t,n){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})).toUpperCase()},isImageData:function(e){return!!e&&(t.global.ImageData&&e instanceof t.global.ImageData||e.hasOwnProperty("width")&&e.hasOwnProperty("height")&&e.hasOwnProperty("data"))},isArray:function(e){return n.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368}),Array.isArray(e)},getArrayLength:function(t){var n=0;return!!e.isArray(t)&&(t.forEach((function(e){e&&(n+=1)})),n)},isWhitespace:function(e){return/^\s+$/.test(e)},removeSurroundingNewLines:function(e){for(;"\n"===e.charAt(0);)e=e.substring(1);for(;"\n"===e.charAt(e.length-1);)e=e.substring(0,e.length-1);return e},getFirstUniqueElement:function(e,t){var n=null;return t.some((function(t){if(-1===e.indexOf(t))return n=t,!0})),n},unionOfWordSets:function(e,t,n){e=this._stringToArray(e),t=this._stringToArray(t);var r=this.unionOfArrays(e,t);return n?r.join(" "):r},intersectionOfWordSets:function(e,t,n){e=this._stringToArray(e),t=this._stringToArray(t);var r=this.intersectionOfArrays(e,t);return n?r.join(" "):r},differenceOfWordSets:function(e,t,n){e=this._stringToArray(e),t=this._stringToArray(t);var r=this.unique(this.differenceOfArrays(e,t));return n?r.join(" "):r},unionOfArrays:function(e,t){return this.unique(e.concat(t))},intersectionOfArrays:function(e,t){return this.nonunique(e.concat(t))},differenceOfArrays:function(e,t){if(void 0===window.Map)return this._legacyDifferenceOfArrays(e,t);var n,r,o=new Map,i=[];for(r=0;r<t.length;r++)o.set(t[r],null);for(r=0;r<e.length;r++)n=e[r],o.has(n)||i.push(n);return i},_legacyDifferenceOfArrays:function(e,t){return this.unique(e.filter((function(e){return-1===t.indexOf(e)})))},unique:function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))},nonunique:function(e){return this.unique(e.filter((function(t,n){return e.indexOf(t)!==n})))},arrayEquals:function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;n||(n=function(e,t){return e===t});for(var r=0,o=e.length;r<o;r++)if(!n(e[r],t[r]))return!1;return!0},removeEmptyElements:function(e){return e.filter((function(e){return!(""===e||null==e)}))},_stringToArray:function(e){return this._isString(e)?this.removeEmptyElements(e.split(" ")):e},_isString:function(e){return"string"==typeof e||e instanceof String}}}),e,t),e.exports=o},"mw-utils/deprecation":function(e,t,n){"use strict";var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["mw-log/Log"])],o=n.dj.d(r,(function(e,t){var n={deprecated:function(n){var r,o;(!!e.isDebug||!!window.showDeprecationsAsErrors)&&this._isConfigValid(n)&&(o=window.showDeprecationsAsErrors||n.deprecationLevel===this.ERROR?this.ERROR:this.WARN,r="DEPRECATED: ",n.deprecated&&(r+=n.deprecated.module,n.deprecated.method&&(r+="."+n.deprecated.method+"()"),r+="."),n.replacement&&(r+=" Use "+n.replacement.module,n.replacement.method&&(r+="."+n.replacement.method+"()"),r+=" instead."),n.removalVersion&&(r+=" Will be removed in version: "+n.removalVersion+"."),n.geckNumber&&(r+=" Please use g"+n.geckNumber+" to track latest information regarding this deprecation"),n.additionalInformation&&(r+=" "+n.additionalInformation),t[o](r))},_isConfigValid:function(e){var n=!!e.deprecated&&"object"===i(e.deprecated)&&e.deprecated.hasOwnProperty("module");return e.replacement&&(n=n&&"object"===i(e.replacement)&&e.replacement.hasOwnProperty("module")),e.geckNumber&&(n=n&&"number"==typeof e.geckNumber),n||t.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API"),n}};return Object.defineProperties(n,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),n}),e,t),e.exports=o}},[[0,"runtime~mwBundle.mldatx_file_preview_plugin"]]]);