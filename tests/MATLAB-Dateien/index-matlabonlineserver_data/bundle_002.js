/*! For license information please see bundle.mwBundle.runasbatchjob.js.LICENSE.txt */
(function(){(this||window).webpackJsonp.registerAbsMids({"6702f66ea6fad7d4e541523edb4368dbc0eb0790":"6702f66ea6fad7d4e541523edb4368dbc0eb0790","7c1cede0fa96821f1d00933e343d2e2af30a4286":"7c1cede0fa96821f1d00933e343d2e2af30a4286","8a650a8e8945cf44f0347c98798b2babf7b10d11":"8a650a8e8945cf44f0347c98798b2babf7b10d11","8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf":"8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf",ae48bb0af69685fc6246b77a90a95d4e3710f7af:"ae48bb0af69685fc6246b77a90a95d4e3710f7af","cajsservice/apis/setupFileAnalysisService":"cajsservice/apis/setupFileAnalysisService","cajsservice/resources/codeanalysis/jsapi/nls/ja-jp/jsapi_catalog":"cajsservice/resources/codeanalysis/jsapi/nls/ja-jp/jsapi_catalog","cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog":"cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog","cajsservice/resources/codeanalysis/jsapi/nls/ko-kr/jsapi_catalog":"cajsservice/resources/codeanalysis/jsapi/nls/ko-kr/jsapi_catalog","cajsservice/resources/codeanalysis/jsapi/nls/zh-cn/jsapi_catalog":"cajsservice/resources/codeanalysis/jsapi/nls/zh-cn/jsapi_catalog","cajsservice/source/getFileStructureInformation":"cajsservice/source/getFileStructureInformation","cajsservice/source/setupChannelsForMultipleRequests":"cajsservice/source/setupChannelsForMultipleRequests","dojo/Deferred":"dojo/Deferred","dojo/Evented":"dojo/Evented","dojo/_base/Deferred":"dojo/_base/Deferred","dojo/_base/array":"dojo/_base/array","dojo/_base/config":"dojo/_base/config","dojo/_base/connect":"dojo/_base/connect","dojo/_base/declare":"dojo/_base/declare","dojo/_base/event":"dojo/_base/event","dojo/_base/json":"dojo/_base/json","dojo/_base/kernel":"dojo/_base/kernel","dojo/_base/lang":"dojo/_base/lang","dojo/_base/sniff":"dojo/_base/sniff","dojo/_base/unload":"dojo/_base/unload","dojo/_base/window":"dojo/_base/window","dojo/_base/xhr":"dojo/_base/xhr","dojo/aspect":"dojo/aspect","dojo/dom":"dojo/dom","dojo/dom-attr":"dojo/dom-attr","dojo/dom-construct":"dojo/dom-construct","dojo/dom-form":"dojo/dom-form","dojo/dom-geometry":"dojo/dom-geometry","dojo/dom-prop":"dojo/dom-prop","dojo/dom-style":"dojo/dom-style","dojo/errors/CancelError":"dojo/errors/CancelError","dojo/errors/RequestError":"dojo/errors/RequestError","dojo/errors/RequestTimeoutError":"dojo/errors/RequestTimeoutError","dojo/errors/create":"dojo/errors/create","dojo/has":"dojo/has","dojo/i18n":"dojo/i18n","dojo/i18n!cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog":"dojo/i18n!cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog","dojo/i18n!runasbatchjob/resources/parallel/web/nls/common":"dojo/i18n!runasbatchjob/resources/parallel/web/nls/common","dojo/io-query":"dojo/io-query","dojo/json":"dojo/json","dojo/keys":"dojo/keys","dojo/mouse":"dojo/mouse","dojo/on":"dojo/on","dojo/promise/Promise":"dojo/promise/Promise","dojo/promise/all":"dojo/promise/all","dojo/request/handlers":"dojo/request/handlers","dojo/request/script":"dojo/request/script","dojo/request/util":"dojo/request/util","dojo/request/watch":"dojo/request/watch","dojo/request/xhr":"dojo/request/xhr","dojo/sniff":"dojo/sniff","dojo/topic":"dojo/topic","dojo/when":"dojo/when","dojox/cometd/AckExtension":"dojox/cometd/AckExtension","dojox/cometd/cometd":"dojox/cometd/cometd","lodash/lodash.min":"lodash/lodash.min","mf0/Changes":"mf0/Changes","mf0/DeepTransaction":"mf0/DeepTransaction","mf0/Element":"mf0/Element","mf0/Instantiable":"mf0/Instantiable","mf0/KnownOriginTransactionFactory":"mf0/KnownOriginTransactionFactory","mf0/Listener":"mf0/Listener","mf0/Log":"mf0/Log","mf0/Mixable":"mf0/Mixable","mf0/Model":"mf0/Model","mf0/ModelElement":"mf0/ModelElement","mf0/ModelElementPrivate":"mf0/ModelElementPrivate","mf0/ModelPrivate":"mf0/ModelPrivate","mf0/NestedTransaction":"mf0/NestedTransaction","mf0/ReportData":"mf0/ReportData","mf0/ShallowTransaction":"mf0/ShallowTransaction","mf0/Storage":"mf0/Storage","mf0/Transaction":"mf0/Transaction","mf0/TransactionPrivate":"mf0/TransactionPrivate","mf0/TypeNames":"mf0/TypeNames","mf0/Value":"mf0/Value","mf0/collections/AbstractCollection":"mf0/collections/AbstractCollection","mf0/collections/Map":"mf0/collections/Map","mf0/collections/Multimap":"mf0/collections/Multimap","mf0/collections/Sequence":"mf0/collections/Sequence","mf0/collections/Set":"mf0/collections/Set","mf0/collections/StringToStringMap":"mf0/collections/StringToStringMap","mf0/collections/SubsettedElementSet":"mf0/collections/SubsettedElementSet","mf0/io/ElementId":"mf0/io/ElementId","mf0/io/EventProcessor":"mf0/io/EventProcessor","mf0/io/IntermediateFormatOutput":"mf0/io/IntermediateFormatOutput","mf0/io/JSONChangeReportSynchronizer":"mf0/io/JSONChangeReportSynchronizer","mf0/io/JSONConstants":"mf0/io/JSONConstants","mf0/io/JSONCustomizer":"mf0/io/JSONCustomizer","mf0/io/JSONModelTraverser":"mf0/io/JSONModelTraverser","mf0/io/JSONModelTraverserNoTransient":"mf0/io/JSONModelTraverserNoTransient","mf0/io/JSONParser":"mf0/io/JSONParser","mf0/io/JSONSerializer":"mf0/io/JSONSerializer","mf0/io/ModelBuilder":"mf0/io/ModelBuilder","mf0/io/ModelTraverser":"mf0/io/ModelTraverser","mf0/io/PacketTransport":"mf0/io/PacketTransport","mf0/io/ParseCustomizer":"mf0/io/ParseCustomizer","mf0/io/ParseItem":"mf0/io/ParseItem","mf0/io/ParseProcessor":"mf0/io/ParseProcessor","mf0/io/Parser":"mf0/io/Parser","mf0/io/PropertyCategory":"mf0/io/PropertyCategory","mf0/io/SerializationOutput":"mf0/io/SerializationOutput","mf0/io/SerializeCustomizer":"mf0/io/SerializeCustomizer","mf0/io/Serializer":"mf0/io/Serializer","mf0/io/SynchronizationChannel":"mf0/io/SynchronizationChannel","mf0/io/Visitor":"mf0/io/Visitor","mf0/meta":"mf0/meta","mf0/meta/DataModelUsageProvider":"mf0/meta/DataModelUsageProvider","mf0/meta/DefaultPropertySerializer":"mf0/meta/DefaultPropertySerializer","mf0/meta/Event":"mf0/meta/Event","mf0/meta/ExtendAttributeMap":"mf0/meta/ExtendAttributeMap","mf0/meta/ExtendClass":"mf0/meta/ExtendClass","mf0/meta/ExtendEnumLiteral":"mf0/meta/ExtendEnumLiteral","mf0/meta/ExtendExtension":"mf0/meta/ExtendExtension","mf0/meta/ExtendPackage":"mf0/meta/ExtendPackage","mf0/meta/ExtendProperty":"mf0/meta/ExtendProperty","mf0/meta/ExtendStructuredType":"mf0/meta/ExtendStructuredType","mf0/meta/ExtendType":"mf0/meta/ExtendType","mf0/meta/Loader":"mf0/meta/Loader","mf0/meta/PropertySerializer":"mf0/meta/PropertySerializer","mf0/meta/PropertySerializerRegistry":"mf0/meta/PropertySerializerRegistry","mf0/meta/Registry":"mf0/meta/Registry","mf0/meta/RegistryCore":"mf0/meta/RegistryCore","mf0/meta/RegistryTypes":"mf0/meta/RegistryTypes","mf0/resources/messages":"mf0/resources/messages","mf0/util/ConsoleLoggerBackend":"mf0/util/ConsoleLoggerBackend","mf0/util/DisplaySummaryMap":"mf0/util/DisplaySummaryMap","mf0/util/Err":"mf0/util/Err","mf0/util/LogSpec":"mf0/util/LogSpec","mf0/util/LogVerbosity":"mf0/util/LogVerbosity","mf0/util/Mf0Err":"mf0/util/Mf0Err","mf0/util/UmlSemantics":"mf0/util/UmlSemantics","mf0/util/UmlSyntax":"mf0/util/UmlSyntax","mf0/util/underscoreExtended":"mf0/util/underscoreExtended","mf0_sync/ConnectorChannel":"mf0_sync/ConnectorChannel","mf0_sync/HostSyncLoggerBackend":"mf0_sync/HostSyncLoggerBackend","mf0_sync/ModelSynchronizer":"mf0_sync/ModelSynchronizer","mw-deprecation-utils/deprecation":"mw-deprecation-utils/deprecation","mw-filebrowser/actions/Action":"mw-filebrowser/actions/Action","mw-html-utils/HtmlUtils":"mw-html-utils/HtmlUtils","mw-html-utils/_parseHtml/sanitize":"mw-html-utils/_parseHtml/sanitize","mw-log/Log":"mw-log/Log","mw-log/impl/Backlog":"mw-log/impl/Backlog","mw-log/impl/Levels":"mw-log/impl/Levels","mw-log/impl/Modes":"mw-log/impl/Modes","mw-log/util/LogUtils":"mw-log/util/LogUtils","mw-messageservice/MessageService":"mw-messageservice/MessageService","mw-messageservice/messageserviceimpl/MessageServiceAsync":"mw-messageservice/messageserviceimpl/MessageServiceAsync","mw-messageservice/messageserviceimpl/MessageServiceBase":"mw-messageservice/messageserviceimpl/MessageServiceBase","mw-messageservice/messageserviceimpl/MessageServiceReqResp":"mw-messageservice/messageserviceimpl/MessageServiceReqResp","mw-messageservice/messageserviceimpl/MessageServiceState":"mw-messageservice/messageserviceimpl/MessageServiceState","mw-messageservice/messageserviceimpl/transportEnums":"mw-messageservice/messageserviceimpl/transportEnums","mw-mvm/ExecutionStatus":"mw-mvm/ExecutionStatus","mw-mvm/InputRequester":"mw-mvm/InputRequester","mw-mvm/UserMvm":"mw-mvm/UserMvm","mw-mvm/impl/Connection":"mw-mvm/impl/Connection","mw-mvm/impl/Debugger":"mw-mvm/impl/Debugger","mw-mvm/impl/EventManager":"mw-mvm/impl/EventManager","mw-mvm/impl/Fileinfo":"mw-mvm/impl/Fileinfo","mw-mvm/impl/IdleBusyService":"mw-mvm/impl/IdleBusyService","mw-mvm/impl/Listener":"mw-mvm/impl/Listener","mw-mvm/impl/MVM":"mw-mvm/impl/MVM","mw-mvm/impl/MVMCache":"mw-mvm/impl/MVMCache","mw-mvm/impl/MVMConnection":"mw-mvm/impl/MVMConnection","mw-mvm/impl/Payload":"mw-mvm/impl/Payload","mw-mvm/impl/PromptService":"mw-mvm/impl/PromptService","mw-mvm/impl/RequestTracker":"mw-mvm/impl/RequestTracker","mw-mvm/impl/RuntimeException":"mw-mvm/impl/RuntimeException","mw-mvm/impl/SharedPathEntryVectorPtrSerializer":"mw-mvm/impl/SharedPathEntryVectorPtrSerializer","mw-mvm/impl/StackFrame":"mw-mvm/impl/StackFrame","mw-mvm/impl/State":"mw-mvm/impl/State","mw-remote/EndPointsManager":"mw-remote/EndPointsManager","mw-remote/Remote":"mw-remote/Remote","mw-remote/RemoteEndPointsManager":"mw-remote/RemoteEndPointsManager","mw-remote/ReplaceUploadIframe":"mw-remote/ReplaceUploadIframe","mw-remote/UploadToWorker":"mw-remote/UploadToWorker","mw-remote/defaultMessageMapping":"mw-remote/defaultMessageMapping","mw-remote/iframeproxy/CheckUrlService":"mw-remote/iframeproxy/CheckUrlService","mw-remote/iframeproxy/IframeProxyClient":"mw-remote/iframeproxy/IframeProxyClient","mw-remote/iframeproxy/IframeProxyReplace":"mw-remote/iframeproxy/IframeProxyReplace","mw-remote/impl/AutoDetectedTransaction":"mw-remote/impl/AutoDetectedTransaction","mw-remote/impl/FaultManager":"mw-remote/impl/FaultManager","mw-remote/impl/JsonTransaction":"mw-remote/impl/JsonTransaction","mw-remote/impl/RequestManager":"mw-remote/impl/RequestManager","mw-remote/impl/ResponseManager":"mw-remote/impl/ResponseManager","mw-remote/impl/Transaction":"mw-remote/impl/Transaction","mw-remote/serviceRegistryLookup":"mw-remote/serviceRegistryLookup","mw-remote/serviceRegistryLookup!":"mw-remote/serviceRegistryLookup!","mw-remote/utils/RemoteUrlUtils":"mw-remote/utils/RemoteUrlUtils","mw-remote/utils/SendMessageUtil":"mw-remote/utils/SendMessageUtil","mw-statemachine/StateMachine":"mw-statemachine/StateMachine","mw-statemachine/statemachineimpl/EventTrigger":"mw-statemachine/statemachineimpl/EventTrigger","mw-statemachine/statemachineimpl/MessageTrigger":"mw-statemachine/statemachineimpl/MessageTrigger","mw-statemachine/statemachineimpl/RemoteTrigger":"mw-statemachine/statemachineimpl/RemoteTrigger","mw-statemachine/statemachineimpl/State":"mw-statemachine/statemachineimpl/State","mw-statemachine/statemachineimpl/TimeoutTrigger":"mw-statemachine/statemachineimpl/TimeoutTrigger","mw-statemachine/statemachineimpl/Transition":"mw-statemachine/statemachineimpl/Transition","mw-statemachine/statemachineimpl/Trigger":"mw-statemachine/statemachineimpl/Trigger","mw-utils/Utils":"mw-utils/Utils","mw-utils/deprecation":"mw-utils/deprecation","object-hash/object_hash":"object-hash/object_hash","performance/cache/cache-mixins":"performance/cache/cache-mixins","performance/cache/simple-caches":"performance/cache/simple-caches","performance/utils/function":"performance/utils/function","regenerator-runtime/runtime":"regenerator-runtime/runtime","runasbatchjob/_impl/RunAsBatchJobAction":"runasbatchjob/_impl/RunAsBatchJobAction","runasbatchjob/index":"runasbatchjob/index","runasbatchjob/resources/parallel/web/nls/common":"runasbatchjob/resources/parallel/web/nls/common","runasbatchjob/resources/parallel/web/nls/ja-jp/common":"runasbatchjob/resources/parallel/web/nls/ja-jp/common","runasbatchjob/resources/parallel/web/nls/ko-kr/common":"runasbatchjob/resources/parallel/web/nls/ko-kr/common","uuid/uuid":"uuid/uuid"},{MW_BUNDLE_CHUNK_ID:"mwBundle.runasbatchjob"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([["mwBundle.runasbatchjob"],{0:function(e,t,n){e.exports=n},"6702f66ea6fad7d4e541523edb4368dbc0eb0790":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"7c1cede0fa96821f1d00933e343d2e2af30a4286":function(e,t,n){var r,i;r=[],i=n.dj.d(r,(function(){return function(e,t,n,r){var i,o,a;if(e.load(t,n,(function(e){o=e,a=!0,i&&i(e)}),{isBuild:!0}),a)return o;if(!r)throw new Error(t+" unavailable");return(o=new Promise((function(e){i=e}))).__DOJO_WEBPACK_DEFINE_PROMISE__=!0,o}}),e,t),e.exports=i},"8a650a8e8945cf44f0347c98798b2babf7b10d11":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf":function(e,t){e.exports=void 0},ae48bb0af69685fc6246b77a90a95d4e3710f7af:function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"cajsservice/apis/setupFileAnalysisService":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["cajsservice/source/setupChannelsForMultipleRequests"]),n(n.dj.r.absMids["cajsservice/source/getFileStructureInformation"]),n(n.dj.r.absMids["mw-utils/Utils"]),n(n.dj.r.absMids["dojo/i18n!cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog"])],i=n.dj.d(r,(function(e,t,n,r){function i(e){return{hasTreeError:function(){return t.hasTreeError(e)},getFileType:function(){return t.getFileType(e)},getAllSections:function(){return t.getAllSections(e)},getAllFunctions:function(){var n=[];return n=t.extractNodesFromAST(e.structure,n,["function","method","classdef"],"functions",o),t.getAllFunctions(e,n)},getClassDefinition:function(){return e.classDefinitions}}}function o(e,t){var n={name:e.name,type:e.type,startLine:e.startLine,startColumn:e.startColumn,endLine:e.endLine,endColumn:e.endColumn};return e.hasOwnProperty("outputs")&&(n.outputs=e.outputs),e.hasOwnProperty("inputs")&&(n.inputs=e.inputs),n[t]=[],n}function a(e){if(e&&Object.getOwnPropertyNames(e).length)return!!(e.hasOwnProperty("hasTreeError")&&e.hasOwnProperty("fileType")&&e.hasOwnProperty("structure")&&e.hasOwnProperty("sections")&&e.hasOwnProperty("classDefinitions"))||!!e.failure}return function(t){var o=n.generateUuid(),s=e("/codeanalyzer/requestChannel/cfb","/codeanalyzer/responseChannel/cfb/"+o,i,a,t);return{requestFileAnalysis:function(e){return"string"==typeof e&&e.trim().length>0?s.requestDetails(o,e):Promise.reject(r.invalidInput)},cleanupFileAnalysisService:function(){s.cleanupService()}}}}),e,t),e.exports=i},"cajsservice/resources/codeanalysis/jsapi/nls/ja-jp/jsapi_catalog":function(e,t,n){e.exports={emptyExpr:"入力式が空または未定義です",invalidInput:"無効な入力",noData:"受信データがありません"}},"cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog":function(e,t,n){e.exports={root:{emptyExpr:"Empty or undefined input expression",invalidInput:"Invalid input",noData:"No data received"},"ja-jp":!0,"ko-kr":!0,"zh-cn":!0}},"cajsservice/resources/codeanalysis/jsapi/nls/ko-kr/jsapi_catalog":function(e,t,n){e.exports={emptyExpr:"비어 있거나 정의되지 않은 입력 표현식임",invalidInput:"유효하지 않은 입력값임",noData:"수신된 데이터가 없음"}},"cajsservice/resources/codeanalysis/jsapi/nls/zh-cn/jsapi_catalog":function(e,t,n){e.exports={emptyExpr:"空的或未定义的输入表达式",invalidInput:"输入无效",noData:"未收到数据"}},"cajsservice/source/getFileStructureInformation":function(e,t,n){var r,i;r=[],i=n.dj.d(r,(function(){return{getDocumentState:function(e){return e.documentState},hasTreeError:function(e){return e.hasTreeError},getFileType:function(e){return e.fileType},getAllSections:function(e){var t=[];if(e.sections.endLines.length>0)for(var n=0;n<e.sections.endLines.length;++n)t.push({startLine:e.sections.startLines[n],endLine:e.sections.endLines[n],isExplicit:e.sections.isExplicit[n],name:e.sections.names[n]});return t},getBlockLocations:function(e){return e.structure},getAllFunctions:function(e,t){if("ClassdefFile"===e.fileType){for(var n=[],r=0;r<t[0].functions.length;r++)n.push(t[0].functions[r]);for(var i=1;i<t.length;i++)n.push(t[i]);return n}return t},extractNodesFromAST:function(e,t,n,r,i){for(var o=!1,a=0;a<e.length;a++){o=!1;for(var s=0;s<n.length;s++)if(e[a].type===n[s]){t.push(i(e[a],r)),o=!0;break}if(e[a].blocks&&e[a].blocks.length>0){var u=t.length;o?t[u-1][r]=this.extractNodesFromAST(e[a].blocks,t[u-1][r],n,r,i):t=this.extractNodesFromAST(e[a].blocks,t,n,r,i)}}return t}}}),e,t),e.exports=i},"cajsservice/source/setupChannelsForMultipleRequests":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["mw-messageservice/MessageService"]),n(n.dj.r.absMids["dojo/i18n!cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog"]),n(n.dj.r.absMids["mw-log/Log"])],i=n.dj.d(r,(function(e,t,n){return function(r,i,o,a,s){s=s||e;var u=new Map,c={requestDetails:function(e,t){var n=new Promise((function(e,n){u[t]={resolve:e,reject:n}})),i={filename:t,channelId:e};return s.publish(r,i),n},cleanupService:function(){s.unsubscribe(i,l,this)}};function l(e){if(u[e.data.filename]){if(a(e.data))if(e.data.failure)n.error(e.data.message),u[e.data.filename].reject(e.data);else{var r=o(e.data);u[e.data.filename].resolve(r)}else u[e.data.filename].reject(t.noData);delete u[e.data.filename]}}return s.subscribe(i,l,c).then((function(){})),c}}),e,t),e.exports=i},"dojo/Deferred":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/errors/CancelError"]),n(n.dj.r.absMids["dojo/promise/Promise"]),n(n.dj.r.absMids["8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";var o="This deferred has already been fulfilled.",a=Object.freeze||function(){},s=function(t,n,r,i,o){e("config-deferredInstrumentation")&&2===n&&f.instrumentRejected&&0===t.length&&f.instrumentRejected(r,!1,i,o);for(var a=0;a<t.length;a++)u(t[a],n,r,i)},u=function(t,n,r,i){var o=t[n],a=t.deferred;if(o)try{var s=o(r);if(0===n)void 0!==s&&l(a,n,s);else{if(s&&"function"==typeof s.then)return t.cancel=s.cancel,void s.then(c(a,1),c(a,2),c(a,0));l(a,1,s)}}catch(e){l(a,2,e)}else l(a,n,r);e("config-deferredInstrumentation")&&2===n&&f.instrumentRejected&&f.instrumentRejected(r,!!o,i,a.promise)},c=function(e,t){return function(n){l(e,t,n)}},l=function(e,t,n){if(!e.isCanceled())switch(t){case 0:e.progress(n);break;case 1:e.resolve(n);break;case 2:e.reject(n)}},f=function(t){var i,c,l,d=this.promise=new r,h=this,p=!1,m=[];e("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(h,f),Error.captureStackTrace(d,f)),this.isResolved=d.isResolved=function(){return 1===i},this.isRejected=d.isRejected=function(){return 2===i},this.isFulfilled=d.isFulfilled=function(){return!!i},this.isCanceled=d.isCanceled=function(){return p},this.progress=function(e,t){if(i){if(!0===t)throw new Error(o);return d}return s(m,0,e,null,h),d},this.resolve=function(e,t){if(i){if(!0===t)throw new Error(o);return d}return s(m,i=1,c=e,null,h),m=null,d};var y=this.reject=function(t,n){if(i){if(!0===n)throw new Error(o);return d}return e("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(l={},y),s(m,i=2,c=t,l,h),m=null,d};this.then=d.then=function(e,t,n){var r=[n,e,t];return r.cancel=d.cancel,r.deferred=new f((function(e){return r.cancel&&r.cancel(e)})),i&&!m?u(r,i,c,l):m.push(r),r.deferred.promise},this.cancel=d.cancel=function(e,r){if(i){if(!0===r)throw new Error(o)}else{if(t){var a=t(e);e=void 0===a?e:a}if(p=!0,!i)return void 0===e&&(e=new n),y(e),e;if(2===i&&c===e)return e}},a(d)};return f.prototype.toString=function(){return"[object Deferred]"},i&&i(f),f}),e,t),e.exports=i},"dojo/Evented":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/on"])],i=n.dj.d(r,(function(e,t){"use strict";var n=e.after;function r(){}return r.prototype={on:function(e,r){return t.parse(this,e,r,(function(e,t){return n(e,"on"+t,r,!0)}))},emit:function(e,n){var r=[this];return r.push.apply(r,arguments),t.emit.apply(t,r)}},r}),e,t),e.exports=i},"dojo/_base/Deferred":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/promise/Promise"]),n(n.dj.r.absMids["dojo/errors/CancelError"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/when"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a){var s=function(){},u=Object.freeze||function(){},c=e.Deferred=function(e){var a,l,f,d,h,p,m,y=this.promise=new n;function g(e){if(l)throw new Error("This deferred has already been resolved");a=e,l=!0,v()}function v(){for(var e;!e&&m;){var n=m;m=m.next,(e=n.progress==s)&&(l=!1);var r=h?n.error:n.resolved;if(i("config-useDeferredInstrumentation")&&h&&t.instrumentRejected&&t.instrumentRejected(a,!!r),r)try{var u=r(a);if(u&&"function"==typeof u.then){u.then(o.hitch(n.deferred,"resolve"),o.hitch(n.deferred,"reject"),o.hitch(n.deferred,"progress"));continue}var c=e&&void 0===u;e&&!c&&(h=u instanceof Error),n.deferred[c&&h?"reject":"resolve"](c?a:u)}catch(e){n.deferred.reject(e)}else h?n.deferred.reject(a):n.deferred.resolve(a)}}this.isResolved=y.isResolved=function(){return 0==d},this.isRejected=y.isRejected=function(){return 1==d},this.isFulfilled=y.isFulfilled=function(){return d>=0},this.isCanceled=y.isCanceled=function(){return f},this.resolve=this.callback=function(e){this.fired=d=0,this.results=[e,null],g(e)},this.reject=this.errback=function(e){h=!0,this.fired=d=1,i("config-useDeferredInstrumentation")&&t.instrumentRejected&&t.instrumentRejected(e,!!m),g(e),this.results=[null,e]},this.progress=function(e){for(var t=m;t;){var n=t.progress;n&&n(e),t=t.next}},this.addCallbacks=function(e,t){return this.then(e,t,s),this},y.then=this.then=function(e,t,n){var r=n==s?this:new c(y.cancel),i={resolved:e,error:t,progress:n,deferred:r};return m?p=p.next=i:m=p=i,l&&v(),r.promise};var b=this;y.cancel=this.cancel=function(){if(!l){var t=e&&e(b);l||(t instanceof Error||(t=new r(t)),t.log=!1,b.reject(t))}f=!0},u(y)};return o.extend(c,{addCallback:function(t){return this.addCallbacks(o.hitch.apply(e,arguments))},addErrback:function(t){return this.addCallbacks(null,o.hitch.apply(e,arguments))},addBoth:function(t){var n=o.hitch.apply(e,arguments);return this.addCallbacks(n,n)},fired:-1}),c.when=e.when=a,c}),e,t),e.exports=i},"dojo/_base/array":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/lang"])],i=n.dj.d(r,(function(e,t,n){var r={};function i(e){return r[e]=new Function("item","index","array",e)}function o(e){var t=!e;return function(n,o,a){var s,u=0,c=n&&n.length||0;if(c&&"string"==typeof n&&(n=n.split("")),"string"==typeof o&&(o=r[o]||i(o)),a){for(;u<c;++u)if(s=!o.call(a,n[u],u,n),e^s)return!s}else for(;u<c;++u)if(s=!o(n[u],u,n),e^s)return!s;return t}}function a(e){var t=1,n=0,r=0;return e||(t=n=r=-1),function(i,o,a,u){if(u&&t>0)return s.lastIndexOf(i,o,a);var c,l=i&&i.length||0,f=e?l+r:n;for(void 0===a?c=e?n:l+r:a<0?(c=l+a)<0&&(c=n):c=a>=l?l+r:a,l&&"string"==typeof i&&(i=i.split(""));c!=f;c+=t)if(i[c]==o)return c;return-1}}var s={every:o(!1),some:o(!0),indexOf:a(!0),lastIndexOf:a(!1),forEach:function(e,t,n){var o=0,a=e&&e.length||0;if(a&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=r[t]||i(t)),n)for(;o<a;++o)t.call(n,e[o],o,e);else for(;o<a;++o)t(e[o],o,e)},map:function(e,t,n,o){var a=0,s=e&&e.length||0,u=new(o||Array)(s);if(s&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=r[t]||i(t)),n)for(;a<s;++a)u[a]=t.call(n,e[a],a,e);else for(;a<s;++a)u[a]=t(e[a],a,e);return u},filter:function(e,t,n){var o,a=0,s=e&&e.length||0,u=[];if(s&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=r[t]||i(t)),n)for(;a<s;++a)o=e[a],t.call(n,o,a,e)&&u.push(o);else for(;a<s;++a)t(o=e[a],a,e)&&u.push(o);return u},clearCache:function(){r={}}};return t("extend-dojo")&&n.mixin(e,s),s}),e,t),e.exports=i},"dojo/_base/config":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/has"]),n.dj.c(e.i)],i=n.dj.d(r,(function(e,t){var n,r={};if(e("dojo-config-api")){var i,o=t.rawConfig;for(i in o)r[i]=o[i]}else{var a=function(t,n,r){for(i in t)"has"!=i&&e.add(n+i,t[i],0,r)},s=function(){return this}();a(r=e("dojo-loader")?t.rawConfig:s.dojoConfig||s.djConfig||{},"config",1),a(r.has,"",1)}(r.updateLocale=function(e,t){var n;if(e.indexOf(t)>=0&&"zh"!==t)r.locale=t;else if("zh"!==(n=t.split("-")[0])){for(var i=0;i<e.length;i+=1)if(n===e[i].split("-")[0]){r.locale=e[i];break}r.locale||(r.locale="en-us".toLowerCase())}else r.locale="en-us".toLocaleLowerCase()},r.locale||"undefined"==typeof navigator)||(n=r._testLanguageOverride||navigator.language||navigator.userLanguage)&&(n=n.toLowerCase(),r.supportedLocales&&r.updateLocale(r.supportedLocales,n));return r.locale||(r.locale="en-us"),r}),e,t),e.exports=i},"dojo/_base/connect":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/topic"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/_base/event"]),n(n.dj.r.absMids["dojo/mouse"]),n(n.dj.r.absMids["dojo/_base/sniff"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/keys"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s){function u(n,i,a,u,l){if(u=s.hitch(a,u),!n||!n.addEventListener&&!n.attachEvent)return r.after(n||e.global,i,u,!0);if("string"==typeof i&&"on"==i.substring(0,2)&&(i=i.substring(2)),n||(n=e.global),!l)switch(i){case"keypress":i=c;break;case"mouseenter":i=o.enter;break;case"mouseleave":i=o.leave}return t(n,i,u,l)}a.add("events-keypress-typed",(function(){var e={charCode:0};try{((e=document.createEvent("KeyboardEvent")).initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(e){}return 0==e.charCode&&!a("opera")}));var c,l={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=a("mac")?"metaKey":"ctrlKey",d=function(e,t){var n=s.mixin({},e,t);return h(n),n.preventDefault=function(){e.preventDefault()},n.stopPropagation=function(){e.stopPropagation()},n};function h(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode}if(a("events-keypress-typed")){c=function(e,n){var r=t(e,"keydown",(function(e){var t=e.keyCode,r=13!=t&&32!=t&&(27!=t||!a("ie"))&&(t<48||t>90)&&(t<96||t>111)&&(t<186||t>192)&&(t<219||t>222)&&229!=t;if(r||e.ctrlKey){var i=r?0:t;if(e.ctrlKey){if(3==t||13==t)return n.call(e.currentTarget,e);i>95&&i<106?i-=48:!e.shiftKey&&i>=65&&i<=90?i+=32:i=l[i]||i}var o=d(e,{type:"keypress",faux:!0,charCode:i});n.call(e.currentTarget,o),a("ie")&&function(e,t){try{e.keyCode=t}catch(e){return 0}}(e,o.keyCode)}})),i=t(e,"keypress",(function(e){var t=e.charCode;return e=d(e,{charCode:t=t>=32?t:0,faux:!0}),n.call(this,e)}));return{remove:function(){r.remove(),i.remove()}}}}else c=a("opera")?function(e,n){return t(e,"keypress",(function(e){var t=e.which;return 3==t&&(t=99),t=t<32&&!e.shiftKey?0:t,e.ctrlKey&&!e.shiftKey&&t>=65&&t<=90&&(t+=32),n.call(this,d(e,{charCode:t}))}))}:function(e,n){return t(e,"keypress",(function(e){return h(e),n.call(this,e)}))};var p={_keypress:c,connect:function(e,t,n,r,i){var o=arguments,a=[],s=0;a.push("string"==typeof o[0]?null:o[s++],o[s++]);var c=o[s+1];a.push("string"==typeof c||"function"==typeof c?o[s++]:null,o[s++]);for(var l=o.length;s<l;s++)a.push(o[s]);return u.apply(this,a)},disconnect:function(e){e&&e.remove()},subscribe:function(e,t,r){return n.subscribe(e,s.hitch(t,r))},publish:function(e,t){return n.publish.apply(n,[e].concat(t))},connectPublisher:function(e,t,n){var r=function(){p.publish(e,arguments)};return n?p.connect(t,n,r):p.connect(t,r)},isCopyKey:function(e){return e[f]}};return p.unsubscribe=p.disconnect,a("extend-dojo")&&s.mixin(e,p),p}),e,t),e.exports=i},"dojo/_base/declare":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/lang"])],i=n.dj.d(r,(function(e,t,n){var r,i=n.mixin,o=Object.prototype,a=o.toString,s=0,u="constructor";function c(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function l(e,t,n){var r,i,a,s,l,f,d,h,p,m=this._inherited=this._inherited||{};if("string"==typeof e&&(r=e,e=t,t=n),n=0,s=e.callee,(r=r||s.nom)||c("can't deduce a name to call inherited()",this.declaredClass),a=(l=this.constructor._meta).bases,p=m.p,r!=u){if(m.c!==s&&(p=0,(l=(f=a[0])._meta).hidden[r]!==s)){(i=l.chains)&&"string"==typeof i[r]&&c("calling chained method with inherited: "+r,this.declaredClass);do{if(l=f._meta,d=f.prototype,l&&(d[r]===s&&d.hasOwnProperty(r)||l.hidden[r]===s))break}while(f=a[++p]);p=f?p:-1}if(f=a[++p])if(d=f.prototype,f._meta&&d.hasOwnProperty(r))n=d[r];else{h=o[r];do{if((n=(d=f.prototype)[r])&&(f._meta?d.hasOwnProperty(r):n!==h))break}while(f=a[++p])}n=f&&n||o[r]}else{if(m.c!==s&&(p=0,(l=a[0]._meta)&&l.ctor!==s)){for((i=l.chains)&&"manual"===i.constructor||c("calling chained constructor with inherited",this.declaredClass);(f=a[++p])&&(!(l=f._meta)||l.ctor!==s););p=f?p:-1}for(;(f=a[++p])&&!(n=(l=f._meta)?l.ctor:f););n=f&&n}if(m.c=n,m.p=p,n)return!0===t?n:n.apply(this,t||e)}function f(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}r=t("csp-restrictions")?function(){}:new Function;var d=e.config.isDebug?function(e,t,n){var r=this.getInherited(e,t);if(r)return r.apply(this,n||t||e)}:l;function h(e){for(var t=this.constructor._meta.bases,n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return this instanceof e}function p(e,r){for(var i in r)i!=u&&r.hasOwnProperty(i)&&(e[i]=r[i]);if(t("bug-for-in-skips-shadowed"))for(var o=n._extraNames,a=o.length;a;)(i=o[--a])!=u&&r.hasOwnProperty(i)&&(e[i]=r[i])}function m(e){return _.safeMixin(this.prototype,e),this}function y(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},_([this].concat(e=e||[]),t)}function g(e,t,n){return function(){var r,i,o,a=0,s=1;for(n&&(a=t.length-1,s=-1);r=t[a];a+=s)(o=((i=r._meta)?i.hidden:r.prototype)[e])&&o.apply(this,arguments)}}function v(e){r.prototype=e.prototype;var t=new r;return r.prototype=null,t}function b(e){var t=e.callee,n=v(t);return t.apply(n,e),n}function _(e,t,r){"string"!=typeof e&&(r=t,t=e,e=""),r=r||{};var w,j,E,M,k,C,P,T=1,S=t;if("[object Array]"==a.call(t)?(E=(C=function(e,t){for(var n,r,i,o,u,l,f,d,h=[],p=[{cls:0,refs:[]}],m={},y=1,g=e.length,v=0;v<g;++v){for((i=e[v])?"[object Function]"!=a.call(i)&&c("mixin #"+v+" is not a callable constructor.",t):c("mixin #"+v+" is unknown. Did you use dojo.require to pull it in?",t),o=0,n=(r=i._meta?i._meta.bases:[i]).length-1;n>=0;--n)(u=r[n].prototype).hasOwnProperty("declaredClass")||(u.declaredClass="uniqName_"+s++),f=u.declaredClass,m.hasOwnProperty(f)||(m[f]={count:0,refs:[],cls:r[n]},++y),l=m[f],o&&o!==l&&(l.refs.push(o),++o.count),o=l;++o.count,p[0].refs.push(o)}for(;p.length;){for(o=p.pop(),h.push(o.cls),--y;1==(d=o.refs).length;){if(!(o=d[0])||--o.count){o=0;break}h.push(o.cls),--y}if(o)for(v=0,g=d.length;v<g;++v)--(o=d[v]).count||p.push(o)}return y&&c("can't build consistent linearization",t),i=e[0],h[0]=i?i._meta&&i===h[h.length-i._meta.bases.length]?i._meta.bases.length:1:0,h}(t,e))[0],t=C[T=C.length-E]):(C=[0],t?"[object Function]"==a.call(t)?(E=t._meta,C=C.concat(E?E.bases:t)):c("base class is not a callable constructor.",e):null!==t&&c("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(j=T-1;w=v(t),j;--j)((E=C[j])._meta?p:i)(w,E.prototype),(M=new Function).superclass=t,M.prototype=w,t=w.constructor=M;else w={};for(_.safeMixin(w,r),(E=r.constructor)!==o.constructor&&(E.nom=u,w.constructor=E),j=T-1;j;--j)(E=C[j]._meta)&&E.chains&&(P=i(P||{},E.chains));if(w["-chains-"]&&(P=i(P||{},w["-chains-"])),E=!P||!P.hasOwnProperty(u),C[0]=M=P&&"manual"===P.constructor?function(e){return function(){var t,n,r=arguments,i=0;if(!(this instanceof r.callee))return b(r);for(;t=e[i];++i)if(t=(n=t._meta)?n.ctor:t){t.apply(this,r);break}(t=this.postscript)&&t.apply(this,r)}}(C):1==C.length?function(e,t){return function(){var n,r=arguments,i=r,o=r[0];if(!(this instanceof r.callee))return b(r);t&&(o&&(n=o.preamble)&&(i=n.apply(this,i)||i),(n=this.preamble)&&n.apply(this,i)),e&&e.apply(this,r),(n=this.postscript)&&n.apply(this,r)}}(r.constructor,E):function(e,t){return function(){var n,r,i,o,a=arguments,s=a,u=a[0],c=e.length;if(!(this instanceof a.callee))return b(a);if(t&&(u&&u.preamble||this.preamble))for((o=new Array(e.length))[0]=a,r=0;(u=a[0])&&(n=u.preamble)&&(a=n.apply(this,a)||a),(n=(n=e[r].prototype).hasOwnProperty("preamble")&&n.preamble)&&(a=n.apply(this,a)||a),++r!=c;)o[r]=a;for(r=c-1;r>=0;--r)(n=(i=(n=e[r])._meta)?i.ctor:n)&&n.apply(this,o?o[r]:a);(n=this.postscript)&&n.apply(this,s)}}(C,E),M._meta={bases:C,hidden:r,chains:P,parents:S,ctor:r.constructor},M.superclass=t&&t.prototype,M.extend=m,M.createSubclass=y,M.prototype=w,w.constructor=M,w.getInherited=f,w.isInstanceOf=h,w.inherited=d,w.__inherited=l,e&&(w.declaredClass=e,n.setObject(e,M)),P)for(k in P)w[k]&&"string"==typeof P[k]&&k!=u&&((E=w[k]=g(k,C,"after"===P[k])).nom=k);return M}return e.safeMixin=_.safeMixin=function(e,r){var i,s;for(i in r)(s=r[i])===o[i]&&i in o||i==u||("[object Function]"==a.call(s)&&(s.nom=i),e[i]=s);if(t("bug-for-in-skips-shadowed")&&r)for(var c=n._extraNames,l=c.length;l;)(s=r[i=c[--l]])===o[i]&&i in o||i==u||("[object Function]"==a.call(s)&&(s.nom=i),e[i]=s);return e},e.declare=_,_}),e,t),e.exports=i},"dojo/_base/event":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/dom-geometry"])],i=n.dj.d(r,(function(e,t,n,r){if(t._fixEvent){var i=t._fixEvent;t._fixEvent=function(e,t){return(e=i(e,t))&&r.normalizeEvent(e),e}}var o={fix:function(e,n){return t._fixEvent?t._fixEvent(e,n):e},stop:function(e){n("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((e=e||window.event).cancelBubble=!0,t._preventDefault.call(e))}};return n("extend-dojo")&&(e.fixEvent=o.fix,e.stopEvent=o.stop),o}),e,t),e.exports=i},"dojo/_base/json":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/json"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,(function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="\t",dojo.toJson=function(e,t){return json.stringify(e,(function(e,t){if(t){var n=t.__json__||t.json;if("function"==typeof n)return n.call(t)}return t}),t&&dojo.toJsonIndentStr)},dojo}),module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/_base/kernel":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/config"]),n.dj.c(e.i),n.dj.m(e)],i=n.dj.d(r,(function(e,t,n,r){var i,o,a,s=function(){return this}(),u={},c={},l={config:t,global:s,dijit:u,dojox:c},f={dojo:["dojo",l],dijit:["dijit",u],dojox:["dojox",c]},d=n.map&&n.map[r.id.match(/[^\/]+/)[0]];for(o in d)f[o]?f[o][0]=d[o]:f[o]=[d[o],{}];for(o in f)(a=f[o])[1]._scopeName=a[0],t.noGlobals||(s[a[0]]=a[1]);l.scopeMap=f,l.baseUrl=l.config.baseUrl=n.baseUrl,l.isAsync=!e("dojo-loader")||n.async,l.locale=t.locale;var h="$Rev: 91fa0cb $".match(/[0-9a-f]{7,}/);if(l.version={major:1,minor:11,patch:2,flag:"",revision:h?h[0]:NaN,toString:function(){var e=l.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}},e.add("extend-dojo",1),e("csp-restrictions")||Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(l),e("host-rhino")?l.exit=function(e){quit(e)}:l.exit=function(){},e("host-webworker")||e.add("dojo-guarantee-console",1),e("dojo-guarantee-console")){e.add("console-as-object",(function(){return Function.prototype.bind&&console&&"object"==typeof console.log})),"undefined"!=typeof console||(console={});var p,m=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];for(i=0;p=m[i++];)console[p]?e("console-as-object")&&(console[p]=Function.prototype.bind.call(console[p],console)):function(){var e=p+"";console[e]="log"in console?function(){var t=Array.prototype.slice.call(arguments);t.unshift(e+":"),console.log(t.join(" "))}:function(){},console[e]._fake=!0}()}if(e.add("dojo-debug-messages",!!t.isDebug),l.deprecated=l.experimental=function(){},e("dojo-debug-messages")&&(l.deprecated=function(e,t,n){var r="DEPRECATED: "+e;t&&(r+=" "+t),n&&(r+=" -- will be removed in version: "+n),console.warn(r)},l.experimental=function(e,t){var n="EXPERIMENTAL: "+e+" -- APIs subject to change without notice.";t&&(n+=" "+t),console.warn(n)}),e.add("dojo-modulePaths",1),e("dojo-modulePaths")&&t.modulePaths){l.deprecated("dojo.modulePaths","use paths configuration");var y={};for(o in t.modulePaths)y[o.replace(/\./g,"/")]=t.modulePaths[o];n({paths:y})}return e.add("dojo-moduleUrl",1),e("dojo-moduleUrl")&&(l.moduleUrl=function(e,t){l.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var r=null;return e&&(r=n.toUrl(e.replace(/\./g,"/")+(t?"/"+t:"")+"/*.*").replace(/\/\*\.\*/,"")+(t?"":"/")),r}),l._hasResource={},l}),e,t),e.exports=i},"dojo/_base/lang":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/sniff"])],i=n.dj.d(r,(function(e,t){t.add("bug-for-in-skips-shadowed",(function(){for(var e in{toString:1})return 0;return 1}));var n=t("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],r=n.length,i=function(t,n,r){r||(r=t[0]&&e.scopeMap[t[0]]?e.scopeMap[t.shift()][1]:e.global);try{for(var i=0;i<t.length;i++){var o=t[i];if(!(o in r)){if(!n)return;r[o]={}}r=r[o]}return r}catch(e){}},o=Object.prototype.toString,a=function(e,t,n){return(n||[]).concat(Array.prototype.slice.call(e,t||0))},s=/\{([^\}]+)\}/g,u={_extraNames:n,_mixin:function(e,i,o){var a,s,u,c={};for(a in i)s=i[a],a in e&&(e[a]===s||a in c&&c[a]===s)||(e[a]=o?o(s):s);if(t("bug-for-in-skips-shadowed")&&i)for(u=0;u<r;++u)s=i[a=n[u]],a in e&&(e[a]===s||a in c&&c[a]===s)||(e[a]=o?o(s):s);return e},mixin:function(e,t){e||(e={});for(var n=1,r=arguments.length;n<r;n++)u._mixin(e,arguments[n]);return e},setObject:function(e,t,n){var r=e.split("."),o=r.pop(),a=i(r,!0,n);return a&&o?a[o]=t:void 0},getObject:function(e,t,n){return e?i(e.split("."),t,n):n},exists:function(e,t){return void 0!==u.getObject(e,!1,t)},isString:function(e){return"string"==typeof e||e instanceof String},isArray:Array.isArray||function(e){return"[object Array]"==o.call(e)},isFunction:function(e){return"[object Function]"===o.call(e)},isObject:function(e){return void 0!==e&&(null===e||"object"==typeof e||u.isArray(e)||u.isFunction(e))},isArrayLike:function(e){return!!e&&!u.isString(e)&&!u.isFunction(e)&&!(e.tagName&&"form"==e.tagName.toLowerCase())&&(u.isArray(e)||isFinite(e.length))},isAlien:function(e){return e&&!u.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(String(e))},extend:function(e,t){for(var n=1,r=arguments.length;n<r;n++)u._mixin(e.prototype,arguments[n]);return e},_hitchArgs:function(t,n){var r=u._toArray(arguments,2),i=u.isString(n);return function(){var o=u._toArray(arguments),a=i?(t||e.global)[n]:n;return a&&a.apply(t||this,r.concat(o))}},hitch:function(t,n){if(arguments.length>2)return u._hitchArgs.apply(e,arguments);if(n||(n=t,t=null),u.isString(n)){if(!(t=t||e.global)[n])throw['lang.hitch: scope["',n,'"] is null (scope="',t,'")'].join("");return function(){return t[n].apply(t,arguments||[])}}return t?function(){return n.apply(t,arguments||[])}:n},delegate:function(){function e(){}return function(t,n){e.prototype=t;var r=new e;return e.prototype=null,n&&u._mixin(r,n),r}}(),_toArray:t("ie")?function(){function e(e,t,n){for(var r=n||[],i=t||0;i<e.length;i++)r.push(e[i]);return r}return function(t){return(t.item?e:a).apply(this,arguments)}}():a,partial:function(t){var n=[null];return u.hitch.apply(e,n.concat(u._toArray(arguments)))},clone:function(e){if(!e||"object"!=typeof e||u.isFunction(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var t,n,r;if(u.isArray(e))for(t=[],n=0,r=e.length;n<r;++n)n in e&&(t[n]=u.clone(e[n]));else t=e.constructor?new e.constructor:{};return u._mixin(t,e,u.clone)},trim:String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(e,t,n){return e.replace(n||s,u.isFunction(t)?t:function(e,n){return u.getObject(n,!1,t)})}};return t("extend-dojo")&&u.mixin(e,u),u}),e,t),e.exports=i},"dojo/_base/sniff":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/sniff"])],i=n.dj.d(r,(function(e,t,n){return n("host-browser")?(e._name="browser",t.mixin(e,{isBrowser:!0,isFF:n("ff"),isIE:n("ie"),isKhtml:n("khtml"),isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),isAndroid:n("android"),isWii:n("wii"),isQuirks:n("quirks"),isAir:n("air")}),n):n}),e,t),e.exports=i},"dojo/_base/unload":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/on"])],i=n.dj.d(r,(function(e,t,n){var r=window,i={addOnWindowUnload:function(i,o){e.windowUnloaded||n(r,"unload",e.windowUnloaded=function(){}),n(r,"unload",t.hitch(i,o))},addOnUnload:function(e,i){n(r,"beforeunload",t.hitch(e,i))}};return e.addOnWindowUnload=i.addOnWindowUnload,e.addOnUnload=i.addOnUnload,i}),e,t),e.exports=i},"dojo/_base/window":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/sniff"])],i=n.dj.d(r,(function(e,t,n){var r={global:e.global,doc:e.global.document||null,body:function(t){return(t=t||e.doc).body||t.getElementsByTagName("body")[0]},setContext:function(t,n){e.global=r.global=t,e.doc=r.doc=n},withGlobal:function(t,n,i,o){var a=e.global;try{return e.global=r.global=t,r.withDoc.call(null,t.document,n,i,o)}finally{e.global=r.global=a}},withDoc:function(t,i,o,a){var s,u,c,l=r.doc,f=n("quirks"),d=n("ie");try{return e.doc=r.doc=t,e.isQuirks=n.add("quirks","BackCompat"==e.doc.compatMode,!0,!0),n("ie")&&(c=t.parentWindow)&&c.navigator&&(s=parseFloat(c.navigator.appVersion.split("MSIE ")[1])||void 0,(u=t.documentMode)&&5!=u&&Math.floor(s)!=u&&(s=u),e.isIE=n.add("ie",s,!0,!0)),o&&"string"==typeof i&&(i=o[i]),i.apply(o,a||[])}finally{e.doc=r.doc=l,e.isQuirks=n.add("quirks",f,!0,!0),e.isIE=n.add("ie",d,!0,!0)}}};return n("extend-dojo")&&t.mixin(e,r),r}),e,t),e.exports=i},"dojo/_base/xhr":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/sniff"]),n.dj.c(e.i),n(n.dj.r.absMids["dojo/io-query"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-form"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["dojo/_base/json"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/request/watch"]),n(n.dj.r.absMids["dojo/request/xhr"]),n(n.dj.r.absMids["dojo/request/util"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l,f,d,h,p,m){e._xhrObj=p._create;var y=e.config;e.objectToQuery=r.objectToQuery,e.queryToObject=r.queryToObject,e.fieldToObject=o.fieldToObject,e.formToObject=o.toObject,e.formToQuery=o.toQuery,e.formToJson=o.toJson,e._blockAsync=!1;var g=e._contentHandlers=e.contentHandlers={text:function(e){return e.responseText},json:function(e){return u.fromJson(e.responseText||null)},"json-comment-filtered":function(e){s.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");var t=e.responseText,n=t.indexOf("/*"),r=t.lastIndexOf("*/");if(-1==n||-1==r)throw new Error("JSON was not comment filtered");return u.fromJson(t.substring(n+2,r))},javascript:function(t){return e.eval(t.responseText)},xml:function(e){var n=e.responseXML;if(n&&t("dom-qsa2.1")&&!n.querySelectorAll&&t("dom-parser")&&(n=(new DOMParser).parseFromString(e.responseText,"application/xml")),t("ie")&&(!n||!n.documentElement)){var r=function(e){return"MSXML"+e+".DOMDocument"},i=["Microsoft.XMLDOM",r(6),r(4),r(3),r(2)];l.some(i,(function(t){try{var r=new ActiveXObject(t);r.async=!1,r.loadXML(e.responseText),n=r}catch(e){return!1}return!0}))}return n},"json-comment-optional":function(e){return e.responseText&&/^[^{\[]*\/\*/.test(e.responseText)?g["json-comment-filtered"](e):g.json(e)}};e._ioSetArgs=function(t,n,s,u){var l={args:t,url:t.url},f=null;if(t.form){var d=i.byId(t.form),h=d.getAttributeNode("action");l.url=l.url||(h?h.value:e.doc?e.doc.URL:null),f=o.toObject(d)}var p=[{}];f&&p.push(f),t.content&&p.push(t.content),t.preventCache&&p.push({"dojo.preventCache":(new Date).valueOf()}),l.query=r.objectToQuery(c.mixin.apply(null,p)),l.handleAs=t.handleAs||"text";var m=new a((function(e){e.canceled=!0,n&&n(e);var t=e.ioArgs.error;return t||((t=new Error("request cancelled")).dojoType="cancel",e.ioArgs.error=t),t}));m.addCallback(s);var g=t.load;g&&c.isFunction(g)&&m.addCallback((function(e){return g.call(t,e,l)}));var v=t.error;v&&c.isFunction(v)&&m.addErrback((function(e){return v.call(t,e,l)}));var b=t.handle;return b&&c.isFunction(b)&&m.addBoth((function(e){return b.call(t,e,l)})),m.addErrback((function(e){return u(e,m)})),y.ioPublish&&e.publish&&!1!==l.args.ioPublish&&(m.addCallbacks((function(t){return e.publish("/dojo/io/load",[m,t]),t}),(function(t){return e.publish("/dojo/io/error",[m,t]),t})),m.addBoth((function(t){return e.publish("/dojo/io/done",[m,t]),t}))),m.ioArgs=l,m};var v=function(e){var t=g[e.ioArgs.handleAs](e.ioArgs.xhr);return void 0===t?null:t},b=function(e,t){return t.ioArgs.args.failOk||console.error(e),e},_=function(t){w<=0&&(w=0,y.ioPublish&&e.publish&&(!t||t&&!1!==t.ioArgs.args.ioPublish)&&e.publish("/dojo/io/stop"))},w=0;d.after(h,"_onAction",(function(){w-=1})),d.after(h,"_onInFlight",_),e._ioCancelAll=h.cancelAll,e._ioNotifyStart=function(t){y.ioPublish&&e.publish&&!1!==t.ioArgs.args.ioPublish&&(w||e.publish("/dojo/io/start"),w+=1,e.publish("/dojo/io/send",[t]))},e._ioWatch=function(e,t,n,r){e.ioArgs.options=e.ioArgs.args;c.mixin(e,{response:e.ioArgs,isValid:function(n){return t(e)},isReady:function(t){return n(e)},handleResponse:function(t){return r(e)}}),h(e),_(e)};return e._ioAddQueryToUrl=function(e){e.query.length&&(e.url+=(-1==e.url.indexOf("?")?"?":"&")+e.query,e.query=null)},e.xhr=function(t,n,r){var i,o=e._ioSetArgs(n,(function(e){i&&i.cancel()}),v,b),a=o.ioArgs;"postData"in n?a.query=n.postData:"putData"in n?a.query=n.putData:"rawBody"in n?a.query=n.rawBody:(arguments.length>2&&!r||-1==="POST|PUT".indexOf(t.toUpperCase()))&&e._ioAddQueryToUrl(a);var s={method:t,handleAs:"text",timeout:n.timeout,withCredentials:n.withCredentials,ioArgs:a};void 0!==n.headers&&(s.headers=n.headers),void 0!==n.contentType&&(s.headers||(s.headers={}),s.headers["Content-Type"]=n.contentType),void 0!==a.query&&(s.data=a.query),void 0!==n.sync&&(s.sync=n.sync),e._ioNotifyStart(o);try{i=p(a.url,s,!0)}catch(e){return o.cancel(),o}return o.ioArgs.xhr=i.response.xhr,i.then((function(){o.resolve(o)})).otherwise((function(e){a.error=e,e.response&&(e.status=e.response.status,e.responseText=e.response.text,e.xhr=e.response.xhr),o.reject(e)})),o},e.xhrGet=function(t){return e.xhr("GET",t)},e.rawXhrPost=e.xhrPost=function(t){return e.xhr("POST",t,!0)},e.rawXhrPut=e.xhrPut=function(t){return e.xhr("PUT",t,!0)},e.xhrDelete=function(t){return e.xhr("DELETE",t)},e._isDocumentOk=function(e){return m.checkStatus(e.status)},e._getText=function(t){var n;return e.xhrGet({url:t,sync:!0,load:function(e){n=e}}),n},c.mixin(e.xhr,{_xhrObj:e._xhrObj,fieldToObject:o.fieldToObject,formToObject:o.toObject,objectToQuery:r.objectToQuery,formToQuery:o.toQuery,formToJson:o.toJson,queryToObject:r.queryToObject,contentHandlers:g,_ioSetArgs:e._ioSetArgs,_ioCancelAll:e._ioCancelAll,_ioNotifyStart:e._ioNotifyStart,_ioWatch:e._ioWatch,_ioAddQueryToUrl:e._ioAddQueryToUrl,_isDocumentOk:e._isDocumentOk,_getText:e._getText,get:e.xhrGet,post:e.xhrPost,put:e.xhrPut,del:e.xhrDelete}),e.xhr}),e,t),e.exports=i},"dojo/aspect":function(e,t,n){var r,i;r=[],i=n.dj.d(r,(function(){"use strict";function e(e){return function(t,n,r,i){var o,a=t[n];a&&a.target==t||(t[n]=o=function(){for(var e=o.nextId,t=arguments,n=o.before;n;)n.advice&&(t=n.advice.apply(this,t)||t),n=n.next;if(o.around)var r=o.around.advice(this,t);for(var i=o.after;i&&i.id<e;){if(i.advice)if(i.receiveArguments){var a=i.advice.apply(this,t);r=void 0===a?r:a}else r=i.advice.call(this,r,t);i=i.next}return r},a&&(o.around={advice:function(e,t){return a.apply(e,t)}}),o.target=t,o.nextId=o.nextId||0);var s=function(e,t,n,r){var i,o=e[t],a="around"==t;if(a){var s=n((function(){return o.advice(this,arguments)}));i={remove:function(){s&&(s=e=n=null)},advice:function(e,t){return s?s.apply(e,t):o.advice(e,t)}}}else i={remove:function(){if(i.advice){var r=i.previous,o=i.next;o||r?(r?r.next=o:e[t]=o,o&&(o.previous=r)):delete e[t],e=n=i.advice=null}},id:e.nextId++,advice:n,receiveArguments:r};if(o&&!a)if("after"==t){for(;o.next&&(o=o.next););o.next=i,i.previous=o}else"before"==t&&(e[t]=i,i.next=o,o.previous=i);else e[t]=i;return i}(o||a,e,r,i);return r=null,s}}var t=e("after");return{before:e("before"),around:e("around"),after:t}}),e,t),e.exports=i},"dojo/dom":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/window"])],i=n.dj.d(r,(function(e,t){if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var n={};e("ie")?n.byId=function(e,n){if("string"!=typeof e)return e;var r=n||t.doc,i=e&&r.getElementById(e);if(i&&(i.attributes.id.value==e||i.id==e))return i;var o=r.all[e];o&&!o.nodeName||(o=[o]);for(var a=0;i=o[a++];)if(i.attributes&&i.attributes.id&&i.attributes.id.value==e||i.id==e)return i}:n.byId=function(e,n){return("string"==typeof e?(n||t.doc).getElementById(e):e)||null},n.isDescendant=function(e,t){try{for(e=n.byId(e),t=n.byId(t);e;){if(e==t)return!0;e=e.parentNode}}catch(e){}return!1},e.add("css-user-select",(function(e,t,n){if(!n)return!1;var r=n.style,i=["Khtml","O","Moz","Webkit"],o=i.length,a="userSelect";do{if(void 0!==r[a])return a}while(o--&&(a=i[o]+"UserSelect"));return!1}));var r=e("css-user-select");return n.setSelectable=r?function(e,t){n.byId(e).style[r]=t?"":"none"}:function(e,t){var r=(e=n.byId(e)).getElementsByTagName("*"),i=r.length;if(t)for(e.removeAttribute("unselectable");i--;)r[i].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");i--;)r[i].setAttribute("unselectable","on")},n}),e,t),e.exports=i},"dojo/dom-attr":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-style"]),n(n.dj.r.absMids["dojo/dom-prop"])],i=n.dj.d(r,(function(e,t,n,r,i,o){var a={innerHTML:1,textContent:1,className:1,htmlFor:t("ie"),value:1},s={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function u(e,t){var n=e.getAttributeNode&&e.getAttributeNode(t);return!!n&&n.specified}e.has=function(e,t){var n=t.toLowerCase();return a[o.names[n]||t]||u(r.byId(e),s[n]||t)},e.get=function(e,t){e=r.byId(e);var i=t.toLowerCase(),c=o.names[i]||t,l=a[c],f=e[c];if(l&&void 0!==f)return f;if("textContent"==c)return o.get(e,c);if("href"!=c&&("boolean"==typeof f||n.isFunction(f)))return f;var d=s[i]||t;return u(e,d)?e.getAttribute(d):null},e.set=function(t,u,c){if(t=r.byId(t),2==arguments.length){for(var l in u)e.set(t,l,u[l]);return t}var f=u.toLowerCase(),d=o.names[f]||u,h=a[d];return"style"==d&&"string"!=typeof c?(i.set(t,c),t):h||"boolean"==typeof c||n.isFunction(c)?o.set(t,u,c):(t.setAttribute(s[f]||u,c),t)},e.remove=function(e,t){r.byId(e).removeAttribute(s[t.toLowerCase()]||t)},e.getNodeProp=function(e,t){e=r.byId(e);var n=t.toLowerCase(),i=o.names[n]||t;if(i in e&&"href"!=i)return e[i];var a=s[n]||t;return u(e,a)?e.getAttribute(a):null}}),e,t),e.exports=i},"dojo/dom-construct":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/window"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-attr"])],i=n.dj.d(r,(function(e,t,n,r,i,o){var a,s={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},u=/<\s*([\w\:]+)/,c={},l=0,f="__"+t._scopeName+"ToDomId";for(var d in s)if(s.hasOwnProperty(d)){var h=s[d];h.pre="option"==d?'<select multiple="multiple">':"<"+h.join("><")+">",h.post="</"+h.reverse().join("></")+">"}function p(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)}n("ie")<=8&&(a=function(e){e.__dojo_html5_tested="yes";var t=m("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},e.body);1!==t.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,(function(t){e.createElement(t)})),g(t)}),e.toDom=function(e,t){var i=(t=t||r.doc)[f];i||(t[f]=i=++l+"",c[i]=t.createElement("div")),n("ie")<=8&&!t.__dojo_html5_tested&&t.body&&a(t);var o,d,h,p,m=(e+="").match(u),y=m?m[1].toLowerCase():"",g=c[i];if(m&&s[y])for(o=s[y],g.innerHTML=o.pre+e+o.post,d=o.length;d;--d)g=g.firstChild;else g.innerHTML=e;if(1==g.childNodes.length)return g.removeChild(g.firstChild);for(p=t.createDocumentFragment();h=g.firstChild;)p.appendChild(h);return p},e.place=function(t,n,r){if(n=i.byId(n),"string"==typeof t&&(t=/^\s*</.test(t)?e.toDom(t,n.ownerDocument):i.byId(t)),"number"==typeof r){var o=n.childNodes;!o.length||o.length<=r?n.appendChild(t):p(t,o[r<0?0:r])}else switch(r){case"before":p(t,n);break;case"after":!function(e,t){var n=t.parentNode;n&&(n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling))}(t,n);break;case"replace":n.parentNode.replaceChild(t,n);break;case"only":e.empty(n),n.appendChild(t);break;case"first":if(n.firstChild){p(t,n.firstChild);break}default:n.appendChild(t)}return t};var m=e.create=function(t,n,a,s){var u=r.doc;return a&&(u=(a=i.byId(a)).ownerDocument),"string"==typeof t&&(t=u.createElement(t)),n&&o.set(t,n),a&&e.place(t,a,s),t};function y(e){if("innerHTML"in e)try{return void(e.innerHTML="")}catch(e){}for(var t;t=e.lastChild;)e.removeChild(t)}e.empty=function(e){y(i.byId(e))};var g=e.destroy=function(e){(e=i.byId(e))&&function(e,t){e.firstChild&&y(e),t&&(n("ie")&&t.canHaveChildren&&"removeNode"in e?e.removeNode(!1):t.removeChild(e))}(e,e.parentNode)}}),e,t),e.exports=i},"dojo/dom-form":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/io-query"]),n(n.dj.r.absMids["dojo/json"])],i=n.dj.d(r,(function(e,t,n,r){function i(t,n,r){if(null!==r){var i=t[n];"string"==typeof i?t[n]=[i,r]:e.isArray(i)?i.push(r):t[n]=r}}var o={fieldToObject:function(e){var n=null;if(e=t.byId(e)){var r=e.name,i=(e.type||"").toLowerCase();if(r&&i&&!e.disabled)if("radio"==i||"checkbox"==i)e.checked&&(n=e.value);else if(e.multiple){n=[];for(var o=[e.firstChild];o.length;)for(var a=o.pop();a;a=a.nextSibling){if(1!=a.nodeType||"option"!=a.tagName.toLowerCase()){a.nextSibling&&o.push(a.nextSibling),a.firstChild&&o.push(a.firstChild);break}a.selected&&n.push(a.value)}}else n=e.value}return n},toObject:function(e){for(var n={},r=t.byId(e).elements,a=0,s=r.length;a<s;++a){var u=r[a],c=u.name,l=(u.type||"").toLowerCase();c&&l&&"file|submit|image|reset|button".indexOf(l)<0&&!u.disabled&&(i(n,c,o.fieldToObject(u)),"image"==l&&(n[c+".x"]=n[c+".y"]=n[c].x=n[c].y=0))}return n},toQuery:function(e){return n.objectToQuery(o.toObject(e))},toJson:function(e,t){return r.stringify(o.toObject(e),null,t?4:0)}};return o}),e,t),e.exports=i},"dojo/dom-geometry":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/window"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-style"])],i=n.dj.d(r,(function(e,t,n,r){var i={boxModel:"content-box"};e("ie")&&(i.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),i.getPadExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),o=r.toPixelValue,a=o(e,i.paddingLeft),s=o(e,i.paddingTop),u=o(e,i.paddingRight),c=o(e,i.paddingBottom);return{l:a,t:s,r:u,b:c,w:a+u,h:s+c}};var o="none";function a(e,t,n,r,i,o){o=o||"px";var a=e.style;isNaN(t)||(a.left=t+o),isNaN(n)||(a.top=n+o),r>=0&&(a.width=r+o),i>=0&&(a.height=i+o)}function s(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function u(e){return"border-box"==i.boxModel||"table"==e.tagName.toLowerCase()||s(e)}i.getBorderExtents=function(e,t){e=n.byId(e);var i=r.toPixelValue,a=t||r.getComputedStyle(e),s=a.borderLeftStyle!=o?i(e,a.borderLeftWidth):0,u=a.borderTopStyle!=o?i(e,a.borderTopWidth):0,c=a.borderRightStyle!=o?i(e,a.borderRightWidth):0,l=a.borderBottomStyle!=o?i(e,a.borderBottomWidth):0;return{l:s,t:u,r:c,b:l,w:s+c,h:u+l}},i.getPadBorderExtents=function(e,t){e=n.byId(e);var o=t||r.getComputedStyle(e),a=i.getPadExtents(e,o),s=i.getBorderExtents(e,o);return{l:a.l+s.l,t:a.t+s.t,r:a.r+s.r,b:a.b+s.b,w:a.w+s.w,h:a.h+s.h}},i.getMarginExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),o=r.toPixelValue,a=o(e,i.marginLeft),s=o(e,i.marginTop),u=o(e,i.marginRight),c=o(e,i.marginBottom);return{l:a,t:s,r:u,b:c,w:a+u,h:s+c}},i.getMarginBox=function(t,a){t=n.byId(t);var s,u=a||r.getComputedStyle(t),c=i.getMarginExtents(t,u),l=t.offsetLeft-c.l,f=t.offsetTop-c.t,d=t.parentNode,h=r.toPixelValue;if(e("mozilla")){var p=parseFloat(u.left),m=parseFloat(u.top);isNaN(p)||isNaN(m)?d&&d.style&&"visible"!=(s=r.getComputedStyle(d)).overflow&&(l+=s.borderLeftStyle!=o?h(t,s.borderLeftWidth):0,f+=s.borderTopStyle!=o?h(t,s.borderTopWidth):0):(l=p,f=m)}else(e("opera")||8==e("ie")&&!e("quirks"))&&d&&(l-=(s=r.getComputedStyle(d)).borderLeftStyle!=o?h(t,s.borderLeftWidth):0,f-=s.borderTopStyle!=o?h(t,s.borderTopWidth):0);return{l:l,t:f,w:t.offsetWidth+c.w,h:t.offsetHeight+c.h}},i.getContentBox=function(t,o){t=n.byId(t);var a,s=o||r.getComputedStyle(t),u=t.clientWidth,c=i.getPadExtents(t,s),l=i.getBorderExtents(t,s);return u?(a=t.clientHeight,l.w=l.h=0):(u=t.offsetWidth,a=t.offsetHeight),e("opera")&&(c.l+=l.l,c.t+=l.t),{l:c.l,t:c.t,w:u-c.w-l.w,h:a-c.h-l.h}},i.setContentSize=function(e,t,r){e=n.byId(e);var o=t.w,s=t.h;if(u(e)){var c=i.getPadBorderExtents(e,r);o>=0&&(o+=c.w),s>=0&&(s+=c.h)}a(e,NaN,NaN,o,s)};var c={l:0,t:0,w:0,h:0};return i.setMarginBox=function(t,o,l){t=n.byId(t);var f=l||r.getComputedStyle(t),d=o.w,h=o.h,p=u(t)?c:i.getPadBorderExtents(t,f),m=i.getMarginExtents(t,f);if(e("webkit")&&s(t)){var y=t.style;d>=0&&!y.width&&(y.width="4px"),h>=0&&!y.height&&(y.height="4px")}d>=0&&(d=Math.max(d-p.w-m.w,0)),h>=0&&(h=Math.max(h-p.h-m.h,0)),a(t,o.l,o.t,d,h)},i.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},i.docScroll=function(n){n=n||t.doc;var r=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in r?{x:r.pageXOffset,y:r.pageYOffset}:(r=e("quirks")?t.body(n):n.documentElement)&&{x:i.fixIeBiDiScrollLeft(r.scrollLeft||0,n),y:r.scrollTop||0}},i.getIeDocumentElementOffset=function(e){return{x:0,y:0}},i.fixIeBiDiScrollLeft=function(n,r){r=r||t.doc;var o=e("ie");if(o&&!i.isBodyLtr(r)){var a=e("quirks"),s=a?t.body(r):r.documentElement,u=t.global;return 6==o&&!a&&u.frameElement&&s.scrollHeight>s.clientHeight&&(n+=s.clientLeft),o<8||a?n+s.clientWidth-s.scrollWidth:-n}return n},i.position=function(r,o){r=n.byId(r);var a=t.body(r.ownerDocument),s=r.getBoundingClientRect();if(s={x:s.left,y:s.top,w:s.right-s.left,h:s.bottom-s.top},e("ie")<9&&(s.x-=e("quirks")?a.clientLeft+a.offsetLeft:0,s.y-=e("quirks")?a.clientTop+a.offsetTop:0),o){var u=i.docScroll(r.ownerDocument);s.x+=u.x,s.y+=u.y}return s},i.getMarginSize=function(e,t){e=n.byId(e);var o=i.getMarginExtents(e,t||r.getComputedStyle(e)),a=e.getBoundingClientRect();return{w:a.right-a.left+o.w,h:a.bottom-a.top+o.h}},i.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!("pageX"in t)){var n=t.target,r=n&&n.ownerDocument||document,o=e("quirks")?r.body:r.documentElement;t.pageX=t.clientX+i.fixIeBiDiScrollLeft(o.scrollLeft||0,r),t.pageY=t.clientY+(o.scrollTop||0)}},i}),e,t),e.exports=i},"dojo/dom-prop":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/dom-style"]),n(n.dj.r.absMids["dojo/dom-construct"]),n(n.dj.r.absMids["dojo/_base/connect"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s){var u={},c=1,l=t._scopeName+"attrid";n.add("dom-textContent",(function(e,t,n){return"textContent"in n})),e.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"},e.get=function(t,r){t=i.byId(t);var o=r.toLowerCase(),a=e.names[o]||r;return"textContent"!=a||n("dom-textContent")?t[a]:function e(t){for(var n,r="",i=t.childNodes,o=0;n=i[o];o++)8!=n.nodeType&&(1==n.nodeType?r+=e(n):r+=n.nodeValue);return r}(t)},e.set=function(t,f,d){t=i.byId(t);var h=arguments.length;if(2==h&&"string"!=typeof f){for(var p in f)e.set(t,p,f[p]);return t}var m=f.toLowerCase(),y=e.names[m]||f;if("style"==y&&"string"!=typeof d)return o.set(t,d),t;if("innerHTML"==y)return n("ie")&&t.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(a.empty(t),t.appendChild(a.toDom(d,t.ownerDocument))):t[y]=d,t;if("textContent"==y&&!n("dom-textContent"))return a.empty(t),t.appendChild(t.ownerDocument.createTextNode(d)),t;if(r.isFunction(d)){var g=t[l];g||(g=c++,t[l]=g),u[g]||(u[g]={});var v=u[g][y];if(v)s.disconnect(v);else try{delete t[y]}catch(e){}return d?u[g][y]=s.connect(t,y,d):t[y]=null,t}return t[y]=d,t}}),e,t),e.exports=i},"dojo/dom-style":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/sniff"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/_base/window"])],i=n.dj.d(r,(function(e,t,n){var r,i,o={};r=e("webkit")?function(e){var t;if(1==e.nodeType){var n=e.ownerDocument.defaultView;!(t=n.getComputedStyle(e,null))&&e.style&&(e.style.display="",t=n.getComputedStyle(e,null))}return t||{}}:e("ie")&&(e("ie")<9||e("quirks"))?function(e){return 1==e.nodeType&&e.currentStyle?e.currentStyle:{}}:function(e){if(1===e.nodeType){var t=e.ownerDocument.defaultView;return(t.opener?t:n.global.window).getComputedStyle(e,null)||{}}return{}},o.getComputedStyle=r,i=e("ie")?function(e,t){if(!t)return 0;if("medium"==t)return 4;if(t.slice&&"px"==t.slice(-2))return parseFloat(t);var n=e.style,r=e.runtimeStyle,i=e.currentStyle,o=n.left,a=r.left;r.left=i.left;try{n.left=t,t=n.pixelLeft}catch(e){t=0}return n.left=o,r.left=a,t}:function(e,t){return parseFloat(t)||0},o.toPixelValue=i;var a="DXImageTransform.Microsoft.Alpha",s=function(e,t){try{return e.filters.item(a)}catch(e){return t?{}:null}},u=e("ie")<9||e("ie")<10&&e("quirks")?function(e){try{return s(e).Opacity/100}catch(e){return 1}}:function(e){return r(e).opacity},c=e("ie")<9||e("ie")<10&&e("quirks")?function(e,t){""===t&&(t=1);var n=100*t;if(1===t?(e.style.zoom="",s(e)&&(e.style.filter=e.style.filter.replace(new RegExp("\\s*progid:"+a+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,s(e)?s(e,1).Opacity=n:e.style.filter+=" progid:"+a+"(Opacity="+n+")",s(e,1).Enabled=!0),"tr"==e.tagName.toLowerCase())for(var r=e.firstChild;r;r=r.nextSibling)"td"==r.tagName.toLowerCase()&&c(r,t);return t}:function(e,t){return e.style.opacity=t},l={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/;function d(e,t,n){if(t=t.toLowerCase(),"auto"==n){if("height"==t)return e.offsetHeight;if("width"==t)return e.offsetWidth}if("fontweight"==t)switch(n){case 700:return"bold";case 400:default:return"normal"}return t in l||(l[t]=f.test(t)),l[t]?i(e,n):n}var h={cssFloat:1,styleFloat:1,float:1};return o.get=function(e,n){var r=t.byId(e),i=arguments.length,a="opacity"==n;if(2==i&&a)return u(r);n=h[n]?"cssFloat"in r.style?"cssFloat":"styleFloat":n;var s=o.getComputedStyle(r);return 1==i?s:d(r,n,s[n]||r.style[n])},o.set=function(e,n,r){var i=t.byId(e),a=arguments.length,s="opacity"==n;if(n=h[n]?"cssFloat"in i.style?"cssFloat":"styleFloat":n,3==a)return s?c(i,r):i.style[n]=r;for(var u in n)o.set(e,u,n[u]);return o.getComputedStyle(i)},o}),e,t),e.exports=i},"dojo/errors/CancelError":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/errors/create"])],i=n.dj.d(r,(function(e){return e("CancelError",null,null,{dojoType:"cancel"})}),e,t),e.exports=i},"dojo/errors/RequestError":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/errors/create"])],i=n.dj.d(r,(function(e){return e("RequestError",(function(e,t){this.response=t}))}),e,t),e.exports=i},"dojo/errors/RequestTimeoutError":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/errors/create"]),n(n.dj.r.absMids["dojo/errors/RequestError"])],i=n.dj.d(r,(function(e,t){return e("RequestTimeoutError",null,t,{dojoType:"timeout"})}),e,t),e.exports=i},"dojo/errors/create":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/lang"])],i=n.dj.d(r,(function(e){return function(t,n,r,i){r=r||Error;var o=function(e){if(r===Error){Error.captureStackTrace&&Error.captureStackTrace(this,o);var t,i=Error.call(this,e);for(t in i)i.hasOwnProperty(t)&&(this[t]=i[t]);this.message=e,this.stack=i.stack}else r.apply(this,arguments);n&&n.apply(this,arguments)};return o.prototype=e.delegate(r.prototype,i),o.prototype.name=t,o.prototype.constructor=o,o}}),e,t),e.exports=i},"dojo/has":function(e,t,n){var r,i;r=[n.dj.c(e.i),n.dj.m(e)],i=n.dj.d(r,(function(e,t){var n=e.has||function(){};if(!n("dojo-has-api")){var r="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,i=function(){return this}(),o=r&&document,a=o&&o.createElement("DiV"),s=t.config&&t.config()||{};(n=function(e){return"function"==typeof s[e]?s[e]=s[e](i,o,a):s[e]}).cache=s,n.add=function(e,t,r,i){return(void 0===s[e]||i)&&(s[e]=t),r&&n(e)},n.add("host-browser",r),n.add("host-node","object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8),n.add("host-rhino","function"==typeof load&&("function"==typeof Packages||"object"==typeof Packages)),n.add("dom",r),n.add("dojo-dom-ready-api",1),n.add("dojo-sniff",1)}if(n("host-browser")){n.add("dom-addeventlistener",!!document.addEventListener),n.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),n.add("touch-events","ontouchstart"in document),n.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),n.add("MSPointer",window.navigator.msPointerEnabled),n.add("device-width",screen.availWidth||innerWidth);var u=document.createElement("form");n.add("dom-attributes-explicit",0==u.attributes.length),n.add("dom-attributes-specified-flag",u.attributes.length>0&&u.attributes.length<40)}return n.clearElement=function(e){return e.innerHTML="",e},n.normalize=function(e,t){var r=e.match(/[\?:]|[^:\?]*/g),i=0,o=function(e){var t=r[i++];return":"==t?0:"?"==r[i++]?!e&&n(t)?o():(o(!0),o(e)):t||0};return(e=o())&&t(e)},n.load=function(e,t,n){e?t([e],n):n()},n}),e,t),e.exports=i},"dojo/i18n":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n.dj.c(e.i),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/_base/xhr"]),n(n.dj.r.absMids["dojo/json"]),n.dj.m(e)],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u){n.add("dojo-preload-i18n-Api",1),n.add("dojo-v1x-i18n-Api",1);var c=e.i18n={},l=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,f={},d=function(t,n,r){return r=r?r.toLowerCase():e.locale,t=t.replace(/\./g,"/"),n=n.replace(/\./g,"/"),/root/i.test(r)?t+"/nls/"+n:t+"/nls/"+r+"/"+n},h=e.getL10nName=function(e,t,n){return u.id+"!"+d(e,t,n)},p=function(t,a,u){var c=l.exec(t),d=c[1]+"/",h=c[5]||c[4],p=d+h,m=c[5]&&c[4],y=m||e.locale||"",g=p+"/"+y,v=m?[y]:function(e){var t=i.extraLocale||[];return(t=o.isArray(t)?t:[t]).push(e),t}(y),j=v.length,E=function(){--j||u(o.delegate(f[g]))};if(n("dojo-preload-i18n-Api")){var M=t.split("*"),k="preload"==M[1];if(k&&(f[t]||(f[t]=1,b(M[2],s.parse(M[3]),1,a)),u(1)),k||_(t,a,u)&&!f[g])return}r.forEach(v,(function(e){var t=p+"/"+e;n("dojo-preload-i18n-Api")&&w(t),f[t]?E():function(e,t,n,r,i,a){e([t],(function(s){var u=o.clone(s.root||s.ROOT),c=function(e,t,n,r){for(var i=[n+r],o=t.split("-"),a="",s=0;s<o.length;s++)a+=(a?"-":"")+o[s],e&&!e[a]||(i.push(n+a+"/"+r),i.specificity=a);return i}(!s._v1x&&s,i,n,r);e(c,(function(){for(var e=1;e<c.length;e++)u=o.mixin(o.clone(u),arguments[e]);var n=t+"/"+i;f[n]=u,u.$locale=c.specificity,a()}))}))}(a,p,d,h,e,E)}))};if(n("dojo-preload-i18n-Api")||n("dojo-v1x-i18n-Api"))var m=c.normalizeLocale=function(t){var n=t?t.toLowerCase():e.locale;return"root"==n?"ROOT":n},y=function(e,r){return!n("dojo-sync-loader")||!n("dojo-v1x-i18n-Api")||r.isXdUrl(t.toUrl(e+".js"))},g=0,v=[],b=c._preloadLocalizations=function(n,i,a,s){function u(e,t){for(var n=e.split("-");n.length;){if(t(n.join("-")))return;n.pop()}t("ROOT")}function c(){g++}function l(){for(--g;!g&&v.length;)p.apply(null,v.shift())}function d(e,t,n,r){return r.toAbsMid(e+t+"/"+n)}function h(e){u(e=m(e),(function(h){if(r.indexOf(i,h)>=0){var p=n.replace(/\./g,"/")+"_"+h;return c(),function(e,t){y(e,s)||a?s([e],t):M([e],t,s)}(p,(function(n){for(var r in n){var i,a,p=n[r],m=r.match(/(.+)\/([^\/]+)$/);if(m&&(i=m[2],a=m[1]+"/",p._localized)){var y;if("ROOT"===h){var g=y=p._localized;delete p._localized,g.root=p,f[t.toAbsMid(r)]=g}else y=p._localized,f[d(a,i,h,t)]=p;if(h!==e){function v(n,r,i,a){var h=[],p=[];u(e,(function(e){a[e]&&(h.push(t.toAbsMid(n+e+"/"+r)),p.push(d(n,r,e,t)))})),h.length?(c(),s(h,(function(){for(var a=h.length-1;a>=0;a--)i=o.mixin(o.clone(i),arguments[a]),f[p[a]]=i;f[d(n,r,e,t)]=o.clone(i),l()}))):f[d(n,r,e,t)]=i}v(a,i,p,y)}}}l()})),!0}return!1}))}s=s||t,h(),r.forEach(e.config.extraLocale,h)},_=function(e,t,n){return g&&v.push([e,t,n]),g},w=function(){};if(n("dojo-v1x-i18n-Api")){var j={},E=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),M=function(e,t,n){var i=[];r.forEach(e,(function(e){var t=n.toUrl(e+".js");function r(n){var r=E(n,w,e,j);r===j?i.push(f[t]=j.result):(r instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+t,r),r={}),i.push(f[t]=/nls\/[^\/]+\/[^\/]+$/.test(t)?r:{root:r,_v1x:1}))}if(f[t])i.push(f[t]);else{var o=n.syncLoadNls(e);if(o||(o=w(e.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1"))),o)i.push(o);else if(a)a.get({url:t,sync:!0,load:r,error:function(){i.push(f[t]={})}});else try{n.getText(t,!0,r)}catch(e){i.push(f[t]={})}}})),t&&t.apply(null,i)};w=function(t){for(var n,r=t.split("/"),i=e.global[r[0]],o=1;i&&o<r.length-1;i=i[r[o++]]);return i&&((n=i[r[o]])||(n=i[r[o].replace(/-/g,"_")]),n&&(f[t]=n)),n},c.getLocalization=function(e,n,r){var i,o=d(e,n,r);return p(o,y(o,t)?t:function(e,n){M(e,n,t)},(function(e){i=e})),i}}return o.mixin(c,{dynamic:!0,normalize:function(e,t){return/^\./.test(e)?t(e):e},load:p,cache:f,getL10nName:h})}),e,t),e.exports=i},"dojo/i18n!cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/i18n"]),n("mwBundle.runasbatchjob|7c1cede0fa96821f1d00933e343d2e2af30a4286"),n(n.dj.r.absMids["cajsservice/resources/codeanalysis/jsapi/nls/ja-jp/jsapi_catalog"]),n(n.dj.r.absMids["cajsservice/resources/codeanalysis/jsapi/nls/ko-kr/jsapi_catalog"]),n(n.dj.r.absMids["cajsservice/resources/codeanalysis/jsapi/nls/zh-cn/jsapi_catalog"]),n(n.dj.r.absMids["cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog"])],i=n.dj.d(r,(function(e,t){return t(e,"cajsservice/resources/codeanalysis/jsapi/nls/jsapi_catalog",n.dj.c(),!0)}),e,t),e.exports=i},"dojo/i18n!runasbatchjob/resources/parallel/web/nls/common":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/i18n"]),n("mwBundle.runasbatchjob|7c1cede0fa96821f1d00933e343d2e2af30a4286"),n(n.dj.r.absMids["runasbatchjob/resources/parallel/web/nls/ja-jp/common"]),n(n.dj.r.absMids["runasbatchjob/resources/parallel/web/nls/ko-kr/common"]),n(n.dj.r.absMids["runasbatchjob/resources/parallel/web/nls/common"])],i=n.dj.d(r,(function(e,t){return t(e,"runasbatchjob/resources/parallel/web/nls/common",n.dj.c(),!0)}),e,t),e.exports=i},"dojo/io-query":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/lang"])],i=n.dj.d(r,(function(e){var t={};return{objectToQuery:function(n){var r=encodeURIComponent,i=[];for(var o in n){var a=n[o];if(a!=t[o]){var s=r(o)+"=";if(e.isArray(a))for(var u=0,c=a.length;u<c;++u)i.push(s+r(a[u]));else i.push(s+r(a))}}return i.join("&")},queryToObject:function(t){for(var n,r,i,o=decodeURIComponent,a=t.split("&"),s={},u=0,c=a.length;u<c;++u)if((i=a[u]).length){var l=i.indexOf("=");l<0?(n=o(i),r=""):(n=o(i.slice(0,l)),r=o(i.slice(l+1))),"string"==typeof s[n]&&(s[n]=[s[n]]),e.isArray(s[n])?s[n].push(r):s[n]=r}return s}}}),e,t),e.exports=i},"dojo/json":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,(function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},(function(e,t){return t||1}))),has("json-stringify"))return JSON;var escapeString=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(e,t,n){return"string"==typeof t&&(n=t,t=null),function e(r,i,o){t&&(r=t(o,r));var a,s=typeof r;if("number"==s)return isFinite(r)?r+"":"null";if("boolean"==s)return r+"";if(null===r)return"null";if("string"==typeof r)return escapeString(r);if("function"!=s&&"undefined"!=s){if("function"==typeof r.toJSON)return e(r.toJSON(o),i,o);if(r instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,(function(e,t,n){var i=r["getUTC"+t]()+(n?1:0);return i<10?"0"+i:i}));if(r.valueOf()!==r)return e(r.valueOf(),i,o);var u=n?i+n:"",c=n?" ":"",l=n?"\n":"";if(r instanceof Array){var f=r.length,d=[];for(o=0;o<f;o++){"string"!=typeof(a=e(r[o],u,o))&&(a="null"),d.push(l+u+a)}return"["+d.join(",")+l+i+"]"}var h=[];for(o in r){var p;if(r.hasOwnProperty(o)){if("number"==typeof o)p='"'+o+'"';else{if("string"!=typeof o)continue;p=escapeString(o)}if("string"!=typeof(a=e(r[o],u,o)))continue;h.push(l+u+p+":"+c+a)}}return"{"+h.join(",")+l+i+"}"}}(e,"","")}}}),module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/keys":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/sniff"])],i=n.dj.d(r,(function(e,t){return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:t("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}}),e,t),e.exports=i},"dojo/mouse":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/_base/window"])],i=n.dj.d(r,(function(e,t,n,r,i){var o,a;function s(e,n){var i=function(i,o){return t(i,e,(function(e){return n?n(e,o):r.isDescendant(e.relatedTarget,i)?void 0:o.call(this,e)}))};return i.bubble=function(t){return s(e,(function(e,n){var r=t(e.target),i=e.relatedTarget;if(r&&r!=(i&&1==i.nodeType&&t(i)))return n.call(r,e)}))},i}return n.add("dom-quirks",i.doc&&"BackCompat"==i.doc.compatMode),n.add("events-mouseenter",i.doc&&"onmouseenter"in i.doc.createElement("div")),n.add("events-mousewheel",i.doc&&"onmousewheel"in i.doc),o=n("dom-quirks")&&n("ie")||!n("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){return 1&e.button},isMiddle:function(e){return 4&e.button},isRight:function(e){return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){return e.button==t},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}},e.mouseButtons=o,a=n("events-mousewheel")?"mousewheel":function(e,n){return t(e,"DOMMouseScroll",(function(e){e.wheelDelta=-e.detail,n.call(this,e)}))},{_eventHandler:s,enter:s("mouseover"),leave:s("mouseout"),wheel:a,isLeft:o.isLeft,isMiddle:o.isMiddle,isRight:o.isRight}}),e,t),e.exports=i},"dojo/on":function(e,t,n){var r,i;r=[n.dj.h("dom-addeventlistener?:dojo/aspect"),n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/sniff"])],i=n.dj.d(r,(function(e,t,n){"use strict";if(n("dom")){var r=window.ScriptEngineMajorVersion;n.add("jscript",r&&r()+ScriptEngineMinorVersion()/10),n.add("event-orientationchange",n("touch")&&!n("android")),n.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),n.add("event-focusin",(function(e,t,n){return"onfocusin"in n})),n("touch")&&n.add("touch-can-modify-event-delegate",(function(){var e=function(){};e.prototype=document.createEvent("MouseEvents");try{var t=new e;return t.target=null,null===t.target}catch(e){return!1}}))}var i=function(e,t,n,r){return"function"!=typeof e.on||"function"==typeof t||e.nodeType?i.parse(e,t,n,a,r,this):e.on(t,n)};i.pausable=function(e,t,n,r){var o,a=i(e,t,(function(){if(!o)return n.apply(this,arguments)}),r);return a.pause=function(){o=!0},a.resume=function(){o=!1},a},i.once=function(e,t,n,r){var o=i(e,t,(function(){return o.remove(),n.apply(this,arguments)}));return o},i.parse=function(e,t,n,r,o,a){var s;if(t.call)return t.call(a,e,n);if(t instanceof Array?s=t:t.indexOf(",")>-1&&(s=t.split(/\s*,\s*/)),s){for(var u,c=[],l=0;u=s[l++];)c.push(i.parse(e,u,n,r,o,a));return c.remove=function(){for(var e=0;e<c.length;e++)c[e].remove()},c}return r(e,t,n,o,a)};var o=/^touch/;function a(e,t,r,a,s){var u=t.match(/(.*):(.*)/);if(u)return t=u[2],u=u[1],i.selector(u,t).call(s,e,r);if(n("touch")&&(o.test(t)&&(r=j(r)),n("event-orientationchange")||"orientationchange"!=t||(t="resize",e=window,r=j(r))),h&&(r=h(r)),e.addEventListener){var c=t in f,l=c?f[t]:t;return e.addEventListener(l,r,c),{remove:function(){e.removeEventListener(l,r,c)}}}if(t="on"+t,y&&e.attachEvent)return y(e,t,r);throw new Error("Target must be an event emitter")}function s(){this.cancelable=!1,this.defaultPrevented=!0}function u(){this.bubbles=!1}i.matches=function(e,n,r,i,o){for(o=o&&"function"==typeof o.matches?o:t.query,i=!1!==i,1!=e.nodeType&&(e=e.parentNode);!o.matches(e,n,r);)if(e==r||!1===i||!(e=e.parentNode)||1!=e.nodeType)return!1;return e},i.selector=function(e,t,n){return function(r,o){var a="function"==typeof e?{matches:e}:this,s=t.bubble;function u(t){return i.matches(t,e,r,n,a)}return s?i(r,s(u),o):i(r,t,(function(e){var t=u(e.target);if(t)return e.selectorTarget=t,o.call(t,e)}))}};var c=[].slice,l=i.emit=function(e,t,n){var r=c.call(arguments,2),i="on"+t;if("parentNode"in e){var o=r[0]={};for(var a in n)o[a]=n[a];o.preventDefault=s,o.stopPropagation=u,o.target=e,o.type=t,n=o}do{e[i]&&e[i].apply(e,r)}while(n&&n.bubbles&&(e=e.parentNode));return n&&n.cancelable&&n},f=n("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!n("event-stopimmediatepropagation"))var d=function(){this.immediatelyStopped=!0,this.modified=!0},h=function(e){return function(t){if(!t.immediatelyStopped)return t.stopImmediatePropagation=d,e.apply(this,arguments)}};if(n("dom-addeventlistener"))i.emit=function(e,t,n){if(e.dispatchEvent&&document.createEvent){var r=e.ownerDocument||document,o=r.createEvent("HTMLEvents");for(var a in o.initEvent(t,!!n.bubbles,!!n.cancelable),n)a in o||(o[a]=n[a]);return e.dispatchEvent(o)&&o}return l.apply(i,arguments)};else{i._fixEvent=function(e,t){e||(e=(t&&(t.ownerDocument||t.document||t).parentWindow||window).event);if(!e)return e;try{p&&e.type==p.type&&e.srcElement==p.target&&(e=p)}catch(e){}if(!e.target)switch(e.target=e.srcElement,e.currentTarget=t||e.srcElement,"mouseover"==e.type&&(e.relatedTarget=e.fromElement),"mouseout"==e.type&&(e.relatedTarget=e.toElement),e.stopPropagation||(e.stopPropagation=v,e.preventDefault=b),e.type){case"keypress":var n="charCode"in e?e.charCode:e.keyCode;10==n?(n=0,e.keyCode=13):13==n||27==n?n=0:3==n&&(n=99),e.charCode=n,g(e)}return e};var p,m=function(e){this.handle=e};m.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var y=function(t,r,o){if(o=function(e){return function(t){t=i._fixEvent(t,this);var n=e.call(this,t);return t.modified&&(p||setTimeout((function(){p=null})),p=t),n}}(o),((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||n("jscript")<5.8)&&!n("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var a,s=t[r];if(!s||!s.listeners){var u=s;(s=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}")).listeners=[],t[r]=s,s.global=this,u&&s.listeners.push(_dojoIEListeners_.push(u)-1)}return s.listeners.push(a=s.global._dojoIEListeners_.push(o)-1),new m(a)}return e.after(t,r,o,!0)},g=function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode},v=function(){this.cancelBubble=!0},b=i._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(n("touch"))var _=function(){},w=window.orientation,j=function(e){return function(t){var r=t.corrected;if(!r){var i=t.type;try{delete t.type}catch(e){}if(t.type){if(n("touch-can-modify-event-delegate"))_.prototype=t,r=new _;else for(var o in r={},t)r[o]=t[o];r.preventDefault=function(){t.preventDefault()},r.stopPropagation=function(){t.stopPropagation()}}else(r=t).type=i;if(t.corrected=r,"resize"==i)return w==window.orientation?null:(w=window.orientation,r.type="orientationchange",e.call(this,r));"rotation"in r||(r.rotation=0,r.scale=1);var a=r.changedTouches[0];for(var s in a)delete r[s],r[s]=a[s]}return e.call(this,r)}};return i}),e,t),e.exports=i},"dojo/promise/Promise":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/lang"])],i=n.dj.d(r,(function(e){"use strict";function t(){throw new TypeError("abstract")}return e.extend((function(){}),{then:function(e,n,r){t()},cancel:function(e,n){t()},isResolved:function(){t()},isRejected:function(){t()},isFulfilled:function(){t()},isCanceled:function(){t()},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})}),e,t),e.exports=i},"dojo/promise/all":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/when"])],i=n.dj.d(r,(function(e,t,n){"use strict";var r=e.some;return function(e){var i,o,a;e instanceof Array?o=e:e&&"object"==typeof e&&(i=e);var s=[];if(i){for(var u in o=[],i)Object.hasOwnProperty.call(i,u)&&(s.push(u),o.push(i[u]));a={}}else o&&(a=[]);if(!o||!o.length)return(new t).resolve(a);var c=new t;c.promise.always((function(){a=s=null}));var l=o.length;return r(o,(function(e,t){return i||s.push(t),n(e,(function(e){c.isFulfilled()||(a[s[t]]=e,0==--l&&c.resolve(a))}),c.reject),c.isFulfilled()})),c.promise}}),e,t),e.exports=i},"dojo/request/handlers":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/json"]),n(n.dj.r.absMids["dojo/_base/kernel"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/has"]),n(n.dj.r.absMids["8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf"])],i=n.dj.d(r,(function(e,t,n,r){var i;if(r.add("activex","undefined"!=typeof ActiveXObject),r.add("dom-parser",(function(e){return"DOMParser"in e})),r("activex")){var o,a=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];i=function(e){var t=e.data,i=e.text;function s(e){try{var n=new ActiveXObject(e);n.async=!1,n.loadXML(i),t=n,o=e}catch(e){return!1}return!0}return t&&r("dom-qsa2.1")&&!t.querySelectorAll&&r("dom-parser")&&(t=(new DOMParser).parseFromString(i,"application/xml")),t&&t.documentElement||o&&s(o)||n.some(a,s),t}}var s=function(e){return r("native-xhr2-blob")||"blob"!==e.options.handleAs||"undefined"==typeof Blob?e.xhr.response:new Blob([e.xhr.response],{type:e.xhr.getResponseHeader("Content-Type")})},u={javascript:function(e){return t.eval(e.text||"")},json:function(t){return e.parse(t.text||null)},xml:i,blob:s,arraybuffer:s,document:s};function c(e){var t=u[e.options.handleAs];return e.data=t?t(e):e.data||e.text,e}return c.register=function(e,t){u[e]=t},c}),e,t),e.exports=i},"dojo/request/script":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__.dj.m(module),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/watch"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/util"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/array"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/lang"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/on"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom-construct"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/window"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,(function(module,watch,util,kernel,array,lang,on,dom,domConstruct,has,win){has.add("script-readystatechange",(function(e,t){return void 0!==t.createElement("script").onreadystatechange&&(void 0===e.opera||"[object Opera]"!==e.opera.toString())}));var mid=module.id.replace(/[\/\.\-]/g,"_"),counter=0,loadEvent=has("script-readystatechange")?"readystatechange":"load",readyRegExp=/complete|loaded/,callbacks=kernel.global[mid+"_callbacks"]={},deadScripts=[];function attach(e,t,n){var r=n||win.doc,i=r.createElement("script");return i.type="text/javascript",i.src=t,i.id=e,i.async=!0,i.charset="utf-8",r.getElementsByTagName("head")[0].appendChild(i)}function remove(e,t,n){domConstruct.destroy(dom.byId(e,t)),callbacks[e]&&(n?callbacks[e]=function(){delete callbacks[e]}:delete callbacks[e])}function _addDeadScript(e){var t=e.response.options,n=t.ioArgs?t.ioArgs.frameDoc:t.frameDoc;deadScripts.push({id:e.id,frameDoc:n}),t.ioArgs&&(t.ioArgs.frameDoc=null),t.frameDoc=null}function canceler(e,t){e.canDelete&&script._remove(e.id,t.options.frameDoc,!0)}function isValid(e){return deadScripts&&deadScripts.length&&(array.forEach(deadScripts,(function(e){script._remove(e.id,e.frameDoc),e.frameDoc=null})),deadScripts=[]),!e.options.jsonp||!e.data}function isReadyScript(e){return!!this.scriptLoaded}function isReadyCheckString(response){var checkString=response.options.checkString;return checkString&&eval("typeof("+checkString+') !== "undefined"')}function handleResponse(e,t){this.canDelete&&_addDeadScript(this),t?this.reject(t):this.resolve(e)}function script(e,t,n){var r=util.parseArgs(e,util.deepCopy({},t));e=r.url,t=r.options;var i=util.deferred(r,canceler,isValid,t.jsonp?null:t.checkString?isReadyCheckString:isReadyScript,handleResponse);(lang.mixin(i,{id:mid+counter++,canDelete:!1}),t.jsonp)&&(new RegExp("[?&]"+t.jsonp+"=").test(e)||(e+=(~e.indexOf("?")?"&":"?")+t.jsonp+"="+(t.frameDoc?"parent.":"")+mid+"_callbacks."+i.id),i.canDelete=!0,callbacks[i.id]=function(e){r.data=e,i.handleResponse(r)});if(util.notify&&util.notify.emit("send",r,i.promise.cancel),!t.canAttach||t.canAttach(i)){var o=script._attach(i.id,e,t.frameDoc);if(!t.jsonp&&!t.checkString)var a=on(o,loadEvent,(function(e){("load"===e.type||readyRegExp.test(o.readyState))&&(a.remove(),i.scriptLoaded=e)}))}return on.once(o,"error",(function(e){i.reject(e),script._remove(i.id,t.frameDoc,!0)})),watch(i),n?i:i.promise}return script.get=script,script._attach=attach,script._remove=remove,script._callbacksProperty=mid+"_callbacks",script}),module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/request/util":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["dojo/errors/RequestError"]),n(n.dj.r.absMids["dojo/errors/CancelError"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/io-query"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/promise/Promise"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s){e.deepCopy=function(t,n){for(var r in n){var i=t[r],o=n[r];i!==o&&(i&&"object"==typeof i&&o&&"object"==typeof o?e.deepCopy(i,o):t[r]=o)}return t},e.deepCreate=function(t,n){n=n||{};var r,i,o=a.delegate(t);for(r in t)(i=t[r])&&"object"==typeof i&&(o[r]=e.deepCreate(i,n[r]));return e.deepCopy(o,n)};var u=Object.freeze||function(e){return e};function c(e){return u(e)}function l(e){return void 0!==e.data?e.data:e.text}e.deferred=function(i,o,f,d,h,p){var m=new r((function(e){return o&&o(m,i),e&&(e instanceof t||e instanceof n)?e:new n("Request canceled",i)}));m.response=i,m.isValid=f,m.isReady=d,m.handleResponse=h;var y=m.then(c).otherwise((function(e){throw e.response=i,e}));e.notify&&y.then(a.hitch(e.notify,"emit","load"),a.hitch(e.notify,"emit","error"));var g=y.then(l),v=new s;for(var b in g)g.hasOwnProperty(b)&&(v[b]=g[b]);return v.response=y,u(v),p&&m.then((function(e){p.call(m,e)}),(function(e){p.call(m,i,e)})),m.promise=v,m.then=v.then,m},e.addCommonMethods=function(e,t){o.forEach(t||["GET","POST","PUT","DELETE"],(function(t){e[("DELETE"===t?"DEL":t).toLowerCase()]=function(n,r){return(r=a.delegate(r||{})).method=t,e(n,r)}}))},e.parseArgs=function(e,t,n){var r=t.data,o=t.query;return r&&!n&&("object"!=typeof r||r instanceof ArrayBuffer||r instanceof Blob||(t.data=i.objectToQuery(r))),o?("object"==typeof o&&(o=i.objectToQuery(o)),t.preventCache&&(o+=(o?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(o="request.preventCache="+ +new Date),e&&o&&(e+=(~e.indexOf("?")?"&":"?")+o),{url:e,options:t,getHeader:function(e){return null}}},e.checkStatus=function(e){return(e=e||0)>=200&&e<300||304===e||1223===e||!e}}),e,t),e.exports=i},"dojo/request/watch":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/request/util"]),n(n.dj.r.absMids["dojo/errors/RequestTimeoutError"]),n(n.dj.r.absMids["dojo/errors/CancelError"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/window"]),n.dj.h("dom-addeventlistener?:dojo/on")],i=n.dj.d(r,(function(e,t,n,r,i,o){var a=null,s=[];function u(){for(var e,n=+new Date,r=0;r<s.length&&(e=s[r]);r++){var i=e.response,o=i.options;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(i)?(s.splice(r--,1),c._onAction&&c._onAction()):e.isReady&&e.isReady(i)?(s.splice(r--,1),e.handleResponse(i),c._onAction&&c._onAction()):e.startTime&&e.startTime+(o.timeout||0)<n&&(s.splice(r--,1),e.cancel(new t("Timeout exceeded",i)),c._onAction&&c._onAction())}c._onInFlight&&c._onInFlight(e),s.length||(clearInterval(a),a=null)}function c(e){e.response.options.timeout&&(e.startTime=+new Date),e.isFulfilled()||(s.push(e),a||(a=setInterval(u,50)),e.response.options.sync&&u())}return c.cancelAll=function(){try{r.forEach(s,(function(e){try{e.cancel(new n("All requests canceled."))}catch(e){}}))}catch(e){}},i&&o&&i.doc.attachEvent&&o(i.global,"unload",(function(){c.cancelAll()})),c}),e,t),e.exports=i},"dojo/request/xhr":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/errors/RequestError"]),n(n.dj.r.absMids["dojo/request/watch"]),n(n.dj.r.absMids["dojo/request/handlers"]),n(n.dj.r.absMids["dojo/request/util"]),n(n.dj.r.absMids["dojo/has"])],i=n.dj.d(r,(function(e,t,n,r,i){i.add("native-xhr",(function(){return"undefined"!=typeof XMLHttpRequest})),i.add("dojo-force-activex-xhr",(function(){return i("activex")&&"file:"===window.location.protocol})),i.add("native-xhr2",(function(){if(i("native-xhr")&&!i("dojo-force-activex-xhr")){var e=new XMLHttpRequest;return void 0!==e.addEventListener&&("undefined"==typeof opera||void 0!==e.upload)}})),i.add("native-formdata",(function(){return"undefined"!=typeof FormData})),i.add("native-response-type",(function(){return i("native-xhr")&&void 0!==(new XMLHttpRequest).responseType})),i.add("native-xhr2-blob",(function(){if(i("native-response-type")){var e=new XMLHttpRequest;e.open("GET","/",!0),e.responseType="blob";var t=e.responseType;return e.abort(),"blob"===t}}));var o,a,s,u,c={blob:i("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function l(t,i){var o,a=t.xhr;t.status=t.xhr.status;try{t.text=a.responseText}catch(e){}if("xml"===t.options.handleAs&&(t.data=a.responseXML),!i)try{n(t)}catch(e){i=e}if(i)this.reject(i);else{try{n(t)}catch(e){o=e}r.checkStatus(a.status)?o?this.reject(o):this.resolve(t):o?(i=new e("Unable to load "+t.url+" status: "+a.status+" and an error in handleAs: transformation of response",t),this.reject(i)):(i=new e("Unable to load "+t.url+" status: "+a.status,t),this.reject(i))}}function f(e){return this.xhr.getResponseHeader(e)}i("native-xhr2")?(o=function(e){return!this.isFulfilled()},u=function(e,t){t.xhr.abort()},s=function(t,n,r){function i(e){n.handleResponse(r)}function o(t){var i=t.target,o=new e("Unable to load "+r.url+" status: "+i.status,r);n.handleResponse(r,o)}function a(e){e.lengthComputable?(r.loaded=e.loaded,r.total=e.total,n.progress(r)):3===r.xhr.readyState&&(r.loaded="loaded"in e?e.loaded:e.position,n.progress(r))}return t.addEventListener("load",i,!1),t.addEventListener("error",o,!1),t.addEventListener("progress",a,!1),function(){t.removeEventListener("load",i,!1),t.removeEventListener("error",o,!1),t.removeEventListener("progress",a,!1),t=null}}):(o=function(e){return e.xhr.readyState},a=function(e){return 4===e.xhr.readyState},u=function(e,t){var n=t.xhr,r=typeof n.abort;"function"!==r&&"object"!==r&&"unknown"!==r||n.abort()});var d={data:null,query:null,sync:!1,method:"GET"};function h(n,p,m){var y=i("native-formdata")&&p&&p.data&&p.data instanceof FormData,g=r.parseArgs(n,r.deepCreate(d,p),y);n=g.url,p=g.options;var v,b=r.deferred(g,u,o,a,l,(function(){v&&v()})),_=g.xhr=h._create();if(!_)return b.cancel(new e("XHR was not created")),m?b:b.promise;g.getHeader=f,s&&(v=s(_,b,g));var w=p.data,j=!p.sync,E=p.method;try{_.open(E,n,j,p.user||void 0,p.password||void 0),p.withCredentials&&(_.withCredentials=p.withCredentials),i("native-response-type")&&p.handleAs in c&&(_.responseType=c[p.handleAs]);var M=p.headers,k=!y&&"application/x-www-form-urlencoded";if(M)for(var C in M)"content-type"===C.toLowerCase()?k=M[C]:M[C]&&_.setRequestHeader(C,M[C]);k&&!1!==k&&_.setRequestHeader("Content-Type",k),M&&"X-Requested-With"in M||_.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.notify&&r.notify.emit("send",g,b.promise.cancel),_.send(w)}catch(e){b.reject(e)}return t(b),_=null,m?b:b.promise}if(h._create=function(){throw new Error("XMLHTTP not available")},i("native-xhr")&&!i("dojo-force-activex-xhr"))h._create=function(){return new XMLHttpRequest};else if(i("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),h._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP"),h._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(e){}}return r.addCommonMethods(h),h}),e,t),e.exports=i},"dojo/sniff":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/has"])],i=n.dj.d(r,(function(e){if(e("host-browser")){var t=navigator,n=t.userAgent,r=t.appVersion,i=parseFloat(r);if(e.add("air",n.indexOf("AdobeAIR")>=0),e.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),e.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),e.add("khtml",r.indexOf("Konqueror")>=0?i:void 0),e.add("edge",parseFloat(n.split("Edge/")[1])||void 0),e.add("opr",parseFloat(n.split("OPR/")[1])||void 0),e.add("webkit",!e("wp")&&!e("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),e.add("chrome",!e("edge")&&!e("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),e.add("android",!e("wp")&&parseFloat(n.split("Android ")[1])||void 0),e.add("safari",!(r.indexOf("Safari")>=0)||e("wp")||e("chrome")||e("android")||e("edge")||e("opr")?void 0:parseFloat(r.split("Version/")[1])),e.add("mac",r.indexOf("Macintosh")>=0),e.add("quirks","BackCompat"==document.compatMode),!e("wp")&&n.match(/(iPhone|iPod|iPad)/)){var o=RegExp.$1.replace(/P/,"p"),a=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(a.replace(/_/,".").replace(/_/g,""));e.add(o,s),e.add("ios",s)}if(e.add("bb",(n.indexOf("BlackBerry")>=0||n.indexOf("BB10")>=0)&&parseFloat(n.split("Version/")[1])||void 0),e.add("trident",parseFloat(r.split("Trident/")[1])||void 0),e.add("svg","undefined"!=typeof SVGAngle),!e("webkit")){if(n.indexOf("Opera")>=0&&e.add("opera",i>=9.8&&parseFloat(n.split("Version/")[1])||i),!(n.indexOf("Gecko")>=0)||e("wp")||e("khtml")||e("trident")||e("edge")||e.add("mozilla",i),e("mozilla")&&e.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0),document.all&&!e("opera")){var u=parseFloat(r.split("MSIE ")[1])||void 0,c=document.documentMode;c&&5!=c&&Math.floor(u)!=c&&(u=c),e.add("ie",u)}e.add("wii","undefined"!=typeof opera&&opera.wiiremote)}}return e}),e,t),e.exports=i},"dojo/topic":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/Evented"])],i=n.dj.d(r,(function(e){var t=new e;return{publish:function(e,n){return t.emit.apply(t,arguments)},subscribe:function(e,n){return t.on.apply(t,arguments)}}}),e,t),e.exports=i},"dojo/when":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/promise/Promise"])],i=n.dj.d(r,(function(e,t){"use strict";return function(n,r,i,o){var a=n&&"function"==typeof n.then,s=a&&n instanceof t;if(!a)return arguments.length>1?r?r(n):n:(new e).resolve(n);if(!s){var u=new e(n.cancel);n.then(u.resolve,u.reject,u.progress),n=u.promise}return r||i||o?n.then(r,i,o):n}}),e,t),e.exports=i},"dojox/cometd/AckExtension":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojox/cometd/cometd"])],i=n.dj.d(r,(function(e){return e.AckExtension=function(){var e,t=!1,n=-1;function r(t,n){e._debug(t,n)}this.registered=function(t,n){e=n,r("AckExtension: executing registration callback")},this.unregistered=function(){r("AckExtension: executing unregistration callback"),e=null},this.incoming=function(e){var i=e.channel;if("/meta/handshake"==i)r("AckExtension: server supports acks",t=e.ext&&e.ext.ack);else if(t&&"/meta/connect"==i&&e.successful){var o=e.ext;o&&"number"==typeof o.ack&&r("AckExtension: server sent ack id",n=o.ack)}return e},this.outgoing=function(i){var o=i.channel;return"/meta/handshake"==o?(i.ext||(i.ext={}),i.ext.ack=e&&!1!==e.ackEnabled,n=-1):t&&"/meta/connect"==o&&(i.ext||(i.ext={}),i.ext.ack=n,r("AckExtension: client sending ack id",n)),i}}}),e,t),e.exports=i},"dojox/cometd/cometd":function(e,t,n){var r;void 0===(r=function(){this.org=this.org||{};var e=this.org;return e.cometd={},e.cometd.JSON={},e.cometd.JSON.toJSON=e.cometd.JSON.fromJSON=function(e){throw"Abstract"},e.cometd.Utils={},e.cometd.Utils.isString=function(e){return null!=e&&("string"==typeof e||e instanceof String)},e.cometd.Utils.isArray=function(e){return null!=e&&e instanceof Array},e.cometd.Utils.inArray=function(e,t){for(var n=0;n<t.length;++n)if(e===t[n])return n;return-1},e.cometd.Utils.setTimeout=function(e,t,n){return window.setTimeout((function(){try{t()}catch(n){e._debug("Exception invoking timed function",t,n)}}),n)},e.cometd.Utils.clearTimeout=function(e){window.clearTimeout(e)},e.cometd.TransportRegistry=function(){var e=[],t={};this.getTransportTypes=function(){return e.slice(0)},this.findTransportTypes=function(n,r,i){for(var o=[],a=0;a<e.length;++a){var s=e[a];!0===t[s].accept(n,r,i)&&o.push(s)}return o},this.negotiateTransport=function(n,r,i,o){for(var a=0;a<e.length;++a)for(var s=e[a],u=0;u<n.length;++u)if(s===n[u]){var c=t[s];if(!0===c.accept(r,i,o))return c}return null},this.add=function(n,r,i){for(var o=!1,a=0;a<e.length;++a)if(e[a]===n){o=!0;break}return o||("number"!=typeof i?e.push(n):e.splice(i,0,n),t[n]=r),!o},this.find=function(n){for(var r=0;r<e.length;++r)if(e[r]===n)return t[n];return null},this.remove=function(n){for(var r=0;r<e.length;++r)if(e[r]===n){e.splice(r,1);var i=t[n];return delete t[n],i}return null},this.clear=function(){e=[],t={}},this.reset=function(){for(var n=0;n<e.length;++n)t[e[n]].reset()}},e.cometd.Transport=function(){var t,n;this.registered=function(e,r){t=e,n=r},this.unregistered=function(){t=null,n=null},this._debug=function(){n._debug.apply(n,arguments)},this._mixin=function(){return n._mixin.apply(n,arguments)},this.getConfiguration=function(){return n.getConfiguration()},this.getAdvice=function(){return n.getAdvice()},this.setTimeout=function(t,r){return e.cometd.Utils.setTimeout(n,t,r)},this.clearTimeout=function(t){e.cometd.Utils.clearTimeout(t)},this.convertToMessages=function(t){if(e.cometd.Utils.isString(t))try{return e.cometd.JSON.fromJSON(t)}catch(e){throw this._debug("Could not convert to JSON the following string",'"'+t+'"'),e}if(e.cometd.Utils.isArray(t))return t;if(null==t)return[];if(t instanceof Object)return[t];throw"Conversion Error "+t+", typeof "+typeof t},this.accept=function(e,t,n){throw"Abstract"},this.getType=function(){return t},this.send=function(e,t){throw"Abstract"},this.reset=function(){this._debug("Transport",t,"reset")},this.abort=function(){this._debug("Transport",t,"aborted")},this.toString=function(){return this.getType()}},e.cometd.Transport.derive=function(e){function t(){}return t.prototype=e,new t},e.cometd.RequestTransport=function(){var t=new e.cometd.Transport,n=e.cometd.Transport.derive(t),r=0,i=null,o=[],a=[];function s(e){for(;a.length>0;){var t=a[0],n=t[0],r=t[1];if(n.url!==e.url||n.sync!==e.sync)break;a.shift(),e.messages=e.messages.concat(n.messages),this._debug("Coalesced",n.messages.length,"messages from request",r.id)}}function u(e,t){if(this.transportSend(e,t),t.expired=!1,!e.sync){var n=this.getConfiguration().maxNetworkDelay,r=n;!0===t.metaConnect&&(r+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"waiting at most",r,"ms for the response, maxNetworkDelay",n);var i=this;t.timeout=this.setTimeout((function(){t.expired=!0,t.xhr&&t.xhr.abort();var n="Request "+t.id+" of transport "+i.getType()+" exceeded "+r+" ms max network delay";i._debug(n),i.complete(t,!1,t.metaConnect),e.onFailure(t.xhr,e.messages,"timeout",n)}),r)}}function c(e){var t=++r,n={id:t,metaConnect:!1};o.length<this.getConfiguration().maxConnections-1?(o.push(n),u.call(this,e,n)):(this._debug("Transport",this.getType(),"queueing request",t,"envelope",e),a.push([e,n]))}function l(e){var t=e.id;if(this._debug("Transport",this.getType(),"metaConnect complete, request",t),null!==i&&i.id!==t)throw"Longpoll request mismatch, completing request "+t;i=null}function f(t,n){var r=e.cometd.Utils.inArray(t,o);if(r>=0&&o.splice(r,1),a.length>0){var i=a.shift(),u=i[0],l=i[1];if(this._debug("Transport dequeued request",l.id),n)this.getConfiguration().autoBatch&&s.call(this,u),c.call(this,u),this._debug("Transport completed request",t.id,u);else{var f=this;this.setTimeout((function(){f.complete(l,!1,l.metaConnect),u.onFailure(l.xhr,u.messages,"error","Previous request failed")}),0)}}}function d(e){if(null!==i)throw"Concurrent metaConnect requests not allowed, request id="+i.id+" not yet completed";var t=++r;this._debug("Transport",this.getType(),"metaConnect send, request",t,"envelope",e);var n={id:t,metaConnect:!0};u.call(this,e,n),i=n}return n.complete=function(e,t,n){n?l.call(this,e):f.call(this,e,t)},n.transportSend=function(e,t){throw"Abstract"},n.transportSuccess=function(e,t,n){t.expired||(this.clearTimeout(t.timeout),this.complete(t,!0,t.metaConnect),n&&n.length>0?e.onSuccess(n):e.onFailure(t.xhr,e.messages,"Empty HTTP response"))},n.transportFailure=function(e,t,n,r){t.expired||(this.clearTimeout(t.timeout),this.complete(t,!1,t.metaConnect),e.onFailure(t.xhr,e.messages,n,r))},n.send=function(e,t){t?d.call(this,e):c.call(this,e)},n.abort=function(){t.abort();for(var e=0;e<o.length;++e){var n=o[e];this._debug("Aborting request",n),n.xhr&&n.xhr.abort()}i&&(this._debug("Aborting metaConnect request",i),i.xhr&&i.xhr.abort()),this.reset()},n.reset=function(){t.reset(),i=null,o=[],a=[]},n},e.cometd.LongPollingTransport=function(){var t=new e.cometd.RequestTransport,n=e.cometd.Transport.derive(t),r=!0;return n.accept=function(e,t,n){return r||!t},n.xhrSend=function(e){throw"Abstract"},n.transportSend=function(t,n){this._debug("Transport",this.getType(),"sending request",n.id,"envelope",t);var i=this;try{var o=!0;n.xhr=this.xhrSend({transport:this,url:t.url,sync:t.sync,headers:this.getConfiguration().requestHeaders,body:e.cometd.JSON.toJSON(t.messages),onSuccess:function(e){i._debug("Transport",i.getType(),"received response",e);var o=!1;try{var a=i.convertToMessages(e);0===a.length?(r=!1,i.transportFailure(t,n,"no response",null)):(o=!0,i.transportSuccess(t,n,a))}catch(e){i._debug(e),o||(r=!1,i.transportFailure(t,n,"bad response",e))}},onError:function(e,a){r=!1,o?i.setTimeout((function(){i.transportFailure(t,n,e,a)}),0):i.transportFailure(t,n,e,a)}}),o=!1}catch(e){r=!1,this.setTimeout((function(){i.transportFailure(t,n,"error",e)}),0)}},n.reset=function(){t.reset(),r=!0},n},e.cometd.CallbackPollingTransport=function(){var t=new e.cometd.RequestTransport,n=e.cometd.Transport.derive(t);return n.accept=function(e,t,n){return!0},n.jsonpSend=function(e){throw"Abstract"},n.transportSend=function(t,n){for(var r=this,i=0,o=t.messages.length,a=[];o>0;){var s=e.cometd.JSON.toJSON(t.messages.slice(i,i+o)),u=t.url.length+encodeURI(s).length;if(u>2e3){if(1===o){var c="Bayeux message too big ("+u+" bytes, max is 2000) for transport "+this.getType();return void this.setTimeout((function(){r.transportFailure(t,n,"error",c)}),0)}--o}else a.push(o),i+=o,o=t.messages.length-i}var l=t;if(a.length>1){var f=0,d=a[0];this._debug("Transport",this.getType(),"split",t.messages.length,"messages into",a.join(" + ")),(l=this._mixin(!1,{},t)).messages=t.messages.slice(f,d),l.onSuccess=t.onSuccess,l.onFailure=t.onFailure;for(var h=1;h<a.length;++h){var p=this._mixin(!1,{},t);f=d,d+=a[h],p.messages=t.messages.slice(f,d),p.onSuccess=t.onSuccess,p.onFailure=t.onFailure,this.send(p,n.metaConnect)}}this._debug("Transport",this.getType(),"sending request",n.id,"envelope",l);try{var m=!0;this.jsonpSend({transport:this,url:l.url,sync:l.sync,headers:this.getConfiguration().requestHeaders,body:e.cometd.JSON.toJSON(l.messages),onSuccess:function(e){var t=!1;try{var i=r.convertToMessages(e);0===i.length?r.transportFailure(l,n,"no response"):(t=!0,r.transportSuccess(l,n,i))}catch(e){r._debug(e),t||r.transportFailure(l,n,"bad response",e)}},onError:function(e,t){m?r.setTimeout((function(){r.transportFailure(l,n,e,t)}),0):r.transportFailure(l,n,e,t)}}),m=!1}catch(e){this.setTimeout((function(){r.transportFailure(l,n,"error",e)}),0)}},n},e.cometd.WebSocketTransport=function(){var t,n,r=new e.cometd.Transport,i=e.cometd.Transport.derive(r),o=!0,a=!1,s={},u={},c=null,l=!1,f=!1;function d(){var n=t.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",n);var r=this,i=null,o=t.getConfiguration().connectTimeout;o>0&&(i=this.setTimeout((function(){i=null,l||(r._debug("Transport",r.getType(),"timed out while connecting to URL",n,":",o,"ms"),r.onClose(1002,"Connect Timeout"))}),o));var a=new e.cometd.WebSocket(n),s=function(e){var t=e?e.code:1e3,n=e?e.reason:void 0;r._debug("WebSocket closed",t,"/",n,a),i&&(r.clearTimeout(i),i=null),a===c?r.onClose(t,n):r._debug("Ignoring close event, WebSocket",c)};a.onopen=function(){r._debug("WebSocket opened",a),i&&(r.clearTimeout(i),i=null),a===c?r.onOpen():r._debug("Ignoring open event, WebSocket",c)},a.onclose=s,a.onerror=function(){s({code:1002})},a.onmessage=function(e){r._debug("WebSocket message",e,a),a===c?r.onMessage(e):r._debug("Ignoring message event, WebSocket",c)},c=a,this._debug("Transport",this.getType(),"configured callbacks on",a)}function h(t,n){var r=e.cometd.JSON.toJSON(t.messages);c.send(r),this._debug("Transport",this.getType(),"sent",t,"metaConnect =",n);var i=this.getConfiguration().maxNetworkDelay,o=i;n&&(o+=this.getAdvice().timeout,f=!0);for(var a=[],s=0;s<t.messages.length;++s){var l=t.messages[s];if(l.id){a.push(l.id);var d=c;u[l.id]=this.setTimeout((function(){d&&d.close(1e3,"Timeout")}),o)}}this._debug("Transport",this.getType(),"waiting at most",o,"ms for messages",a,"maxNetworkDelay",i,", timeouts:",u)}function p(e,t){try{null===c?d.call(this):l&&h.call(this,e,t)}catch(t){var n=c;this.setTimeout((function(){e.onFailure(n,e.messages,"error",t)}),0)}}return i.onOpen=function(){for(var e in this._debug("Transport",this.getType(),"opened",c),l=!0,a=!0,this._debug("Sending pending messages",s),s){var t=s[e],r=t[0],i=t[1];n=r.onSuccess,h.call(this,r,i)}},i.onMessage=function(t){this._debug("Transport",this.getType(),"received websocket message",t,c);for(var r=!1,i=this.convertToMessages(t.data),o=[],a=0;a<i.length;++a){var l=i[a];if((/^\/meta\//.test(l.channel)||void 0===l.data)&&l.id){o.push(l.id);var d=u[l.id];d&&(this.clearTimeout(d),delete u[l.id],this._debug("Transport",this.getType(),"removed timeout for message",l.id,", timeouts",u))}"/meta/connect"===l.channel&&(f=!1),"/meta/disconnect"!==l.channel||f||(r=!0)}for(var h=!1,p=0;p<o.length;++p){var m=o[p];for(var y in s){var g=y.split(","),v=e.cometd.Utils.inArray(m,g);if(v>=0){h=!0,g.splice(v,1);var b=s[y][0],_=s[y][1];delete s[y],g.length>0&&(s[g.join(",")]=[b,_]);break}}}h&&this._debug("Transport",this.getType(),"removed envelope, envelopes",s),n.call(this,i),r&&c.close(1e3,"Disconnect")},i.onClose=function(e,t){for(var n in this._debug("Transport",this.getType(),"closed",e,t,c),o=a,u)this.clearTimeout(u[n]);for(var r in u={},s){var i=s[r][0];s[r][1]&&(f=!1),i.onFailure(c,i.messages,"closed "+e+"/"+t)}s={},null!==c&&l&&c.close(1e3,"Close"),l=!1,c=null},i.registered=function(e,n){r.registered(e,n),t=n},i.accept=function(n,r,i){return o&&!!e.cometd.WebSocket&&!1!==t.websocketEnabled},i.send=function(e,t){this._debug("Transport",this.getType(),"sending",e,"metaConnect =",t);for(var n=[],r=0;r<e.messages.length;++r){var i=e.messages[r];i.id&&n.push(i.id)}s[n.join(",")]=[e,t],this._debug("Transport",this.getType(),"stored envelope, envelopes",s),p.call(this,e,t)},i.abort=function(){if(r.abort(),null!==c)try{c.close(1001)}catch(e){this._debug(e)}this.reset()},i.reset=function(){r.reset(),null!==c&&l&&c.close(1e3,"Reset"),o=!0,a=!1,u={},s={},c=null,l=!1,n=null},i},e.cometd.Cometd=function(t){var n,r,i,o,a=this,s=t||"default",u=!1,c=new e.cometd.TransportRegistry,l="disconnected",f=0,d=null,h=0,p=[],m=!1,y={},g=0,v=null,b=[],_={},w={},j=!1,E=!1,M={connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6e4,interval:0,reconnect:"retry"}};function k(t){return e.cometd.Utils.isString(t)}function C(e){return null!=e&&"function"==typeof e}function P(e,t){if(window.console){var n=window.console[e];C(n)&&n.apply(window.console,t)}}function T(e){if(a._debug("Configuring cometd object with",e),k(e)&&(e={url:e}),e||(e={}),!(M=a._mixin(!1,M,e)).url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var t=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(M.url),n=t[2],r=t[8],i=t[9];if(u=a._isCrossDomain(n),M.appendMessageTypeToURL)if(void 0!==i&&i.length>0)a._info("Appending message type to URI "+r+i+" is not supported, disabling 'appendMessageTypeToURL' configuration"),M.appendMessageTypeToURL=!1;else{var o=r.split("/"),s=o.length-1;r.match(/\/$/)&&(s-=1),o[s].indexOf(".")>=0&&(a._info("Appending message type to URI "+r+" is not supported, disabling 'appendMessageTypeToURL' configuration"),M.appendMessageTypeToURL=!1)}}function S(){for(var e in y)for(var t=y[e],n=t.length-1;n>=0;--n){var r=t[n];r&&!r.listener&&(t.splice(n,1),a._debug("Removed subscription",r,"for channel",e))}}function x(e){l!==e&&(a._debug("Status",l,"->",e),l=e)}function O(){return"disconnecting"===l||"disconnected"===l}function A(e,t,n,r,i){try{return t.call(e,r)}catch(e){a._debug("Exception during execution of extension",n,e);var o=a.onExtensionException;if(C(o)){a._debug("Invoking extension exception callback",n,e);try{o.call(a,e,n,i,r)}catch(e){a._info("Exception during execution of exception callback in extension",n,e)}}return r}}function R(e){for(var t=0;t<b.length&&null!=e;++t){var n=b[t],r=n.extension.outgoing;if(C(r)){var i=A(n.extension,r,n.name,e,!0);e=void 0===i?e:i}}return e}function D(e,t){var n=y[e];if(n&&n.length>0)for(var r=n.length-1;r>=0;--r){var i=n[r];try{i.callback.call(i.scope,t)}catch(e){a._debug("Exception during notification",i,t,e);var o=a.onListenerException;if(C(o)){a._debug("Invoking listener exception callback",i,e);try{o.call(a,e,i.handle,i.listener,t)}catch(e){a._info("Exception during execution of listener callback",i,e)}}}}}function I(e,t){D(e,t);for(var n=e.split("/"),r=n.length-1,i=r;i>0;--i){var o=n.slice(0,i).join("/")+"/*";i===r&&D(o,t),D(o+="*",t)}}function N(){null!==v&&e.cometd.Utils.clearTimeout(v),v=null}function U(t){N();var n=_.interval+g;a._debug("Function scheduled in",n,"ms, interval =",_.interval,"backoff =",g,t),v=e.cometd.Utils.setTimeout(a,t,n)}function L(e,t,r,s){for(var u=0;u<t.length;++u){var c=t[u];c.id=""+ ++f,d&&(c.clientId=d);var l=void 0;C(c._callback)&&(l=c._callback,delete c._callback),null!=(c=R(c))?(t[u]=c,l&&(w[c.id]=l)):t.splice(u--,1)}if(0!==t.length){var h=M.url;M.appendMessageTypeToURL&&(h.match(/\/$/)||(h+="/"),s&&(h+=s));var p={url:h,sync:e,messages:t,onSuccess:function(e){try{i.call(a,e)}catch(e){a._debug("Exception during handling of messages",e)}},onFailure:function(e,t,n,r){try{o.call(a,e,t,n,r)}catch(e){a._debug("Exception during handling of failure",e)}}};a._debug("Send",p),n.send(p,r)}}function F(e){h>0||!0===m?p.push(e):L(!1,[e],!1)}function q(){g=0}function z(){g<M.maxBackoff&&(g+=M.backoffIncrement)}function V(){var e=p;p=[],e.length>0&&L(!1,e,!1)}function B(){x("connecting"),U((function(){!function(){if(!O()){var e={channel:"/meta/connect",connectionType:n.getType()};E||(e.advice={timeout:0}),x("connecting"),a._debug("Connect sent",e),L(!1,[e],!0,"connect"),x("connected")}}()}))}function H(e){e&&(_=a._mixin(!1,{},M.advice,e),a._debug("New advice",_))}function W(e){N(),e&&n.abort(),d=null,x("disconnected"),h=0,q(),p.length>0&&(o.call(a,void 0,p,"error","Disconnected"),p=[])}function K(e){d=null,S(),O()?(c.reset(),H(M.advice)):H(a._mixin(!1,_,{reconnect:"retry"})),h=0,m=!0,r=e;var t=c.findTransportTypes("1.0",u,M.url),i={version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:t,advice:{timeout:_.timeout,interval:_.interval}},o=a._mixin(!1,{},r,i);n=c.negotiateTransport(t,"1.0",u,M.url),a._debug("Initial transport is",n.getType()),x("handshaking"),a._debug("Handshake sent",o),L(!1,[o],!1,"handshake")}function J(){x("handshaking"),m=!0,U((function(){K(r)}))}function X(e){I("/meta/handshake",e),I("/meta/unsuccessful",e),!O()&&"none"!==_.reconnect?(z(),J()):W(!1)}function G(e,t){X({successful:!1,failure:!0,channel:"/meta/handshake",request:t,xhr:e,advice:{reconnect:"retry",interval:g}})}function $(e){I("/meta/connect",e),I("/meta/unsuccessful",e);var t=O()?"none":_.reconnect;switch(t){case"retry":B(),z();break;case"handshake":c.reset(),q(),J();break;case"none":W(!1);break;default:throw"Unrecognized advice action"+t}}function Y(e,t){E=!1,$({successful:!1,failure:!0,channel:"/meta/connect",request:t,xhr:e,advice:{reconnect:"retry",interval:g}})}function Q(e){W(!0),I("/meta/disconnect",e),I("/meta/unsuccessful",e)}function Z(e,t){Q({successful:!1,failure:!0,channel:"/meta/disconnect",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function ee(e){I("/meta/subscribe",e),I("/meta/unsuccessful",e)}function te(e,t){ee({successful:!1,failure:!0,channel:"/meta/subscribe",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function ne(e){I("/meta/unsubscribe",e),I("/meta/unsuccessful",e)}function re(e,t){ne({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function ie(e){var t=w[e.id];C(t)&&(delete w[e.id],t.call(a,e))}function oe(e){ie(e),I("/meta/publish",e),I("/meta/unsuccessful",e)}function ae(e,t){oe({successful:!1,failure:!0,channel:t.channel,request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function se(e){if(null!=(e=function(e){for(var t=0;t<b.length&&null!=e;++t){var n=M.reverseIncomingExtensions?b.length-1-t:t,r=b[n],i=r.extension.incoming;if(C(i)){var o=A(r.extension,i,r.name,e,!1);e=void 0===o?e:o}}return e}(e)))switch(H(e.advice),e.channel){case"/meta/handshake":!function(e){if(e.successful){d=e.clientId;var t=c.negotiateTransport(e.supportedConnectionTypes,e.version,u,M.url);if(null===t)throw"Could not negotiate transport with server; client "+c.findTransportTypes(e.version,u,M.url)+", server "+e.supportedConnectionTypes;n!==t&&(a._debug("Transport",n,"->",t),n=t),m=!1,V(),e.reestablish=j,j=!0,I("/meta/handshake",e);var r=O()?"none":_.reconnect;switch(r){case"retry":q(),B();break;case"none":W(!1);break;default:throw"Unrecognized advice action "+r}}else X(e)}(e);break;case"/meta/connect":!function(e){if(E=e.successful){I("/meta/connect",e);var t=O()?"none":_.reconnect;switch(t){case"retry":q(),B();break;case"none":W(!1);break;default:throw"Unrecognized advice action "+t}}else $(e)}(e);break;case"/meta/disconnect":!function(e){e.successful?(W(!1),I("/meta/disconnect",e)):Q(e)}(e);break;case"/meta/subscribe":!function(e){e.successful?I("/meta/subscribe",e):ee(e)}(e);break;case"/meta/unsubscribe":!function(e){e.successful?I("/meta/unsubscribe",e):ne(e)}(e);break;default:!function(e){void 0===e.successful?void 0!==e.data&&null!==e.data?I(e.channel,e):a._debug("Unknown message",e):e.successful?(ie(e),I("/meta/publish",e)):oe(e)}(e)}}function ue(e){var t=y[e];if(t)for(var n=0;n<t.length;++n)if(t[n])return!0;return!1}function ce(e,t){var n={scope:e,method:t};if(C(e))n.scope=void 0,n.method=e;else if(k(t)){if(!e)throw"Invalid scope "+e;if(n.method=e[t],!C(n.method))throw"Invalid callback "+t+" for scope "+e}else if(!C(t))throw"Invalid callback "+t;return n}function le(e,t,n,r){var i=ce(t,n);a._debug("Adding listener on",e,"with scope",i.scope,"and callback",i.method);var o={channel:e,scope:i.scope,callback:i.method,listener:r},s=y[e];s||((s=[]).subscriptionCounter=0,y[e]=s),s.push(o);var u=s.subscriptionCounter;return s.subscriptionCounter=s.subscriptionCounter+1,o.id=u,o.handle=[e,u],a._debug("Added listener",o,"for channel",e,"having id =",u),o.handle}this._mixin=function(e,t,n){for(var r=t||{},i=2;i<arguments.length;++i){var o=arguments[i];if(null!=o)for(var a in o){var s=o[a],u=r[a];if(s!==t&&void 0!==s)if(e&&"object"==typeof s&&null!==s)if(s instanceof Array)r[a]=this._mixin(e,u instanceof Array?u:[],s);else{var c="object"!=typeof u||u instanceof Array?{}:u;r[a]=this._mixin(e,c,s)}else r[a]=s}}return r},this._warn=function(){P("warn",arguments)},this._info=function(){"warn"!==M.logLevel&&P("info",arguments)},this._debug=function(){"debug"===M.logLevel&&P("debug",arguments)},this._isCrossDomain=function(e){return e&&e!==window.location.host},this.send=F,this.receive=se,i=function(e){a._debug("Received",e);for(var t=0;t<e.length;++t){se(e[t])}},o=function(e,t,n,r){a._debug("handleFailure",e,t,n,r);for(var i=0;i<t.length;++i){var o=t[i];switch(o.channel){case"/meta/handshake":G(e,o);break;case"/meta/connect":Y(e,o);break;case"/meta/disconnect":Z(e,o);break;case"/meta/subscribe":te(e,o);break;case"/meta/unsubscribe":re(e,o);break;default:ae(e,o)}}},this.registerTransport=function(e,t,n){var r=c.add(e,t,n);return r&&(this._debug("Registered transport",e),C(t.registered)&&t.registered(e,this)),r},this.getTransportTypes=function(){return c.getTransportTypes()},this.unregisterTransport=function(e){var t=c.remove(e);return null!==t&&(this._debug("Unregistered transport",e),C(t.unregistered)&&t.unregistered()),t},this.unregisterTransports=function(){c.clear()},this.findTransport=function(e){return c.find(e)},this.configure=function(e){T.call(this,e)},this.init=function(e,t){this.configure(e),this.handshake(t)},this.handshake=function(e){x("disconnected"),j=!1,K(e)},this.disconnect=function(e,t){if(!O()){void 0===t&&"boolean"!=typeof e&&(t=e,e=!1);var n=this._mixin(!1,{},t,{channel:"/meta/disconnect"});x("disconnecting"),L(!0===e,[n],!1,"disconnect")}},this.startBatch=function(){++h},this.endBatch=function(){!function(){if(--h<0)throw"Calls to startBatch() and endBatch() are not paired";0!==h||O()||m||V()}()},this.batch=function(e,t){var n=ce(e,t);this.startBatch();try{n.method.call(n.scope),this.endBatch()}catch(e){throw this._debug("Exception during execution of batch",e),this.endBatch(),e}},this.addListener=function(e,t,n){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!k(e))throw"Illegal argument type: channel must be a string";return le(e,t,n,!0)},this.removeListener=function(t){if(!e.cometd.Utils.isArray(t))throw"Invalid argument: expected subscription, not "+t;!function(e){var t,n=y[e[0]];n.length>0&&-1!==(t=function(e,t){for(var n=0;n<e.length;){if(e[n].id===t)return n;n+=1}return-1}(n,e[1]))&&(n.splice(t,1),a._debug("Removed listener",e))}(t)},this.clearListeners=function(){y={}},this.subscribe=function(e,t,n,r){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!k(e))throw"Illegal argument type: channel must be a string";if(O())throw"Illegal state: already disconnected";C(t)&&(r=n,n=t,t=void 0);var i=!ue(e),o=le(e,t,n,!1);if(i){var a={channel:"/meta/subscribe",subscription:e},s=this._mixin(!1,{},r,a);F(s)}return o},this.unsubscribe=function(e,t){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(O())throw"Illegal state: already disconnected";this.removeListener(e);var n=e[0];if(!ue(n)){var r={channel:"/meta/unsubscribe",subscription:n},i=this._mixin(!1,{},t,r);F(i)}},this.clearSubscriptions=function(){S()},this.publish=function(e,t,n,r){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!k(e))throw"Illegal argument type: channel must be a string";if(O())throw"Illegal state: already disconnected";C(t)?(r=t,t=n={}):C(n)&&(r=n,n={});var i={channel:e,data:t,_callback:r},o=this._mixin(!1,{},n,i);F(o)},this.getStatus=function(){return l},this.isDisconnected=O,this.setBackoffIncrement=function(e){M.backoffIncrement=e},this.getBackoffIncrement=function(){return M.backoffIncrement},this.getBackoffPeriod=function(){return g},this.setLogLevel=function(e){M.logLevel=e},this.registerExtension=function(e,t){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!k(e))throw"Illegal argument type: extension name must be a string";for(var n=!1,r=0;r<b.length;++r){var i=b[r];if(i.name===e){n=!0;break}}return n?(this._info("Could not register extension with name",e,"since another extension with the same name already exists"),!1):(b.push({name:e,extension:t}),this._debug("Registered extension",e),C(t.registered)&&t.registered(e,this),!0)},this.unregisterExtension=function(e){if(!k(e))throw"Illegal argument type: extension name must be a string";for(var t=!1,n=0;n<b.length;++n){var r=b[n];if(r.name===e){b.splice(n,1),t=!0,this._debug("Unregistered extension",e);var i=r.extension;C(i.unregistered)&&i.unregistered();break}}return t},this.getExtension=function(e){for(var t=0;t<b.length;++t){var n=b[t];if(n.name===e)return n.extension}return null},this.getName=function(){return s},this.getClientId=function(){return d},this.getURL=function(){return M.url},this.getTransport=function(){return n},this.getConfiguration=function(){return this._mixin(!0,{},M)},this.getAdvice=function(){return this._mixin(!0,{},_)},e.cometd.WebSocket=window.WebSocket,e.cometd.WebSocket||(e.cometd.WebSocket=window.MozWebSocket)},e.cometd}.call(null,n,t,e))||(e.exports=r)},"lodash/lodash.min":function(e,t,n){(function(e,r){var i;(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function f(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function d(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function h(e,t){return!(null==e||!e.length)&&-1<j(e,t,0)}function p(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function m(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function y(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function g(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function v(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function _(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function w(e,t,n,r){var i=e.length;for(n+=r?1:-1;r?n--:++n<i;)if(t(e[n],n,e))return n;return-1}function j(e,t,n){if(t==t)e:{--n;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=w(e,M,n);return e}function E(e,t,n,r){--n;for(var i=e.length;++n<i;)if(r(e[n],t))return n;return-1}function M(e){return e!=e}function k(e,t){var n=null==e?0:e.length;return n?S(e,t)/n:W}function C(e){return function(t){return null==t?B:t[e]}}function P(e){return function(t){return null==e?B:e[t]}}function T(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function S(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==B&&(n=n===B?o:n+o)}return n}function x(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function O(e){return function(t){return e(t)}}function A(e,t){return m(t,(function(t){return e[t]}))}function R(e,t){return e.has(t)}function D(e,t){for(var n=-1,r=e.length;++n<r&&-1<j(t,e[n],0););return n}function I(e,t){for(var n=e.length;n--&&-1<j(t,e[n],0););return n}function N(e){return"\\"+Fe[e]}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function L(e,t){return function(n){return e(t(n))}}function F(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&"__lodash_placeholder__"!==a||(e[n]="__lodash_placeholder__",o[i++]=n)}return o}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function z(e){if(Re.test(e)){for(var t=Oe.lastIndex=0;Oe.test(e);)++t;e=t}else e=tt(e);return e}function V(e){return Re.test(e)?e.match(Oe)||[]:e.split("")}var B,H=1/0,W=NaN,K=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],J=/\b__p\+='';/g,X=/\b(__p\+=)''\+/g,G=/(__e\(.*?\)|\b__t\))\+'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Q=RegExp($.source),Z=RegExp(Y.source),ee=/<%-([\s\S]+?)%>/g,te=/<%([\s\S]+?)%>/g,ne=/<%=([\s\S]+?)%>/g,re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/,oe=/^\./,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,se=/[\\^$.*+?()[\]{}|]/g,ue=RegExp(se.source),ce=/^\s+|\s+$/g,le=/^\s+/,fe=/\s+$/,de=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,pe=/,? & /,me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ye=/\\(\\)?/g,ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,be=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,we=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Ee=/^(?:0|[1-9]\d*)$/,Me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,Pe="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",Te="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Pe,Se=RegExp("['’]","g"),xe=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),Oe=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])"+Pe,"g"),Ae=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)|\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)|\\d+",Te].join("|"),"g"),Re=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ie="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Ne={};Ne["[object Float32Array]"]=Ne["[object Float64Array]"]=Ne["[object Int8Array]"]=Ne["[object Int16Array]"]=Ne["[object Int32Array]"]=Ne["[object Uint8Array]"]=Ne["[object Uint8ClampedArray]"]=Ne["[object Uint16Array]"]=Ne["[object Uint32Array]"]=!0,Ne["[object Arguments]"]=Ne["[object Array]"]=Ne["[object ArrayBuffer]"]=Ne["[object Boolean]"]=Ne["[object DataView]"]=Ne["[object Date]"]=Ne["[object Error]"]=Ne["[object Function]"]=Ne["[object Map]"]=Ne["[object Number]"]=Ne["[object Object]"]=Ne["[object RegExp]"]=Ne["[object Set]"]=Ne["[object String]"]=Ne["[object WeakMap]"]=!1;var Ue={};Ue["[object Arguments]"]=Ue["[object Array]"]=Ue["[object ArrayBuffer]"]=Ue["[object DataView]"]=Ue["[object Boolean]"]=Ue["[object Date]"]=Ue["[object Float32Array]"]=Ue["[object Float64Array]"]=Ue["[object Int8Array]"]=Ue["[object Int16Array]"]=Ue["[object Int32Array]"]=Ue["[object Map]"]=Ue["[object Number]"]=Ue["[object Object]"]=Ue["[object RegExp]"]=Ue["[object Set]"]=Ue["[object String]"]=Ue["[object Symbol]"]=Ue["[object Uint8Array]"]=Ue["[object Uint8ClampedArray]"]=Ue["[object Uint16Array]"]=Ue["[object Uint32Array]"]=!0,Ue["[object Error]"]=Ue["[object Function]"]=Ue["[object WeakMap]"]=!1;var Le,Fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qe=parseFloat,ze=parseInt,Ve="object"==typeof e&&e&&e.Object===Object&&e,Be="object"==typeof self&&self&&self.Object===Object&&self,He=Ve||Be||Function("return this")(),We=t&&!t.nodeType&&t,Ke=We&&"object"==typeof r&&r&&!r.nodeType&&r,Je=Ke&&Ke.exports===We,Xe=Je&&Ve.process;e:{try{Le=Xe&&Xe.binding&&Xe.binding("util");break e}catch(o){}Le=void 0}var Ge=Le&&Le.isArrayBuffer,$e=Le&&Le.isDate,Ye=Le&&Le.isMap,Qe=Le&&Le.isRegExp,Ze=Le&&Le.isSet,et=Le&&Le.isTypedArray,tt=C("length"),nt=P({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rt=P({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),it=P({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ot=function e(t){function n(e){if(Qr(e)&&!qa(e)&&!(e instanceof P)){if(e instanceof i)return e;if(qi.call(e,"__wrapped__"))return Mr(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=B}function P(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Le(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Oe;++t<n;)this.add(e[t])}function Fe(e){this.size=(this.__data__=new Te(e)).size}function Ve(e,t){var n,r=qa(e),i=!r&&Fa(e),o=!r&&!i&&Va(e),a=!r&&!i&&!o&&Ja(e),s=(i=(r=r||i||o||a)?x(e.length,Di):[]).length;for(n in e)!t&&!qi.call(e,n)||r&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||fr(n,s))||i.push(n);return i}function Be(e){var t=e.length;return t?e[Jt(0,t-1)]:B}function We(e,t){return _r(Mn(e),ft(t,0,e.length))}function Ke(e){return _r(Mn(e))}function Xe(e,t,n){(n===B||Hr(e[t],n))&&(n!==B||t in e)||ct(e,t,n)}function tt(e,t,n){var r=e[t];qi.call(e,t)&&Hr(r,n)&&(n!==B||t in e)||ct(e,t,n)}function at(e,t){for(var n=e.length;n--;)if(Hr(e[n][0],t))return n;return-1}function st(e,t,n,r){return Fo(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ut(e,t){return e&&kn(t,di(t),e)}function ct(e,t,n){"__proto__"==t&&io?io(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function lt(e,t){for(var n=-1,r=t.length,i=Pi(r),o=null==e;++n<r;)i[n]=o?B:li(e,t[n]);return i}function ft(e,t,n){return e==e&&(n!==B&&(e=e<=n?e:n),t!==B&&(e=e>=t?e:t)),e}function dt(e,t,n,r,i,o){var a,s=1&t,u=2&t,l=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),a!==B)return a;if(!Yr(e))return e;if(r=qa(e)){if(a=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&qi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return Mn(e,a)}else{var f=$o(e),d="[object Function]"==f||"[object GeneratorFunction]"==f;if(Va(e))return vn(e,s);if("[object Object]"==f||"[object Arguments]"==f||d&&!i){if(a=u||d?{}:ur(e),!s)return u?function(e,t){return kn(e,Go(e),t)}(e,function(e,t){return e&&kn(t,hi(t),e)}(a,e)):function(e,t){return kn(e,Xo(e),t)}(e,ut(a,e))}else{if(!Ue[f])return i?e:{};a=cr(e,f,dt,s)}}if(o||(o=new Fe),i=o.get(e))return i;o.set(e,a);u=l?u?er:Zn:u?hi:di;var h=r?B:u(e);return c(h||e,(function(r,i){h&&(r=e[i=r]),tt(a,i,dt(r,t,n,i,e,o))})),a}function ht(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ai(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===B&&!(i in e)||!o(a))return!1}return!0}function pt(e,t,n){if("function"!=typeof e)throw new Ii("Expected a function");return Zo((function(){e.apply(B,n)}),t)}function mt(e,t,n,r){var i=-1,o=h,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=m(t,O(n))),r?(o=p,a=!1):200<=t.length&&(o=R,a=!1,t=new Le(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);l=r||0!==l?l:0;if(a&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}function yt(e,t){var n=!0;return Fo(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gt(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===B?a==a&&!ni(a):n(a,s)))var s=a,u=o}return u}function vt(e,t){var n=[];return Fo(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function bt(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=lr),i||(i=[]);++o<a;){var s=e[o];0<t&&n(s)?1<t?bt(s,t-1,n,r,i):y(i,s):r||(i[i.length]=s)}return i}function _t(e,t){return e&&zo(e,t,di)}function wt(e,t){return e&&Vo(e,t,di)}function jt(e,t){return d(t,(function(t){return Xr(e[t])}))}function Et(e,t){for(var n=0,r=(t=yn(t,e)).length;null!=e&&n<r;)e=e[wr(t[n++])];return n&&n==r?e:B}function Mt(e,t,n){return t=t(e),qa(e)?t:y(t,n(e))}function kt(e){if(null==e)e=e===B?"[object Undefined]":"[object Null]";else if(ro&&ro in Ai(e)){var t=qi.call(e,ro),n=e[ro];try{e[ro]=B;var r=!0}catch(e){}var i=Bi.call(e);r&&(t?e[ro]=n:delete e[ro]),e=i}else e=Bi.call(e);return e}function Ct(e,t){return e>t}function Pt(e,t){return null!=e&&qi.call(e,t)}function Tt(e,t){return null!=e&&t in Ai(e)}function St(e,t,n){for(var r=n?p:h,i=e[0].length,o=e.length,a=o,s=Pi(o),u=1/0,c=[];a--;){var l=e[a];a&&t&&(l=m(l,O(t))),u=go(l.length,u),s[a]=!n&&(t||120<=i&&120<=l.length)?new Le(a&&l):B}l=e[0];var f=-1,d=s[0];e:for(;++f<i&&c.length<u;){var y=l[f],g=t?t(y):y;y=n||0!==y?y:0;if(d?!R(d,g):!r(c,g,n)){for(a=o;--a;){var v=s[a];if(v?!R(v,g):!r(e[a],g,n))continue e}d&&d.push(g),c.push(y)}}return c}function xt(e,t,n){return null==(t=null==(e=2>(t=yn(t,e)).length?e:Et(e,en(t,0,-1)))?e:e[wr(Sr(t))])?B:s(t,e,n)}function Ot(e){return Qr(e)&&"[object Arguments]"==kt(e)}function At(e,t,n,r,i){if(e===t)t=!0;else if(null==e||null==t||!Qr(e)&&!Qr(t))t=e!=e&&t!=t;else e:{var o,a,s=qa(e),u=qa(t),c="[object Object]"==(o="[object Arguments]"==(o=s?"[object Array]":$o(e))?"[object Object]":o);u="[object Object]"==(a="[object Arguments]"==(a=u?"[object Array]":$o(t))?"[object Object]":a);if((a=o==a)&&Va(e)){if(!Va(t)){t=!1;break e}s=!0,c=!1}if(a&&!c)i||(i=new Fe),t=s||Ja(e)?Yn(e,t,n,r,At,i):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new Gi(e),new Gi(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Hr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=U;case"[object Set]":if(s||(s=q),e.size!=t.size&&!(1&r))break;return(n=a.get(e))?n==t:(r|=2,a.set(e,t),t=Yn(s(e),s(t),r,i,o,a),a.delete(e),t);case"[object Symbol]":if(No)return No.call(e)==No.call(t)}return!1}(e,t,o,n,r,At,i);else{if(!(1&n)&&(s=c&&qi.call(e,"__wrapped__"),o=u&&qi.call(t,"__wrapped__"),s||o)){e=s?e.value():e,t=o?t.value():t,i||(i=new Fe),t=At(e,t,n,r,i);break e}if(a)t:if(i||(i=new Fe),s=1&n,o=Zn(e),u=o.length,a=Zn(t).length,u==a||s){for(c=u;c--;){var l=o[c];if(!(s?l in t:qi.call(t,l))){t=!1;break t}}if((a=i.get(e))&&i.get(t))t=a==t;else{a=!0,i.set(e,t),i.set(t,e);for(var f=s;++c<u;){var d=e[l=o[c]],h=t[l];if(r)var p=s?r(h,d,l,t,e,i):r(d,h,l,e,t,i);if(p===B?d!==h&&!At(d,h,n,r,i):!p){a=!1;break}f||(f="constructor"==l)}a&&!f&&((n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(a=!1)),i.delete(e),i.delete(t),t=a}}else t=!1;else t=!1}}return t}function Rt(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Ai(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(c===B&&!(u in e))return!1}else{if(s=new Fe,r)var f=r(c,l,u,e,t,s);if(f===B?!At(l,c,3,r,s):!f)return!1}}return!0}function Dt(e){return!(!Yr(e)||Vi&&Vi in e)&&(Xr(e)?Ki:we).test(jr(e))}function It(e){return"function"==typeof e?e:null==e?_i:"object"==typeof e?qa(e)?qt(e[0],e[1]):Ft(e):Mi(e)}function Nt(e){if(!mr(e))return mo(e);var t,n=[];for(t in Ai(e))qi.call(e,t)&&"constructor"!=t&&n.push(t);return n}function Ut(e,t){return e<t}function Lt(e,t){var n=-1,r=Wr(e)?Pi(e.length):[];return Fo(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Ft(e){var t=or(e);return 1==t.length&&t[0][2]?yr(t[0][0],t[0][1]):function(n){return n===e||Rt(n,e,t)}}function qt(e,t){return hr(e)&&t==t&&!Yr(t)?yr(wr(e),t):function(n){var r=li(n,e);return r===B&&r===t?fi(n,e):At(t,r,3)}}function zt(e,t,n,r,i){e!==t&&zo(t,(function(o,a){if(Yr(o)){i||(i=new Fe);var s=i,u=e[a],c=t[a];if(p=s.get(c))Xe(e,a,p);else{var l=(p=r?r(u,c,a+"",e,t,s):B)===B;if(l){var f=qa(c),d=!f&&Va(c),h=!f&&!d&&Ja(c),p=c;f||d||h?qa(u)?p=u:Kr(u)?p=Mn(u):d?(l=!1,p=vn(c,!0)):h?(l=!1,p=_n(c,!0)):p=[]:ei(c)||Fa(c)?(p=u,Fa(u)?p=ui(u):(!Yr(u)||n&&Xr(u))&&(p=ur(c))):l=!1}l&&(s.set(c,p),zt(p,c,n,r,s),s.delete(c)),Xe(e,a,p)}}else(s=r?r(e[a],o,a+"",e,t,i):B)===B&&(s=o),Xe(e,a,s)}),hi)}function Vt(e,t){var n=e.length;if(n)return fr(t+=0>t?n:0,n)?e[t]:B}function Bt(e,t,n){var r=-1;return t=m(t.length?t:[_i],O(rr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}(e=Lt(e,(function(e){return{a:m(t,(function(t){return t(e)})),b:++r,c:e}})),(function(e,t){var r;e:{r=-1;for(var i=e.a,o=t.a,a=i.length,s=n.length;++r<a;){var u=wn(i[r],o[r]);if(u){r=r>=s?u:u*("desc"==n[r]?-1:1);break e}}r=e.b-t.b}return r}))}function Ht(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Et(e,a);n(s,a)&&Qt(o,yn(a,e),s)}return o}function Wt(e,t,n,r){var i=r?E:j,o=-1,a=t.length,s=e;for(e===t&&(t=Mn(t)),n&&(s=m(e,O(n)));++o<a;){var u=0,c=t[o];for(c=n?n(c):c;-1<(u=i(s,c,u,r));)s!==e&&eo.call(s,u,1),eo.call(e,u,1)}return e}function Kt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;fr(i)?eo.call(e,i,1):cn(e,i)}}}function Jt(e,t){return e+co(_o()*(t-e+1))}function Xt(e,t){var n="";if(!e||1>t||9007199254740991<t)return n;do{t%2&&(n+=e),(t=co(t/2))&&(e+=e)}while(t);return n}function Gt(e,t){return ea(gr(e,t,_i),e+"")}function $t(e){return Be(mi(e))}function Yt(e,t){var n=mi(e);return _r(n,ft(t,0,n.length))}function Qt(e,t,n,r){if(!Yr(e))return e;for(var i=-1,o=(t=yn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=wr(t[i]),c=n;if(i!=a){var l=s[u];(c=r?r(l,u,s):B)===B&&(c=Yr(l)?l:fr(t[i+1])?[]:{})}tt(s,u,c),s=s[u]}return e}function Zt(e){return _r(mi(e))}function en(e,t,n){var r=-1,i=e.length;for(0>t&&(t=-t>i?0:i+t),0>(n=n>i?i:n)&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0,n=Pi(i);++r<i;)n[r]=e[r+t];return n}function tn(e,t){var n;return Fo(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function nn(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&2147483647>=i){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ni(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return rn(e,t,_i,n)}function rn(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!=t,s=null===t,u=ni(t),c=t===B;i<o;){var l=co((i+o)/2),f=n(e[l]),d=f!==B,h=null===f,p=f==f,m=ni(f);(a?r||p:c?p&&(r||d):s?p&&d&&(r||!h):u?p&&d&&!h&&(r||!m):!h&&!m&&(r?f<=t:f<t))?i=l+1:o=l}return go(o,4294967294)}function on(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Hr(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function an(e){return"number"==typeof e?e:ni(e)?W:+e}function sn(e){if("string"==typeof e)return e;if(qa(e))return m(e,sn)+"";if(ni(e))return Uo?Uo.call(e):"";var t=e+"";return"0"==t&&1/e==-H?"-0":t}function un(e,t,n){var r=-1,i=h,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=p;else if(200<=o){if(i=t?null:Ko(e))return q(i);a=!1,i=R,u=new Le}else u=t?[]:s;e:for(;++r<o;){var c=e[r],l=t?t(c):c;c=n||0!==c?c:0;if(a&&l==l){for(var f=u.length;f--;)if(u[f]===l)continue e;t&&u.push(l),s.push(c)}else i(u,l,n)||(u!==s&&u.push(l),s.push(c))}return s}function cn(e,t){return null==(e=2>(t=yn(t,e)).length?e:Et(e,en(t,0,-1)))||delete e[wr(Sr(t))]}function ln(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?en(e,r?0:o,r?o+1:i):en(e,r?o+1:0,r?i:o)}function fn(e,t){var n=e;return n instanceof P&&(n=n.value()),g(t,(function(e,t){return t.func.apply(t.thisArg,y([e],t.args))}),n)}function dn(e,t,n){var r=e.length;if(2>r)return r?un(e[0]):[];for(var i=-1,o=Pi(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=mt(o[i]||a,e[s],t,n));return un(bt(o,1),t,n)}function hn(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;)n(a,e[r],r<o?t[r]:B);return a}function pn(e){return Kr(e)?e:[]}function mn(e){return"function"==typeof e?e:_i}function yn(e,t){return qa(e)?e:hr(e,t)?[e]:ta(ci(e))}function gn(e,t,n){var r=e.length;return n=n===B?r:n,!t&&n>=r?e:en(e,t,n)}function vn(e,t){if(t)return e.slice();var n=e.length;n=$i?$i(n):new e.constructor(n);return e.copy(n),n}function bn(e){var t=new e.constructor(e.byteLength);return new Gi(t).set(new Gi(e)),t}function _n(e,t){return new e.constructor(t?bn(e.buffer):e.buffer,e.byteOffset,e.length)}function wn(e,t){if(e!==t){var n=e!==B,r=null===e,i=e==e,o=ni(e),a=t!==B,s=null===t,u=t==t,c=ni(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function jn(e,t,n,r){var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=yo(o-a,0),l=Pi(u+c);for(r=!r;++s<u;)l[s]=t[s];for(;++i<a;)(r||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function En(e,t,n,r){var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=yo(o-s,0),f=Pi(l+c);for(r=!r;++i<l;)f[i]=e[i];for(l=i;++u<c;)f[l+u]=t[u];for(;++a<s;)(r||i<o)&&(f[l+n[a]]=e[i++]);return f}function Mn(e,t){var n=-1,r=e.length;for(t||(t=Pi(r));++n<r;)t[n]=e[n];return t}function kn(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):B;u===B&&(u=e[s]),i?ct(n,s,u):tt(n,s,u)}return n}function Cn(e,t){return function(n,r){var i=qa(n)?u:st,o=t?t():{};return i(n,e,rr(r,2),o)}}function Pn(e){return Gt((function(t,n){var r=-1,i=n.length,o=1<i?n[i-1]:B,a=2<i?n[2]:B;o=3<e.length&&"function"==typeof o?(i--,o):B;for(a&&dr(n[0],n[1],a)&&(o=3>i?B:o,i=1),t=Ai(t);++r<i;)(a=n[r])&&e(t,a,r,o);return t}))}function Tn(e,t){return function(n,r){if(null==n)return n;if(!Wr(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ai(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Sn(e){return function(t,n,r){for(var i=-1,o=Ai(t),a=(r=r(t)).length;a--;){var s=r[e?a:++i];if(!1===n(o[s],s,o))break}return t}}function xn(e){return function(t){t=ci(t);var n=Re.test(t)?V(t):B,r=n?n[0]:t.charAt(0);return t=n?gn(n,1).join(""):t.slice(1),r[e]()+t}}function On(e){return function(t){return g(vi(gi(t).replace(Se,"")),e,"")}}function An(e){return function(){switch((t=arguments).length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var t,n=Lo(e.prototype);return Yr(t=e.apply(n,t))?t:n}}function Rn(e,t,n){var r=An(e);return function i(){for(var o=arguments.length,a=Pi(o),u=o,c=nr(i);u--;)a[u]=arguments[u];return(o-=(u=3>o&&a[0]!==c&&a[o-1]!==c?[]:F(a,c)).length)<n?Hn(e,t,Nn,i.placeholder,B,a,u,B,B,n-o):s(this&&this!==He&&this instanceof i?r:e,this,a)}}function Dn(e){return function(t,n,r){var i=Ai(t);if(!Wr(t)){var o=rr(n,3);t=di(t),n=function(e){return o(i[e],e,i)}}return-1<(n=e(t,n,r))?i[o?t[n]:n]:B}}function In(e){return Qn((function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){if("function"!=typeof(s=t[r]))throw new Ii("Expected a function");if(o&&!a&&"wrapper"==tr(s))var a=new i([],!0)}for(r=a?r:n;++r<n;){var s,u="wrapper"==(o=tr(s=t[r]))?Jo(s):B;a=u&&pr(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[tr(u[0])].apply(a,u[3]):1==s.length&&pr(s)?a[o]():a.thru(s)}return function(){var e=(i=arguments)[0];if(a&&1==i.length&&qa(e))return a.plant(e).value();for(var r=0,i=n?t[r].apply(this,i):e;++r<n;)i=t[r].call(this,i);return i}}))}function Nn(e,t,n,r,i,o,a,s,u,c){var l=128&t,f=1&t,d=2&t,h=24&t,p=512&t,m=d?B:An(e);return function y(){for(var g=arguments.length,v=Pi(g),b=g;b--;)v[b]=arguments[b];if(h){var _,w=nr(y);b=v.length;for(_=0;b--;)v[b]===w&&++_}if(r&&(v=jn(v,r,i,h)),o&&(v=En(v,o,a,h)),g-=_,h&&g<c)return w=F(v,w),Hn(e,t,Nn,y.placeholder,n,v,w,s,u,c-g);if(w=f?n:this,b=d?w[e]:e,g=v.length,s){_=v.length;for(var j=go(s.length,_),E=Mn(v);j--;){var M=s[j];v[j]=fr(M,_)?E[M]:B}}else p&&1<g&&v.reverse();return l&&u<g&&(v.length=u),this&&this!==He&&this instanceof y&&(b=m||An(b)),b.apply(w,v)}}function Un(e,t){return function(n,r){return function(e,t,n){var r={};return _t(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r))}}function Ln(e,t){return function(n,r){var i;if(n===B&&r===B)return t;if(n!==B&&(i=n),r!==B){if(i===B)return r;"string"==typeof n||"string"==typeof r?(n=sn(n),r=sn(r)):(n=an(n),r=an(r)),i=e(n,r)}return i}}function Fn(e){return Qn((function(t){return t=m(t,O(rr())),Gt((function(n){var r=this;return e(t,(function(e){return s(e,r,n)}))}))}))}function qn(e,t){var n=(t=t===B?" ":sn(t)).length;return 2>n?n?Xt(t,e):t:(n=Xt(t,uo(e/z(t))),Re.test(t)?gn(V(n),0,e).join(""):n.slice(0,e))}function zn(e,t,n,r){var i=1&t,o=An(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=r.length,f=Pi(l+u),d=this&&this!==He&&this instanceof t?o:e;++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++a];return s(d,i?n:this,f)}}function Vn(e){return function(t,n,r){r&&"number"!=typeof r&&dr(t,n,r)&&(n=r=B),t=ii(t),n===B?(n=t,t=0):n=ii(n),r=r===B?t<n?1:-1:ii(r);var i=-1;n=yo(uo((n-t)/(r||1)),0);for(var o=Pi(n);n--;)o[e?n:++i]=t,t+=r;return o}}function Bn(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=si(t),n=si(n)),e(t,n)}}function Hn(e,t,n,r,i,o,a,s,u,c){var l=8&t;return 4&(t=(t|(l?32:64))&~(l?64:32))||(t&=-4),i=[e,t,i,l?o:B,l?a:B,o=l?B:o,a=l?B:a,s,u,c],n=n.apply(B,i),pr(e)&&Qo(n,i),n.placeholder=r,vr(n,e,t)}function Wn(e){var t=Oi[e];return function(e,n){if(e=si(e),n=null==n?0:go(oi(n),292)){var r=(ci(e)+"e").split("e");return+((r=(ci(r=t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function Kn(e){return function(t){var n=$o(t);return"[object Map]"==n?U(t):"[object Set]"==n?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return m(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jn(e,t,n,r,i,o,a,s){var u=2&t;if(!u&&"function"!=typeof e)throw new Ii("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=i=B),a=a===B?a:yo(oi(a),0),s=s===B?s:oi(s),c-=i?i.length:0,64&t){var l=r,f=i;r=i=B}var d=u?B:Jo(e);return o=[e,t,n,r,i,l,f,o,a,s],d&&(t=(n=o[1])|(e=d[1]),r=128==e&&8==n||128==e&&256==n&&o[7].length<=d[8]||384==e&&d[7].length<=d[8]&&8==n,131>t||r)&&(1&e&&(o[2]=d[2],t|=1&n?0:4),(n=d[3])&&(r=o[3],o[3]=r?jn(r,n,d[4]):n,o[4]=r?F(o[3],"__lodash_placeholder__"):d[4]),(n=d[5])&&(r=o[5],o[5]=r?En(r,n,d[6]):n,o[6]=r?F(o[5],"__lodash_placeholder__"):d[6]),(n=d[7])&&(o[7]=n),128&e&&(o[8]=null==o[8]?d[8]:go(o[8],d[8])),null==o[9]&&(o[9]=d[9]),o[0]=d[0],o[1]=t),e=o[0],t=o[1],n=o[2],r=o[3],i=o[4],!(s=o[9]=o[9]===B?u?0:e.length:yo(o[9]-c,0))&&24&t&&(t&=-25),vr((d?Bo:Qo)(t&&1!=t?8==t||16==t?Rn(e,t,s):32!=t&&33!=t||i.length?Nn.apply(B,o):zn(e,t,n,r):function(e,t,n){var r=1&t,i=An(e);return function t(){return(this&&this!==He&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n),o),e,t)}function Xn(e,t,n,r){return e===B||Hr(e,Ui[n])&&!qi.call(r,n)?t:e}function Gn(e,t,n,r,i,o){return Yr(e)&&Yr(t)&&(o.set(t,e),zt(e,t,B,Gn,o),o.delete(t)),e}function $n(e){return ei(e)?B:e}function Yn(e,t,n,r,i,o){var a=1&n,s=e.length;if(s!=(u=t.length)&&!(a&&u>s))return!1;if((u=o.get(e))&&o.get(t))return u==t;var u=-1,c=!0,l=2&n?new Le:B;for(o.set(e,t),o.set(t,e);++u<s;){var f=e[u],d=t[u];if(r)var h=a?r(d,f,u,t,e,o):r(f,d,u,e,t,o);if(h!==B){if(h)continue;c=!1;break}if(l){if(!b(t,(function(e,t){if(!R(l,t)&&(f===e||i(f,e,n,r,o)))return l.push(t)}))){c=!1;break}}else if(f!==d&&!i(f,d,n,r,o)){c=!1;break}}return o.delete(e),o.delete(t),c}function Qn(e){return ea(gr(e,B,Pr),e+"")}function Zn(e){return Mt(e,di,Xo)}function er(e){return Mt(e,hi,Go)}function tr(e){for(var t=e.name+"",n=So[t],r=qi.call(So,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function nr(e){return(qi.call(n,"placeholder")?n:e).placeholder}function rr(){var e=(e=n.iteratee||wi)===wi?It:e;return arguments.length?e(arguments[0],arguments[1]):e}function ir(e,t){var n=e.__data__,r=typeof t;return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function or(e){for(var t=di(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,i==i&&!Yr(i)]}return t}function ar(e,t){var n=null==e?B:e[t];return Dt(n)?n:B}function sr(e,t,n){for(var r=-1,i=(t=yn(t,e)).length,o=!1;++r<i;){var a=wr(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&$r(i)&&fr(a,i)&&(qa(e)||Fa(e))}function ur(e){return"function"!=typeof e.constructor||mr(e)?{}:Lo(Yi(e))}function cr(e,t,n,r){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return bn(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return t=r?bn(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _n(e,r);case"[object Map]":return g(t=r?n(U(e),1):U(e),o,new e.constructor);case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return(t=new e.constructor(e.source,ve.exec(e))).lastIndex=e.lastIndex,t;case"[object Set]":return g(t=r?n(q(e),1):q(e),a,new e.constructor);case"[object Symbol]":return No?Ai(No.call(e)):{}}}function lr(e){return qa(e)||Fa(e)||!!(to&&e&&e[to])}function fr(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||Ee.test(e))&&-1<e&&0==e%1&&e<t}function dr(e,t,n){if(!Yr(n))return!1;var r=typeof t;return!!("number"==r?Wr(n)&&fr(t,n.length):"string"==r&&t in n)&&Hr(n[t],e)}function hr(e,t){if(qa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ni(e))||ie.test(e)||!re.test(e)||null!=t&&e in Ai(t)}function pr(e){var t=tr(e),r=n[t];return"function"==typeof r&&t in P.prototype&&(e===r||!!(t=Jo(r))&&e===t[0])}function mr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ui)}function yr(e,t){return function(n){return null!=n&&n[e]===t&&(t!==B||e in Ai(n))}}function gr(e,t,n){return t=yo(t===B?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=yo(r.length-t,0),a=Pi(o);++i<o;)a[i]=r[t+i];for(i=-1,o=Pi(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),s(e,this,o)}}function vr(e,t,n){var r=t+"";t=ea;var i,o=Er;return n=o(i=(i=r.match(he))?i[1].split(pe):[],n),(o=n.length)&&(n[i=o-1]=(1<o?"& ":"")+n[i],n=n.join(2<o?", ":" "),r=r.replace(de,"{\n/* [wrapped with "+n+"] */\n")),t(e,r)}function br(e){var t=0,n=0;return function(){var r=vo(),i=16-(r-n);if(n=r,0<i){if(800<=++t)return arguments[0]}else t=0;return e.apply(B,arguments)}}function _r(e,t){var n=-1,r=(i=e.length)-1;for(t=t===B?i:t;++n<t;){var i,o=e[i=Jt(n,r)];e[i]=e[n],e[n]=o}return e.length=t,e}function wr(e){if("string"==typeof e||ni(e))return e;var t=e+"";return"0"==t&&1/e==-H?"-0":t}function jr(e){if(null!=e){try{return Fi.call(e)}catch(e){}return e+""}return""}function Er(e,t){return c(K,(function(n){var r="_."+n[0];t&n[1]&&!h(e,r)&&e.push(r)})),e.sort()}function Mr(e){if(e instanceof P)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Mn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function kr(e,t,n){var r=null==e?0:e.length;return r?(0>(n=null==n?0:oi(n))&&(n=yo(r+n,0)),w(e,rr(t,3),n)):-1}function Cr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==B&&(i=oi(n),i=0>n?yo(r+i,0):go(i,r-1)),w(e,rr(t,3),i,!0)}function Pr(e){return null!=e&&e.length?bt(e,1):[]}function Tr(e){return e&&e.length?e[0]:B}function Sr(e){var t=null==e?0:e.length;return t?e[t-1]:B}function xr(e,t){return e&&e.length&&t&&t.length?Wt(e,t):e}function Or(e){return null==e?e:wo.call(e)}function Ar(e){if(!e||!e.length)return[];var t=0;return e=d(e,(function(e){if(Kr(e))return t=yo(e.length,t),!0})),x(t,(function(t){return m(e,C(t))}))}function Rr(e,t){if(!e||!e.length)return[];var n=Ar(e);return null==t?n:m(n,(function(e){return s(t,B,e)}))}function Dr(e){return(e=n(e)).__chain__=!0,e}function Ir(e,t){return t(e)}function Nr(e,t){return(qa(e)?c:Fo)(e,rr(t,3))}function Ur(e,t){return(qa(e)?l:qo)(e,rr(t,3))}function Lr(e,t){return(qa(e)?m:Lt)(e,rr(t,3))}function Fr(e,t,n){return t=n?B:t,t=e&&null==t?e.length:t,Jn(e,128,B,B,B,B,t)}function qr(e,t){var n;if("function"!=typeof t)throw new Ii("Expected a function");return e=oi(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=B),n}}function zr(e,t,n){function r(t){var n=u,r=c;return u=c=B,p=t,f=e.apply(r,n)}function i(e){var n=e-h;return e-=p,h===B||n>=t||0>n||y&&e>=l}function o(){var e=Ta();if(i(e))return a(e);var n,r=Zo;n=e-p,e=t-(e-h),n=y?go(e,l-n):e,d=r(o,n)}function a(e){return d=B,g&&u?r(e):(u=c=B,f)}function s(){var e=Ta(),n=i(e);if(u=arguments,c=this,h=e,n){if(d===B)return p=e=h,d=Zo(o,t),m?r(e):f;if(y)return d=Zo(o,t),r(h)}return d===B&&(d=Zo(o,t)),f}var u,c,l,f,d,h,p=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new Ii("Expected a function");return t=si(t)||0,Yr(n)&&(m=!!n.leading,l=(y="maxWait"in n)?yo(si(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),s.cancel=function(){d!==B&&Wo(d),p=0,u=h=c=d=B},s.flush=function(){return d===B?f:a(Ta())},s}function Vr(e,t){function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=e.apply(this,r),n.cache=o.set(i,r)||o,r)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ii("Expected a function");return n.cache=new(Vr.Cache||Oe),n}function Br(e){if("function"!=typeof e)throw new Ii("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Hr(e,t){return e===t||e!=e&&t!=t}function Wr(e){return null!=e&&$r(e.length)&&!Xr(e)}function Kr(e){return Qr(e)&&Wr(e)}function Jr(e){if(!Qr(e))return!1;var t=kt(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ei(e)}function Xr(e){return!!Yr(e)&&("[object Function]"==(e=kt(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function Gr(e){return"number"==typeof e&&e==oi(e)}function $r(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e}function Yr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qr(e){return null!=e&&"object"==typeof e}function Zr(e){return"number"==typeof e||Qr(e)&&"[object Number]"==kt(e)}function ei(e){return!(!Qr(e)||"[object Object]"!=kt(e))&&(null===(e=Yi(e))||"function"==typeof(e=qi.call(e,"constructor")&&e.constructor)&&e instanceof e&&Fi.call(e)==Hi)}function ti(e){return"string"==typeof e||!qa(e)&&Qr(e)&&"[object String]"==kt(e)}function ni(e){return"symbol"==typeof e||Qr(e)&&"[object Symbol]"==kt(e)}function ri(e){if(!e)return[];if(Wr(e))return ti(e)?V(e):Mn(e);if(no&&e[no]){e=e[no]();for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}return("[object Map]"==(t=$o(e))?U:"[object Set]"==t?q:mi)(e)}function ii(e){return e?(e=si(e))===H||e===-H?17976931348623157e292*(0>e?-1:1):e==e?e:0:0===e?e:0}function oi(e){var t=(e=ii(e))%1;return e==e?t?e-t:e:0}function ai(e){return e?ft(oi(e),0,4294967295):0}function si(e){if("number"==typeof e)return e;if(ni(e))return W;if(Yr(e)&&(e=Yr(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(ce,"");var t=_e.test(e);return t||je.test(e)?ze(e.slice(2),t?2:8):be.test(e)?W:+e}function ui(e){return kn(e,hi(e))}function ci(e){return null==e?"":sn(e)}function li(e,t,n){return(e=null==e?B:Et(e,t))===B?n:e}function fi(e,t){return null!=e&&sr(e,t,Tt)}function di(e){return Wr(e)?Ve(e):Nt(e)}function hi(e){if(Wr(e))e=Ve(e,!0);else if(Yr(e)){var t,n=mr(e),r=[];for(t in e)("constructor"!=t||!n&&qi.call(e,t))&&r.push(t);e=r}else{if(t=[],null!=e)for(n in Ai(e))t.push(n);e=t}return e}function pi(e,t){if(null==e)return{};var n=m(er(e),(function(e){return[e]}));return t=rr(t),Ht(e,n,(function(e,n){return t(e,n[0])}))}function mi(e){return null==e?[]:A(e,di(e))}function yi(e){return bs(ci(e).toLowerCase())}function gi(e){return(e=ci(e))&&e.replace(Me,nt).replace(xe,"")}function vi(e,t,n){return e=ci(e),(t=n?B:t)===B?De.test(e)?e.match(Ae)||[]:e.match(me)||[]:e.match(t)||[]}function bi(e){return function(){return e}}function _i(e){return e}function wi(e){return It("function"==typeof e?e:dt(e,1))}function ji(e,t,n){var r=di(t),i=jt(t,r);null!=n||Yr(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=jt(t,di(t)));var o=!(Yr(n)&&"chain"in n&&!n.chain),a=Xr(e);return c(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Mn(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,y([this.value()],arguments))})})),e}function Ei(){}function Mi(e){return hr(e)?C(wr(e)):function(e){return function(t){return Et(t,e)}}(e)}function ki(){return[]}function Ci(){return!1}var Pi=(t=null==t?He:ot.defaults(He.Object(),t,ot.pick(He,Ie))).Array,Ti=t.Date,Si=t.Error,xi=t.Function,Oi=t.Math,Ai=t.Object,Ri=t.RegExp,Di=t.String,Ii=t.TypeError,Ni=Pi.prototype,Ui=Ai.prototype,Li=t["__core-js_shared__"],Fi=xi.prototype.toString,qi=Ui.hasOwnProperty,zi=0,Vi=function(){var e=/[^.]+$/.exec(Li&&Li.keys&&Li.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Bi=Ui.toString,Hi=Fi.call(Ai),Wi=He._,Ki=Ri("^"+Fi.call(qi).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ji=Je?t.Buffer:B,Xi=t.Symbol,Gi=t.Uint8Array,$i=Ji?Ji.f:B,Yi=L(Ai.getPrototypeOf,Ai),Qi=Ai.create,Zi=Ui.propertyIsEnumerable,eo=Ni.splice,to=Xi?Xi.isConcatSpreadable:B,no=Xi?Xi.iterator:B,ro=Xi?Xi.toStringTag:B,io=function(){try{var e=ar(Ai,"defineProperty");return e({},"",{}),e}catch(e){}}(),oo=t.clearTimeout!==He.clearTimeout&&t.clearTimeout,ao=Ti&&Ti.now!==He.Date.now&&Ti.now,so=t.setTimeout!==He.setTimeout&&t.setTimeout,uo=Oi.ceil,co=Oi.floor,lo=Ai.getOwnPropertySymbols,fo=Ji?Ji.isBuffer:B,ho=t.isFinite,po=Ni.join,mo=L(Ai.keys,Ai),yo=Oi.max,go=Oi.min,vo=Ti.now,bo=t.parseInt,_o=Oi.random,wo=Ni.reverse,jo=ar(t,"DataView"),Eo=ar(t,"Map"),Mo=ar(t,"Promise"),ko=ar(t,"Set"),Co=ar(t,"WeakMap"),Po=ar(Ai,"create"),To=Co&&new Co,So={},xo=jr(jo),Oo=jr(Eo),Ao=jr(Mo),Ro=jr(ko),Do=jr(Co),Io=Xi?Xi.prototype:B,No=Io?Io.valueOf:B,Uo=Io?Io.toString:B,Lo=function(){function e(){}return function(t){return Yr(t)?Qi?Qi(t):(e.prototype=t,t=new e,e.prototype=B,t):{}}}();n.templateSettings={escape:ee,evaluate:te,interpolate:ne,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=Lo(r.prototype),i.prototype.constructor=i,P.prototype=Lo(r.prototype),P.prototype.constructor=P,Pe.prototype.clear=function(){this.__data__=Po?Po(null):{},this.size=0},Pe.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Pe.prototype.get=function(e){var t=this.__data__;return Po?"__lodash_hash_undefined__"===(e=t[e])?B:e:qi.call(t,e)?t[e]:B},Pe.prototype.has=function(e){var t=this.__data__;return Po?t[e]!==B:qi.call(t,e)},Pe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Po&&t===B?"__lodash_hash_undefined__":t,this},Te.prototype.clear=function(){this.__data__=[],this.size=0},Te.prototype.delete=function(e){var t=this.__data__;return!(0>(e=at(t,e))||(e==t.length-1?t.pop():eo.call(t,e,1),--this.size,0))},Te.prototype.get=function(e){var t=this.__data__;return 0>(e=at(t,e))?B:t[e][1]},Te.prototype.has=function(e){return-1<at(this.__data__,e)},Te.prototype.set=function(e,t){var n=this.__data__,r=at(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this},Oe.prototype.clear=function(){this.size=0,this.__data__={hash:new Pe,map:new(Eo||Te),string:new Pe}},Oe.prototype.delete=function(e){return e=ir(this,e).delete(e),this.size-=e?1:0,e},Oe.prototype.get=function(e){return ir(this,e).get(e)},Oe.prototype.has=function(e){return ir(this,e).has(e)},Oe.prototype.set=function(e,t){var n=ir(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Le.prototype.add=Le.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Le.prototype.has=function(e){return this.__data__.has(e)},Fe.prototype.clear=function(){this.__data__=new Te,this.size=0},Fe.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Fe.prototype.get=function(e){return this.__data__.get(e)},Fe.prototype.has=function(e){return this.__data__.has(e)},Fe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!Eo||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oe(r)}return n.set(e,t),this.size=n.size,this};var Fo=Tn(_t),qo=Tn(wt,!0),zo=Sn(),Vo=Sn(!0),Bo=To?function(e,t){return To.set(e,t),e}:_i,Ho=io?function(e,t){return io(e,"toString",{configurable:!0,enumerable:!1,value:bi(t),writable:!0})}:_i,Wo=oo||function(e){return He.clearTimeout(e)},Ko=ko&&1/q(new ko([,-0]))[1]==H?function(e){return new ko(e)}:Ei,Jo=To?function(e){return To.get(e)}:Ei,Xo=lo?function(e){return null==e?[]:(e=Ai(e),d(lo(e),(function(t){return Zi.call(e,t)})))}:ki,Go=lo?function(e){for(var t=[];e;)y(t,Xo(e)),e=Yi(e);return t}:ki,$o=kt;(jo&&"[object DataView]"!=$o(new jo(new ArrayBuffer(1)))||Eo&&"[object Map]"!=$o(new Eo)||Mo&&"[object Promise]"!=$o(Mo.resolve())||ko&&"[object Set]"!=$o(new ko)||Co&&"[object WeakMap]"!=$o(new Co))&&($o=function(e){var t=kt(e);if(e=(e="[object Object]"==t?e.constructor:B)?jr(e):"")switch(e){case xo:return"[object DataView]";case Oo:return"[object Map]";case Ao:return"[object Promise]";case Ro:return"[object Set]";case Do:return"[object WeakMap]"}return t});var Yo=Li?Xr:Ci,Qo=br(Bo),Zo=so||function(e,t){return He.setTimeout(e,t)},ea=br(Ho),ta=function(e){var t=(e=Vr(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}((function(e){var t=[];return oe.test(e)&&t.push(""),e.replace(ae,(function(e,n,r,i){t.push(r?i.replace(ye,"$1"):n||e)})),t})),na=Gt((function(e,t){return Kr(e)?mt(e,bt(t,1,Kr,!0)):[]})),ra=Gt((function(e,t){var n=Sr(t);return Kr(n)&&(n=B),Kr(e)?mt(e,bt(t,1,Kr,!0),rr(n,2)):[]})),ia=Gt((function(e,t){var n=Sr(t);return Kr(n)&&(n=B),Kr(e)?mt(e,bt(t,1,Kr,!0),B,n):[]})),oa=Gt((function(e){var t=m(e,pn);return t.length&&t[0]===e[0]?St(t):[]})),aa=Gt((function(e){var t=Sr(e),n=m(e,pn);return t===Sr(n)?t=B:n.pop(),n.length&&n[0]===e[0]?St(n,rr(t,2)):[]})),sa=Gt((function(e){var t=Sr(e),n=m(e,pn);return(t="function"==typeof t?t:B)&&n.pop(),n.length&&n[0]===e[0]?St(n,B,t):[]})),ua=Gt(xr),ca=Qn((function(e,t){var n=null==e?0:e.length,r=lt(e,t);return Kt(e,m(t,(function(e){return fr(e,n)?+e:e})).sort(wn)),r})),la=Gt((function(e){return un(bt(e,1,Kr,!0))})),fa=Gt((function(e){var t=Sr(e);return Kr(t)&&(t=B),un(bt(e,1,Kr,!0),rr(t,2))})),da=Gt((function(e){var t="function"==typeof(t=Sr(e))?t:B;return un(bt(e,1,Kr,!0),B,t)})),ha=Gt((function(e,t){return Kr(e)?mt(e,t):[]})),pa=Gt((function(e){return dn(d(e,Kr))})),ma=Gt((function(e){var t=Sr(e);return Kr(t)&&(t=B),dn(d(e,Kr),rr(t,2))})),ya=Gt((function(e){var t="function"==typeof(t=Sr(e))?t:B;return dn(d(e,Kr),B,t)})),ga=Gt(Ar),va=Gt((function(e){var t="function"==typeof(t=1<(t=e.length)?e[t-1]:B)?(e.pop(),t):B;return Rr(e,t)})),ba=Qn((function(e){function t(t){return lt(t,e)}var n=e.length,r=n?e[0]:0,o=this.__wrapped__;return!(1<n||this.__actions__.length)&&o instanceof P&&fr(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:Ir,args:[t],thisArg:B}),new i(o,this.__chain__).thru((function(e){return n&&!e.length&&e.push(B),e}))):this.thru(t)})),_a=Cn((function(e,t,n){qi.call(e,n)?++e[n]:ct(e,n,1)})),wa=Dn(kr),ja=Dn(Cr),Ea=Cn((function(e,t,n){qi.call(e,n)?e[n].push(t):ct(e,n,[t])})),Ma=Gt((function(e,t,n){var r=-1,i="function"==typeof t,o=Wr(e)?Pi(e.length):[];return Fo(e,(function(e){o[++r]=i?s(t,e,n):xt(e,t,n)})),o})),ka=Cn((function(e,t,n){ct(e,n,t)})),Ca=Cn((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Pa=Gt((function(e,t){if(null==e)return[];var n=t.length;return 1<n&&dr(e,t[0],t[1])?t=[]:2<n&&dr(t[0],t[1],t[2])&&(t=[t[0]]),Bt(e,bt(t,1),[])})),Ta=ao||function(){return He.Date.now()},Sa=Gt((function(e,t,n){var r=1;if(n.length){var i=F(n,nr(Sa));r=32|r}return Jn(e,r,t,n,i)})),xa=Gt((function(e,t,n){var r=3;if(n.length){var i=F(n,nr(xa));r=32|r}return Jn(t,r,e,n,i)})),Oa=Gt((function(e,t){return pt(e,1,t)})),Aa=Gt((function(e,t,n){return pt(e,si(t)||0,n)}));Vr.Cache=Oe;var Ra=Gt((function(e,t){var n=(t=1==t.length&&qa(t[0])?m(t[0],O(rr())):m(bt(t,1),O(rr()))).length;return Gt((function(r){for(var i=-1,o=go(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)}))})),Da=Gt((function(e,t){return Jn(e,32,B,t,F(t,nr(Da)))})),Ia=Gt((function(e,t){return Jn(e,64,B,t,F(t,nr(Ia)))})),Na=Qn((function(e,t){return Jn(e,256,B,B,B,t)})),Ua=Bn(Ct),La=Bn((function(e,t){return e>=t})),Fa=Ot(function(){return arguments}())?Ot:function(e){return Qr(e)&&qi.call(e,"callee")&&!Zi.call(e,"callee")},qa=Pi.isArray,za=Ge?O(Ge):function(e){return Qr(e)&&"[object ArrayBuffer]"==kt(e)},Va=fo||Ci,Ba=$e?O($e):function(e){return Qr(e)&&"[object Date]"==kt(e)},Ha=Ye?O(Ye):function(e){return Qr(e)&&"[object Map]"==$o(e)},Wa=Qe?O(Qe):function(e){return Qr(e)&&"[object RegExp]"==kt(e)},Ka=Ze?O(Ze):function(e){return Qr(e)&&"[object Set]"==$o(e)},Ja=et?O(et):function(e){return Qr(e)&&$r(e.length)&&!!Ne[kt(e)]},Xa=Bn(Ut),Ga=Bn((function(e,t){return e<=t})),$a=Pn((function(e,t){if(mr(t)||Wr(t))kn(t,di(t),e);else for(var n in t)qi.call(t,n)&&tt(e,n,t[n])})),Ya=Pn((function(e,t){kn(t,hi(t),e)})),Qa=Pn((function(e,t,n,r){kn(t,hi(t),e,r)})),Za=Pn((function(e,t,n,r){kn(t,di(t),e,r)})),es=Qn(lt),ts=Gt((function(e){return e.push(B,Xn),s(Qa,B,e)})),ns=Gt((function(e){return e.push(B,Gn),s(ss,B,e)})),rs=Un((function(e,t,n){e[t]=n}),bi(_i)),is=Un((function(e,t,n){qi.call(e,t)?e[t].push(n):e[t]=[n]}),rr),os=Gt(xt),as=Pn((function(e,t,n){zt(e,t,n)})),ss=Pn((function(e,t,n,r){zt(e,t,n,r)})),us=Qn((function(e,t){var n={};if(null==e)return n;var r=!1;t=m(t,(function(t){return t=yn(t,e),r||(r=1<t.length),t})),kn(e,er(e),n),r&&(n=dt(n,7,$n));for(var i=t.length;i--;)cn(n,t[i]);return n})),cs=Qn((function(e,t){return null==e?{}:function(e,t){return Ht(e,t,(function(t,n){return fi(e,n)}))}(e,t)})),ls=Kn(di),fs=Kn(hi),ds=On((function(e,t,n){return t=t.toLowerCase(),e+(n?yi(t):t)})),hs=On((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),ps=On((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ms=xn("toLowerCase"),ys=On((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),gs=On((function(e,t,n){return e+(n?" ":"")+bs(t)})),vs=On((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),bs=xn("toUpperCase"),_s=Gt((function(e,t){try{return s(e,B,t)}catch(e){return Jr(e)?e:new Si(e)}})),ws=Qn((function(e,t){return c(t,(function(t){t=wr(t),ct(e,t,Sa(e[t],e))})),e})),js=In(),Es=In(!0),Ms=Gt((function(e,t){return function(n){return xt(n,e,t)}})),ks=Gt((function(e,t){return function(n){return xt(e,n,t)}})),Cs=Fn(m),Ps=Fn(f),Ts=Fn(b),Ss=Vn(),xs=Vn(!0),Os=Ln((function(e,t){return e+t}),0),As=Wn("ceil"),Rs=Ln((function(e,t){return e/t}),1),Ds=Wn("floor"),Is=Ln((function(e,t){return e*t}),1),Ns=Wn("round"),Us=Ln((function(e,t){return e-t}),0);return n.after=function(e,t){if("function"!=typeof t)throw new Ii("Expected a function");return e=oi(e),function(){if(1>--e)return t.apply(this,arguments)}},n.ary=Fr,n.assign=$a,n.assignIn=Ya,n.assignInWith=Qa,n.assignWith=Za,n.at=es,n.before=qr,n.bind=Sa,n.bindAll=ws,n.bindKey=xa,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qa(e)?e:[e]},n.chain=Dr,n.chunk=function(e,t,n){if(t=(n?dr(e,t,n):t===B)?1:yo(oi(t),0),!(n=null==e?0:e.length)||1>t)return[];for(var r=0,i=0,o=Pi(uo(n/t));r<n;)o[i++]=en(e,r,r+=t);return o},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Pi(e-1),n=arguments[0];e--;)t[e-1]=arguments[e];return y(qa(n)?Mn(n):[n],bt(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=rr();return e=t?m(e,(function(e){if("function"!=typeof e[1])throw new Ii("Expected a function");return[n(e[0]),e[1]]})):[],Gt((function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}}))},n.conforms=function(e){return function(e){var t=di(e);return function(n){return ht(n,e,t)}}(dt(e,1))},n.constant=bi,n.countBy=_a,n.create=function(e,t){var n=Lo(e);return null==t?n:ut(n,t)},n.curry=function e(t,n,r){return(t=Jn(t,8,B,B,B,B,B,n=r?B:n)).placeholder=e.placeholder,t},n.curryRight=function e(t,n,r){return(t=Jn(t,16,B,B,B,B,B,n=r?B:n)).placeholder=e.placeholder,t},n.debounce=zr,n.defaults=ts,n.defaultsDeep=ns,n.defer=Oa,n.delay=Aa,n.difference=na,n.differenceBy=ra,n.differenceWith=ia,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?en(e,0>(t=n||t===B?1:oi(t))?0:t,r):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?en(e,0,0>(t=r-(t=n||t===B?1:oi(t)))?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?ln(e,rr(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?ln(e,rr(t,3),!0):[]},n.fill=function(e,t,n,r){var i=null==e?0:e.length;if(!i)return[];for(n&&"number"!=typeof n&&dr(e,t,n)&&(n=0,r=i),i=e.length,0>(n=oi(n))&&(n=-n>i?0:i+n),0>(r=r===B||r>i?i:oi(r))&&(r+=i),r=n>r?0:ai(r);n<r;)e[n++]=t;return e},n.filter=function(e,t){return(qa(e)?d:vt)(e,rr(t,3))},n.flatMap=function(e,t){return bt(Lr(e,t),1)},n.flatMapDeep=function(e,t){return bt(Lr(e,t),H)},n.flatMapDepth=function(e,t,n){return n=n===B?1:oi(n),bt(Lr(e,t),n)},n.flatten=Pr,n.flattenDeep=function(e){return null!=e&&e.length?bt(e,H):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?bt(e,t=t===B?1:oi(t)):[]},n.flip=function(e){return Jn(e,512)},n.flow=js,n.flowRight=Es,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},n.functions=function(e){return null==e?[]:jt(e,di(e))},n.functionsIn=function(e){return null==e?[]:jt(e,hi(e))},n.groupBy=Ea,n.initial=function(e){return null!=e&&e.length?en(e,0,-1):[]},n.intersection=oa,n.intersectionBy=aa,n.intersectionWith=sa,n.invert=rs,n.invertBy=is,n.invokeMap=Ma,n.iteratee=wi,n.keyBy=ka,n.keys=di,n.keysIn=hi,n.map=Lr,n.mapKeys=function(e,t){var n={};return t=rr(t,3),_t(e,(function(e,r,i){ct(n,t(e,r,i),e)})),n},n.mapValues=function(e,t){var n={};return t=rr(t,3),_t(e,(function(e,r,i){ct(n,r,t(e,r,i))})),n},n.matches=function(e){return Ft(dt(e,1))},n.matchesProperty=function(e,t){return qt(e,dt(t,1))},n.memoize=Vr,n.merge=as,n.mergeWith=ss,n.method=Ms,n.methodOf=ks,n.mixin=ji,n.negate=Br,n.nthArg=function(e){return e=oi(e),Gt((function(t){return Vt(t,e)}))},n.omit=us,n.omitBy=function(e,t){return pi(e,Br(rr(t)))},n.once=function(e){return qr(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(qa(t)||(t=null==t?[]:[t]),qa(n=r?B:n)||(n=null==n?[]:[n]),Bt(e,t,n))},n.over=Cs,n.overArgs=Ra,n.overEvery=Ps,n.overSome=Ts,n.partial=Da,n.partialRight=Ia,n.partition=Ca,n.pick=cs,n.pickBy=pi,n.property=Mi,n.propertyOf=function(e){return function(t){return null==e?B:Et(e,t)}},n.pull=ua,n.pullAll=xr,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wt(e,t,rr(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wt(e,t,B,n):e},n.pullAt=ca,n.range=Ss,n.rangeRight=xs,n.rearg=Na,n.reject=function(e,t){return(qa(e)?d:vt)(e,Br(rr(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=rr(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Kt(e,i),n},n.rest=function(e,t){if("function"!=typeof e)throw new Ii("Expected a function");return Gt(e,t=t===B?t:oi(t))},n.reverse=Or,n.sampleSize=function(e,t,n){return t=(n?dr(e,t,n):t===B)?1:oi(t),(qa(e)?We:Yt)(e,t)},n.set=function(e,t,n){return null==e?e:Qt(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:B,null==e?e:Qt(e,t,n,r)},n.shuffle=function(e){return(qa(e)?Ke:Zt)(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&dr(e,t,n)?(t=0,n=r):(t=null==t?0:oi(t),n=n===B?r:oi(n)),en(e,t,n)):[]},n.sortBy=Pa,n.sortedUniq=function(e){return e&&e.length?on(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?on(e,rr(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&dr(e,t,n)&&(t=n=B),(n=n===B?4294967295:n>>>0)?(e=ci(e))&&("string"==typeof t||null!=t&&!Wa(t))&&(!(t=sn(t))&&Re.test(e))?gn(V(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new Ii("Expected a function");return t=null==t?0:yo(oi(t),0),Gt((function(n){var r=n[t];return n=gn(n,0,t),r&&y(n,r),s(e,this,n)}))},n.tail=function(e){var t=null==e?0:e.length;return t?en(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?en(e,0,0>(t=n||t===B?1:oi(t))?0:t):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?en(e,0>(t=r-(t=n||t===B?1:oi(t)))?0:t,r):[]},n.takeRightWhile=function(e,t){return e&&e.length?ln(e,rr(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?ln(e,rr(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ii("Expected a function");return Yr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),zr(e,t,{leading:r,maxWait:t,trailing:i})},n.thru=Ir,n.toArray=ri,n.toPairs=ls,n.toPairsIn=fs,n.toPath=function(e){return qa(e)?m(e,wr):ni(e)?[e]:Mn(ta(ci(e)))},n.toPlainObject=ui,n.transform=function(e,t,n){var r=qa(e),i=r||Va(e)||Ja(e);if(t=rr(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Yr(e)&&Xr(o)?Lo(Yi(e)):{}}return(i?c:_t)(e,(function(e,r,i){return t(n,e,r,i)})),n},n.unary=function(e){return Fr(e,1)},n.union=la,n.unionBy=fa,n.unionWith=da,n.uniq=function(e){return e&&e.length?un(e):[]},n.uniqBy=function(e,t){return e&&e.length?un(e,rr(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:B,e&&e.length?un(e,B,t):[]},n.unset=function(e,t){return null==e||cn(e,t)},n.unzip=Ar,n.unzipWith=Rr,n.update=function(e,t,n){return null==e?e:Qt(e,t,mn(n)(Et(e,t)),void 0)},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:B,null!=e&&(e=Qt(e,t,mn(n)(Et(e,t)),r)),e},n.values=mi,n.valuesIn=function(e){return null==e?[]:A(e,hi(e))},n.without=ha,n.words=vi,n.wrap=function(e,t){return Da(mn(t),e)},n.xor=pa,n.xorBy=ma,n.xorWith=ya,n.zip=ga,n.zipObject=function(e,t){return hn(e||[],t||[],tt)},n.zipObjectDeep=function(e,t){return hn(e||[],t||[],Qt)},n.zipWith=va,n.entries=ls,n.entriesIn=fs,n.extend=Ya,n.extendWith=Qa,ji(n,n),n.add=Os,n.attempt=_s,n.camelCase=ds,n.capitalize=yi,n.ceil=As,n.clamp=function(e,t,n){return n===B&&(n=t,t=B),n!==B&&(n=(n=si(n))==n?n:0),t!==B&&(t=(t=si(t))==t?t:0),ft(si(e),t,n)},n.clone=function(e){return dt(e,4)},n.cloneDeep=function(e){return dt(e,5)},n.cloneDeepWith=function(e,t){return dt(e,5,t="function"==typeof t?t:B)},n.cloneWith=function(e,t){return dt(e,4,t="function"==typeof t?t:B)},n.conformsTo=function(e,t){return null==t||ht(e,t,di(t))},n.deburr=gi,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=Rs,n.endsWith=function(e,t,n){e=ci(e),t=sn(t);var r=e.length;r=n=n===B?r:ft(oi(n),0,r);return 0<=(n-=t.length)&&e.slice(n,r)==t},n.eq=Hr,n.escape=function(e){return(e=ci(e))&&Z.test(e)?e.replace(Y,rt):e},n.escapeRegExp=function(e){return(e=ci(e))&&ue.test(e)?e.replace(se,"\\$&"):e},n.every=function(e,t,n){var r=qa(e)?f:yt;return n&&dr(e,t,n)&&(t=B),r(e,rr(t,3))},n.find=wa,n.findIndex=kr,n.findKey=function(e,t){return _(e,rr(t,3),_t)},n.findLast=ja,n.findLastIndex=Cr,n.findLastKey=function(e,t){return _(e,rr(t,3),wt)},n.floor=Ds,n.forEach=Nr,n.forEachRight=Ur,n.forIn=function(e,t){return null==e?e:zo(e,rr(t,3),hi)},n.forInRight=function(e,t){return null==e?e:Vo(e,rr(t,3),hi)},n.forOwn=function(e,t){return e&&_t(e,rr(t,3))},n.forOwnRight=function(e,t){return e&&wt(e,rr(t,3))},n.get=li,n.gt=Ua,n.gte=La,n.has=function(e,t){return null!=e&&sr(e,t,Pt)},n.hasIn=fi,n.head=Tr,n.identity=_i,n.includes=function(e,t,n,r){return e=Wr(e)?e:mi(e),n=n&&!r?oi(n):0,r=e.length,0>n&&(n=yo(r+n,0)),ti(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<j(e,t,n)},n.indexOf=function(e,t,n){var r=null==e?0:e.length;return r?(0>(n=null==n?0:oi(n))&&(n=yo(r+n,0)),j(e,t,n)):-1},n.inRange=function(e,t,n){return t=ii(t),n===B?(n=t,t=0):n=ii(n),(e=si(e))>=go(t,n)&&e<yo(t,n)},n.invoke=os,n.isArguments=Fa,n.isArray=qa,n.isArrayBuffer=za,n.isArrayLike=Wr,n.isArrayLikeObject=Kr,n.isBoolean=function(e){return!0===e||!1===e||Qr(e)&&"[object Boolean]"==kt(e)},n.isBuffer=Va,n.isDate=Ba,n.isElement=function(e){return Qr(e)&&1===e.nodeType&&!ei(e)},n.isEmpty=function(e){if(null==e)return!0;if(Wr(e)&&(qa(e)||"string"==typeof e||"function"==typeof e.splice||Va(e)||Ja(e)||Fa(e)))return!e.length;var t=$o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(mr(e))return!Nt(e).length;for(var n in e)if(qi.call(e,n))return!1;return!0},n.isEqual=function(e,t){return At(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:B)?n(e,t):B;return r===B?At(e,t,B,n):!!r},n.isError=Jr,n.isFinite=function(e){return"number"==typeof e&&ho(e)},n.isFunction=Xr,n.isInteger=Gr,n.isLength=$r,n.isMap=Ha,n.isMatch=function(e,t){return e===t||Rt(e,t,or(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:B,Rt(e,t,or(t),n)},n.isNaN=function(e){return Zr(e)&&e!=+e},n.isNative=function(e){if(Yo(e))throw new Si("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dt(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Zr,n.isObject=Yr,n.isObjectLike=Qr,n.isPlainObject=ei,n.isRegExp=Wa,n.isSafeInteger=function(e){return Gr(e)&&-9007199254740991<=e&&9007199254740991>=e},n.isSet=Ka,n.isString=ti,n.isSymbol=ni,n.isTypedArray=Ja,n.isUndefined=function(e){return e===B},n.isWeakMap=function(e){return Qr(e)&&"[object WeakMap]"==$o(e)},n.isWeakSet=function(e){return Qr(e)&&"[object WeakSet]"==kt(e)},n.join=function(e,t){return null==e?"":po.call(e,t)},n.kebabCase=hs,n.last=Sr,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;if(n!==B&&(i=0>(i=oi(n))?yo(r+i,0):go(i,r-1)),t==t){for(n=i+1;n--&&e[n]!==t;);e=n}else e=w(e,M,i,!0);return e},n.lowerCase=ps,n.lowerFirst=ms,n.lt=Xa,n.lte=Ga,n.max=function(e){return e&&e.length?gt(e,_i,Ct):B},n.maxBy=function(e,t){return e&&e.length?gt(e,rr(t,2),Ct):B},n.mean=function(e){return k(e,_i)},n.meanBy=function(e,t){return k(e,rr(t,2))},n.min=function(e){return e&&e.length?gt(e,_i,Ut):B},n.minBy=function(e,t){return e&&e.length?gt(e,rr(t,2),Ut):B},n.stubArray=ki,n.stubFalse=Ci,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Is,n.nth=function(e,t){return e&&e.length?Vt(e,oi(t)):B},n.noConflict=function(){return He._===this&&(He._=Wi),this},n.noop=Ei,n.now=Ta,n.pad=function(e,t,n){e=ci(e);var r=(t=oi(t))?z(e):0;return!t||r>=t?e:qn(co(t=(t-r)/2),n)+e+qn(uo(t),n)},n.padEnd=function(e,t,n){e=ci(e);var r=(t=oi(t))?z(e):0;return t&&r<t?e+qn(t-r,n):e},n.padStart=function(e,t,n){e=ci(e);var r=(t=oi(t))?z(e):0;return t&&r<t?qn(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bo(ci(e).replace(le,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&dr(e,t,n)&&(t=n=B),n===B&&("boolean"==typeof t?(n=t,t=B):"boolean"==typeof e&&(n=e,e=B)),e===B&&t===B?(e=0,t=1):(e=ii(e),t===B?(t=e,e=0):t=ii(t)),e>t){var r=e;e=t,t=r}return n||e%1||t%1?(n=_o(),go(e+n*(t-e+qe("1e-"+((n+"").length-1))),t)):Jt(e,t)},n.reduce=function(e,t,n){var r=qa(e)?g:T,i=3>arguments.length;return r(e,rr(t,4),n,i,Fo)},n.reduceRight=function(e,t,n){var r=qa(e)?v:T,i=3>arguments.length;return r(e,rr(t,4),n,i,qo)},n.repeat=function(e,t,n){return t=(n?dr(e,t,n):t===B)?1:oi(t),Xt(ci(e),t)},n.replace=function(){var e=arguments,t=ci(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,i=(t=yn(t,e)).length;for(i||(i=1,e=B);++r<i;){var o=null==e?B:e[wr(t[r])];o===B&&(r=i,o=n),e=Xr(o)?o.call(e):o}return e},n.round=Ns,n.runInContext=e,n.sample=function(e){return(qa(e)?Be:$t)(e)},n.size=function(e){if(null==e)return 0;if(Wr(e))return ti(e)?z(e):e.length;var t=$o(e);return"[object Map]"==t||"[object Set]"==t?e.size:Nt(e).length},n.snakeCase=ys,n.some=function(e,t,n){var r=qa(e)?b:tn;return n&&dr(e,t,n)&&(t=B),r(e,rr(t,3))},n.sortedIndex=function(e,t){return nn(e,t)},n.sortedIndexBy=function(e,t,n){return rn(e,t,rr(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=nn(e,t);if(r<n&&Hr(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return nn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return rn(e,t,rr(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=nn(e,t,!0)-1;if(Hr(e[n],t))return n}return-1},n.startCase=gs,n.startsWith=function(e,t,n){return e=ci(e),n=null==n?0:ft(oi(n),0,e.length),t=sn(t),e.slice(n,n+t.length)==t},n.subtract=Us,n.sum=function(e){return e&&e.length?S(e,_i):0},n.sumBy=function(e,t){return e&&e.length?S(e,rr(t,2)):0},n.template=function(e,t,r){var i=n.templateSettings;r&&dr(e,t,r)&&(t=B),e=ci(e),t=Qa({},t,i,Xn);var o,a,s=di(r=Qa({},t.imports,i.imports,Xn)),u=A(r,s),c=0;r=t.interpolate||ke;var l="__p+='";r=Ri((t.escape||ke).source+"|"+r.source+"|"+(r===ne?ge:ke).source+"|"+(t.evaluate||ke).source+"|$","g");var f="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(r,(function(t,n,r,i,s,u){return r||(r=i),l+=e.slice(c,u).replace(Ce,N),n&&(o=!0,l+="'+__e("+n+")+'"),s&&(a=!0,l+="';"+s+";\n__p+='"),r&&(l+="'+((__t=("+r+"))==null?'':__t)+'"),c=u+t.length,t})),l+="';",(t=t.variable)||(l="with(obj){"+l+"}"),l=(a?l.replace(J,""):l).replace(X,"$1").replace(G,"$1;"),l="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(a?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",(t=_s((function(){return xi(s,f+"return "+l).apply(B,u)}))).source=l,Jr(t))throw t;return t},n.times=function(e,t){if(1>(e=oi(e))||9007199254740991<e)return[];var n=4294967295,r=go(e,4294967295);for(e-=4294967295,r=x(r,t=rr(t));++n<e;)t(n);return r},n.toFinite=ii,n.toInteger=oi,n.toLength=ai,n.toLower=function(e){return ci(e).toLowerCase()},n.toNumber=si,n.toSafeInteger=function(e){return e?ft(oi(e),-9007199254740991,9007199254740991):0===e?e:0},n.toString=ci,n.toUpper=function(e){return ci(e).toUpperCase()},n.trim=function(e,t,n){return(e=ci(e))&&(n||t===B)?e.replace(ce,""):e&&(t=sn(t))?gn(e=V(e),t=D(e,n=V(t)),n=I(e,n)+1).join(""):e},n.trimEnd=function(e,t,n){return(e=ci(e))&&(n||t===B)?e.replace(fe,""):e&&(t=sn(t))?gn(e=V(e),0,t=I(e,V(t))+1).join(""):e},n.trimStart=function(e,t,n){return(e=ci(e))&&(n||t===B)?e.replace(le,""):e&&(t=sn(t))?gn(e=V(e),t=D(e,V(t))).join(""):e},n.truncate=function(e,t){var n=30,r="...";if(Yr(t)){var i="separator"in t?t.separator:i;n="length"in t?oi(t.length):n,r="omission"in t?sn(t.omission):r}var o=(e=ci(e)).length;if(Re.test(e)){var a=V(e);o=a.length}if(n>=o)return e;if(1>(o=n-z(r)))return r;if(n=a?gn(a,0,o).join(""):e.slice(0,o),i===B)return n+r;if(a&&(o+=n.length-o),Wa(i)){if(e.slice(o).search(i)){var s=n;for(i.global||(i=Ri(i.source,ci(ve.exec(i))+"g")),i.lastIndex=0;a=i.exec(s);)var u=a.index;n=n.slice(0,u===B?o:u)}}else e.indexOf(sn(i),o)!=o&&(-1<(i=n.lastIndexOf(i))&&(n=n.slice(0,i)));return n+r},n.unescape=function(e){return(e=ci(e))&&Q.test(e)?e.replace($,it):e},n.uniqueId=function(e){var t=++zi;return ci(e)+t},n.upperCase=vs,n.upperFirst=bs,n.each=Nr,n.eachRight=Ur,n.first=Tr,ji(n,function(){var e={};return _t(n,(function(t,r){qi.call(n.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),n.VERSION="4.17.4",c("bind bindKey curry curryRight partial partialRight".split(" "),(function(e){n[e].placeholder=n})),c(["drop","take"],(function(e,t){P.prototype[e]=function(n){n=n===B?1:yo(oi(n),0);var r=this.__filtered__&&!t?new P(this):this.clone();return r.__filtered__?r.__takeCount__=go(n,r.__takeCount__):r.__views__.push({size:go(n,4294967295),type:e+(0>r.__dir__?"Right":"")}),r},P.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),c(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;P.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:rr(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),c(["head","last"],(function(e,t){var n="take"+(t?"Right":"");P.prototype[e]=function(){return this[n](1).value()[0]}})),c(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");P.prototype[e]=function(){return this.__filtered__?new P(this):this[n](1)}})),P.prototype.compact=function(){return this.filter(_i)},P.prototype.find=function(e){return this.filter(e).head()},P.prototype.findLast=function(e){return this.reverse().find(e)},P.prototype.invokeMap=Gt((function(e,t){return"function"==typeof e?new P(this):this.map((function(n){return xt(n,e,t)}))})),P.prototype.reject=function(e){return this.filter(Br(rr(e)))},P.prototype.slice=function(e,t){e=oi(e);var n=this;return n.__filtered__&&(0<e||0>t)?new P(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==B&&(n=0>(t=oi(t))?n.dropRight(-t):n.take(t-e)),n)},P.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},P.prototype.toArray=function(){return this.take(4294967295)},_t(P.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){function t(e){return e=a.apply(n,y([e],c)),o&&h?e[0]:e}var u=this.__wrapped__,c=o?[1]:arguments,l=u instanceof P,f=c[0],d=l||qa(u);d&&r&&"function"==typeof f&&1!=f.length&&(l=d=!1);var h=this.__chain__,p=!!this.__actions__.length;f=s&&!h,l=l&&!p;return!s&&d?(u=l?u:new P(this),(u=e.apply(u,c)).__actions__.push({func:Ir,args:[t],thisArg:B}),new i(u,h)):f&&l?e.apply(this,c):(u=this.thru(t),f?o?u.value()[0]:u.value():u)})})),c("pop push shift sort splice unshift".split(" "),(function(e){var t=Ni[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(qa(n)?n:[],e)}return this[r]((function(n){return t.apply(qa(n)?n:[],e)}))}})),_t(P.prototype,(function(e,t){var r=n[t];if(r){var i=r.name+"";(So[i]||(So[i]=[])).push({name:t,func:r})}})),So[Nn(B,2).name]=[{name:"wrapper",func:B}],P.prototype.clone=function(){var e=new P(this.__wrapped__);return e.__actions__=Mn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mn(this.__views__),e},P.prototype.reverse=function(){if(this.__filtered__){var e=new P(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},P.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,r=qa(t),i=0>n,o=r?t.length:0;e=o;for(var a=this.__views__,s=0,u=-1,c=a.length;++u<c;){var l=a[u],f=l.size;switch(l.type){case"drop":s+=f;break;case"dropRight":e-=f;break;case"take":e=go(e,s+f);break;case"takeRight":s=yo(s,e-f)}}if(a=(e={start:s,end:e}).start,e=(s=e.end)-a,a=i?s:a-1,u=(s=this.__iteratees__).length,c=0,l=go(e,this.__takeCount__),!r||!i&&o==e&&l==e)return fn(t,this.__actions__);r=[];e:for(;e--&&c<l;){for(i=-1,o=t[a+=n];++i<u;){f=(d=s[i]).type;var d=(0,d.iteratee)(o);if(2==f)o=d;else if(!d){if(1==f)continue e;break e}}r[c++]=o}return r},n.prototype.at=ba,n.prototype.chain=function(){return Dr(this)},n.prototype.commit=function(){return new i(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===B&&(this.__values__=ri(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?B:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var i=Mr(n);i.__index__=0,i.__values__=B,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof P?(this.__actions__.length&&(e=new P(this)),(e=e.reverse()).__actions__.push({func:Ir,args:[Or],thisArg:B}),new i(e,this.__chain__)):this.thru(Or)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return fn(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,no&&(n.prototype[no]=function(){return this}),n}();He._=ot,void 0===(i=function(){return ot}.call(null,n,t,r))||(r.exports=i)}).call(this)}).call(this,n("mwBundle.runasbatchjob|6702f66ea6fad7d4e541523edb4368dbc0eb0790"),n("mwBundle.runasbatchjob|8a650a8e8945cf44f0347c98798b2babf7b10d11")(e))},"mf0/Changes":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/Model"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isChanged=void 0,e.setModified=function(e,t){if(t){var n=void 0;return i.default.isString(t)?(n=e._changedProperties.has(t),e._changedProperties.add(t)):(n=e.extensionChanges.has(t.uuid))||e.extensionChanges.set(t.uuid,null),n}},e.isExtensionChanged=function(e,t){var n=e.model.getExtension(e.metaclass,t);return n&&n.isValid&&e.extensionChanges.has(n.uuid)};var r,i=(r=t)&&r.__esModule?r:{default:r};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=t,this.model=n,this.metaclass=r,this._changedProperties=new Set,this.isCreated=!1,this.isDestroyed=!1,this.extensionChanges=new Map}return o(e,[{key:"isEmpty",value:function(){return!this.isCreated&&!this.isDestroyed&&0===this._changedProperties.size&&0===this.extensionChanges.size}},{key:"isChanged",value:function(e){return!!e&&(!!this.metaclass.isA(e.owningType)&&s(this,e.name))}},{key:"revertUnchanged",value:function(e){return!this.isEmpty()}},{key:"getChangedProperties",value:function(){var e=this;return i.default.filter(this.metaclass.getAllAttributes(),(function(t){return s(e,t.name)}))}},{key:"getChangedExtensions",value:function(){var e=[],t=(0,n.getMetaRegistryModel)();return this.extensionChanges.forEach((function(n,r){var i=t.findElement(r);i&&e.push(i)})),e}},{key:"clearModified",value:function(e){this._changedProperties.delete(e)}}]),e}();function s(e,t){return e._changedProperties.has(t)}e.default=a,e.isChanged=s}),e,t),e.exports=i},"mf0/DeepTransaction":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/TransactionPrivate"]),n(n.dj.r.absMids["mf0/ShallowTransaction"]),n(n.dj.r.absMids["mf0/Model"]),n(n.dj.r.absMids["mf0/ModelPrivate"]),n(n.dj.r.absMids["mf0/Changes"]),n(n.dj.r.absMids["mf0/ModelElement"]),n(n.dj.r.absMids["mf0/util/LogVerbosity"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=p(t),f=p(n),d=p(i),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var y=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i._revertUnchanged=e.isDetectAndRevertUnchangedProperties(),i.isDeep=!0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),m(t,[{key:"elementCreated",value:function(e){var t=g(this,e);if(t){if(this._delta.hasOwnProperty(t)){var n=this.span.createChild("error");n.addContext(h.error,"conflictingUuid",t),n.addContext(h.error,"existingElement",this._delta[t]),n.addContext(h.error,"newElement",e),n.log(h.error,"UUID Conflict"),f.default.throwErr("UUIDConflict")}var r=(0,u.createStorage)(e);r.isCreated=!0,this._delta[t]=r}}},{key:"elementDestroying",value:function(e){var t=g(this,e);t&&(this._delta[t]||(this._delta[t]=(0,u.createStorage)(e)),this._delta[t].isDestroyed=!0,this._deletedElements[t]=e)}},{key:"elementModifying",value:function(e,t){if(t){var n=g(this,e);if(n){this._delta[n]||(this._delta[n]=(0,u.createStorage)(e));var r=this._delta[n];if(!r.isCreated)(0,s.setModified)(r,t)||(0,u.copyValue)(e,r,t)}}}},{key:"rollBack",value:function(){var e=this;this._changesProhibited=!0;try{if(!this._haveChanges)return mf.zero.TransactionResult.Reverted;var t=void 0;l.default.isEmpty(this._listeners)||(t=(0,i.createReport)(this)),this._rollbackInProgress=!0,l.default.forEach(this._deletedElements,(function(t){e._delta[t.uuid].isCreated||(0,o.resurrectElement)(e.model,t)})),l.default.forEach(this._delta,(function(t,n){var r=e.model.findElement(n);t.isCreated?t.isDestroyed||(r||f.default.throwErr("FailedToRollback"),(0,a.remove)(e.model,r),r._invalidate()):(r||f.default.throwErr("FailedToRollback"),(0,u.copyStateFromStorage)(r,t))})),l.default.forEach(this._listeners,(function(n){-1===e._removedListeners.indexOf(n)&&n.isObserver&&n.transactionCanceled(!0,t)}))}finally{(0,r.finalize)(this),this.model.transactionEffectsComplete()}return mf.zero.TransactionResult.Reverted}}]),t}(d.default);function g(e,t){if(!e._rollbackInProgress)return e._changesProhibited&&f.default.throwErr("ChangesProhibited"),!e._haveChanges&&e._callback&&e._callback(),e._haveChanges=!0,t.uuid}e.default=y}),e,t),e.exports=i},"mf0/Element":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/Instantiable"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),o=s(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.setUuid(e),n.isValid=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"setUuid",value:function(e){this.uuid=e||i.default.generateRandomUuid()}},{key:"_invalidate",value:function(){this.isValid=!1}},{key:"getModel",value:function(){o.default.throwErr("Implement")}}],[{key:"setInvalidateCallback",value:function(e){t.callback||(t.callback=e)}}]),t}(a.default);e.default=c}),e,t),e.exports=i},"mf0/Instantiable":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/Mixable"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"hasPropertyValue",value:function(e){var t=this["_"+e.name];return e.isSingleValued()?t:t&&!t.isEmpty()}},{key:"getPropertyValue",value:function(e){return e&&e._isInstOfExtension()&&this.getMetaClass().isA(e.owner.owningClass)?this.getExtension(e.name):this[e.name]}},{key:"setPropertyValue",value:function(e,t){e&&e._isInstOfExtension()?this.getMetaClass().isA(e.owner.owningClass)&&this.setExtension(e.name,t):this[e.name]=t}}]),t}(r.default);e.default=s}),e,t),e.exports=i},"mf0/KnownOriginTransactionFactory":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/ShallowTransaction"]),n(n.dj.r.absMids["mf0/DeepTransaction"]),n(n.dj.r.absMids["mf0/NestedTransaction"]),n(n.dj.r.absMids["mf0/ModelPrivate"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(t),a=u(n),s=u(r);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._model=t,this._origin=n}return c(e,[{key:"beginTransaction",value:function(e){return(0,i.beginTransaction)(this._model,e,this._origin,s.default,a.default,o.default)}},{key:"beginRevertibleTransaction",value:function(){return this.beginTransaction(!0)}}]),e}();e.default=l}),e,t),e.exports=i},"mf0/Listener":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isShallow=!0,this.isModifier=!1,this.isValidator=!1,this.isObserver=!0}return t(e,[{key:"modifyOnCommit",value:function(e){}},{key:"validateOnCommit",value:function(e){return!0}},{key:"transactionCommitted",value:function(e){}},{key:"transactionCanceled",value:function(e,t){}}]),e}();e.default=n}),e,t),e.exports=i},"mf0/Log":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/DisplaySummaryMap"]),n(n.dj.r.absMids["mf0/util/LogVerbosity"]),n(n.dj.r.absMids["mf0/util/LogSpec"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.internalSpan=void 0;var i=s(t),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},f=[],d=new Map,h=!1;function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search;if("URLSearchParams"in window){var t=new URLSearchParams(e),n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=l(o.value,2),c=u[0],f=u[1];if(c.startsWith("log_")){var d=c.substring(4);""===d&&(d=void 0),m.setSpec(new a.default(f),d)}}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}var m=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mf0::js";u(this,e),this.channel=r,this.domain=t,this.parent=n,this.displaySummaryMap=new i.default}return c(e,null,[{key:"addBackend",value:function(e){if(f.push(e),!h){h=!0;try{p()}catch(e){console.warn("Could not load log specs from URI",e)}}}},{key:"setSpec",value:function(e,t){d.set(t,e);var n=y.createChild();n.addContext(o.info,"spec",e),n.addContext(o.info,"domain",t),n.log(o.info,"Logging specification set")}}]),c(e,[{key:"isEnabled",value:function(e){return 0!=(e&this._verbosity)}},{key:"addContext",value:function(e,t,n){this.isEnabled(e)&&this.displaySummaryMap.add(t,n)}},{key:"addDynamicContext",value:function(e,t,n){this.isEnabled(e)&&this.displaySummaryMap.addDynamic(t,n)}},{key:"log",value:function(e,t){if(this.isEnabled(e)){for(var n=this.displaySummaryMap.createDocument(t),r=this.parent;r;)r.displaySummaryMap.wrapDocument(n),r=r.parent;var i=!0,o=!1,a=void 0;try{for(var s,u=f[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.log(e,this.domain,this.channel,n.contents,t)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}},{key:"createChild",value:function(t){return new e(this.domain,this,t?this.channel+"::"+t:this.channel)}},{key:"_verbosity",get:function(){var e=d.get(this.domain);return void 0===e?o.none:e.getVerbosity(this.channel)}}]),e}(),y=e.internalSpan=new m("log/internal");e.default=m}),e,t),e.exports=i},"mf0/Mixable":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mixIn=function(e,t){i(e,t.global),t.__init&&"function"==typeof t.__init&&(void 0===e.prototype._mixInits&&(e.prototype._mixInits=[]),e.prototype._mixInits.push(t.__init));return i(e.prototype,r.default.omit(t,["global","__init"]))};var n,r=(n=t)&&n.__esModule?n:{default:n};var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this.__proto__._mixInits;if(void 0!==t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.call(this)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}}),e,t),e.exports=i},"mf0/Model":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/Element"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"]),n(n.dj.r.absMids["mf0/ModelElement"]),n(n.dj.r.absMids["mf0/meta/RegistryTypes"]),n(n.dj.r.absMids["mf0/TransactionPrivate"]),n(n.dj.r.absMids["mf0/ShallowTransaction"]),n(n.dj.r.absMids["mf0/DeepTransaction"]),n(n.dj.r.absMids["mf0/NestedTransaction"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/Listener"]),n(n.dj.r.absMids["mf0/ModelPrivate"]),n(n.dj.r.absMids["mf0/meta/DataModelUsageProvider"]),n(n.dj.r.absMids["mf0/meta"]),n(n.dj.r.absMids["mf0/util/UmlSyntax"]),n(n.dj.r.absMids["mf0/Log"]),n(n.dj.r.absMids["mf0/util/ConsoleLoggerBackend"]),n(n.dj.r.absMids["mf0/util/LogVerbosity"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l,f,d,h,p,m,y,g,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPackage=W,e.elementCreated=J,e.startParse=function(e){return new B(e)},e.resurrectElement=function(e,t){t.isValid=!0,e.elements.set(t.uuid,t),(0,i.isTopLevel)(t)&&e.topLevelElements.set(t.uuid,t)},e.transactionEnded=function(e){e.currentTransaction&&e.currentTransaction.cancel();e.updateLastSeenTransactionOrdinal(e.currentTransaction.origin.transactionFactory,e.currentTransaction.origin.transactionOrdinal),e.currentTransaction=null},e.getExtensionDefault=function(e,t,n){var r=e.getExtension(t,n);if(r)for(var i=e.defaultDynamicValues.get(n),o=0,a=i.length;o<a;++o)if(i[o].extension===r)return i[o].defaultValue;w.default.throwErr("NoSuchExtension",n,t.qualifiedName)},e.getMetaRegistryModel=ee,e._startMetaRegistryModification=te;var _=I(t),w=I(n),j=I(r),E=I(a),M=I(u),k=I(c),C=I(l),P=I(f),T=I(d),S=I(p),x=I(m),O=I(y),A=I(g),R=I(v),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(b);function I(e){return e&&e.__esModule?e:{default:e}}var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),z=function(){function e(t){F(this,e),this.model=t,this.thawCount=0,++this.model.freezeCount}return q(e,[{key:"destroy",value:function(){this.model&&(0!==this.thawCount&&w.default.throwErr("ThawCountZero"),--this.model.freezeCount,this.model=null)}},{key:"isActive",value:function(){return 0===this.thawCount}},{key:"thaw",value:function(){return new V(this)}}]),e}();var V=function(){function e(t){F(this,e),this.freezer=t,this.active=!0,function(e){1==++e.thawCount&&--e.model.freezeCount}(t)}return q(e,[{key:"destroy",value:function(){var e;this.active&&(0==--(e=this.freezer).thawCount&&++e.model.freezeCount,this.freezer=null,this.active=!1)}},{key:"isActive",value:function(){return this.active}}]),e}(),B=function(){function e(t){F(this,e),this.model=t,++t.parsingInProgress}return q(e,[{key:"destroy",value:function(){--this.model.parsingInProgress}}]),e}(),H=function(e){function t(){F(this,t);var e=U(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.rootPackage2Count={},e.uri2Package={},e}return L(t,e),q(t,[{key:"getUsedPackageUris",value:function(){return _.default.map(this.getUsedPackages(),"uri")}},{key:"getUsedPackages",value:function(){for(var e=[],t=Object.keys(this.uri2Package),n=0,r=t.length;n<r;++n){var i=t[n];this.rootPackage2Count[i]>0&&e.push(this.uri2Package[i])}return e}},{key:"elementCreated",value:function(e){var t=W(e);if(t){var n=t.uri;this.rootPackage2Count[n]?++this.rootPackage2Count[n]:(this.rootPackage2Count[n]=1,this.uri2Package[n]=t)}}},{key:"elementDestroying",value:function(e){var t=W(e).uri;t&&--this.rootPackage2Count[t]}},{key:"clear",value:function(){this.rootPackage2Count={},this.uri2Package={}}}]),t}(S.default);function W(e){return e.getMetaClass().getRootPackage()}var K=function(e){function t(e){F(this,t);var n=U(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return R.default.register(),n.topLevelElements=new Map,n.elements=new Map,n.currentTransaction=null,n.listeners=[],n.transactionDepth=h.TransactionDepth.Shallow,n.freezeCount=0,n.modelID=_.default.generateRandomUuid(),n.defaultDynamicValues=new Map,n.extensionListeners=new Set,n.parsingInProgress=0,n.dataModelUsageProvider=new H,n._revertUnchanged=!1,n.workQueue=[],n.span=new A.default(e),n.span.addContext(D.info,"modelID",n.uuid),n.lastSeenTransactionOrdinals=new Map,Object.seal(n),n.span.log(D.debug,"Model created"),n}return L(t,e),q(t,[{key:"getModel",value:function(){return this}},{key:"getMetaClass",value:function(){return mf.zero.Model.metaClass}},{key:"freeze",value:function(){return new z(this)}},{key:"isFrozen",value:function(){return this.freezeCount>0}},{key:"findElement",value:function(e){return this.elements.get(e)}},{key:"isParsingInProgress",value:function(){return this.parsingInProgress>0}},{key:"isDetectAndRevertUnchangedProperties",value:function(){return this._revertUnchanged}},{key:"setDetectAndRevertUnchangedProperties",value:function(e){this._revertUnchanged=e}},{key:"destroy",value:function(){if(this.isValid){this.currentTransaction&&this.currentTransaction.abandon(),new Set(this.extensionListeners).forEach((function(e){e.listenerRemoved()})),this.extensionListeners.clear(),this.topLevelElements.forEach((function(e){e.destroy()})),this.topLevelElements.clear();var e=te(),t=ee();if(t!==this&&this.defaultDynamicValues.size>0){var n=t.beginRevertibleTransaction();this.listExtensions((function(e){e.isValid&&e.owner&&e.owner.destroy()})),n.commit()}e.destroy(),this._invalidate()}}},{key:"getTopLevelElements",value:function(){return new Map(this.topLevelElements)}},{key:"getDefaultTransactionFactory",value:function(){var e=this,t=_.default.generateRandomUuid(),n=0,r=function(){return new mf.zero.meta.TransactionOrigin({model:e.modelID,language:mf.zero.meta.Language.JavaScript,transactionId:_.default.generateRandomUuid(),transactionFactory:t,transactionOrdinal:n++})};return{beginTransaction:function(t){return(0,h.beginTransaction)(e,t,r(),C.default,k.default,M.default)},beginRevertibleTransaction:function(){return(0,h.beginTransaction)(e,!0,r(),C.default,k.default,M.default)}}}},{key:"beginTransaction",value:function(e){return this.getDefaultTransactionFactory().beginTransaction(e)}},{key:"beginRevertibleTransaction",value:function(){return this.getDefaultTransactionFactory().beginRevertibleTransaction()}},{key:"isTransactionInProgress",value:function(){return!_.default.isEmpty(this.currentTransaction)}},{key:"addShallowListener",value:function(e){return e instanceof T.default||(e=N(new T.default,e)),this.listeners.push(e),e}},{key:"addDeepListener",value:function(e){return e.isShallow=!1,this.transactionDepth=h.TransactionDepth.Deep,this.addShallowListener(e)}},{key:"addPriorityShallowListener",value:function(e){return e instanceof T.default||(e=N(new T.default,e)),this.listeners.unshift(e),e}},{key:"addPriorityDeepListener",value:function(e){return e.isShallow=!1,this.transactionDepth=h.TransactionDepth.Deep,this.addPriorityShallowListener(e)}},{key:"removeListener",value:function(e){for(var t=!1,n=0,r=this.listeners.length;n<r;++n){if(this.listeners[n]===e){var i=this.listeners[n];i.isShallow||t||(this.transactionDepth=h.TransactionDepth.DontKnow),this.currentTransaction&&(0,s.removeListener)(this.currentTransaction,i),this.listeners.splice(n,1);break}this.listeners[n].isShallow||(t=!0)}}},{key:"addToWorkQueue",value:function(e){this.workQueue.push(e),this.processWorkQueue()}},{key:"transactionEffectsComplete",value:function(){this.processWorkQueue()}},{key:"processWorkQueue",value:function(){!this.isTransactionInProgress()&&this.workQueue.length>0&&this.workQueue.shift()(this)}},{key:"getLastSeenTransactionOrdinals",value:function(){return this.lastSeenTransactionOrdinals}},{key:"updateLastSeenTransactionOrdinal",value:function(e,t){var n=this.span.createChild("updateLastSeenTransactionOrdinal");n.addContext(D.info,"transactionFactoryId",e),n.addContext(D.info,"transactionOrdinal",t),n.addContext(D.debug,"lastSeenTransactionOrdinals",this.lastSeenTransactionOrdinals),!this.lastSeenTransactionOrdinals.has(e)||this.lastSeenTransactionOrdinals.get(e)<t?(this.lastSeenTransactionOrdinals.set(e,t),n.log(D.debug,"Updating last seen transaction ordinal")):n.log(D.warning,"Ignoring attempted update of last seen transaction ordinal")}},{key:"forEach",value:function(e){X(this.elements,e)}},{key:"forTopLevel",value:function(e){X(this.topLevelElements,e)}},{key:"extendMetaclass",value:function(e,t,n){var r=ee();e&&e.getModel()===r||w.default.throwErr("CannotCreateWithoutModel");var i=E.default.getType(t.typeName);i||w.default.throwErr("NoSuchType",t.typeName);var o=t.name;_.default.isEmpty(o)&&w.default.throwErr("ExtensionMustHaveName");var s=this.defaultDynamicValues.get(o);_.default.forEach(s,(function(t){var n=t.extension.owner.owningClass;(n.isA(e)||e.isA(n))&&w.default.throwErr("ExtensionNameMustBeUnique")}));var u=1==t.upper,c=i._isInstOfClass();u&&_.default.isUndefined(n)&&!c&&w.default.throwErr("ExtensionMustHaveDefaultValue");var l=te(),f=r.beginTransaction(),d=e.extensions.at(this.modelID);d||((d=new mf.zero.meta.DynamicExtensions(r)).modelID=this.modelID,d.owningClass=e);var h=new mf.zero.meta.Extension(r);h.name=o,h.type=i,h.owner=d,h.lower=t.lower,h.upper=t.upper,h.isUnique=t.isUnique,h.isOrdered=t.isOrdered,u||(0,a.instantiateDynamicCollection)(null,h)||w.default.throwErr("CannotInstantiateCollection",e.qualifiedName),f.commit()!==mf.zero.TransactionResult.Committed&&w.default.throwErr("NoOpenTransaction");var p=this.defaultDynamicValues.get(o),m={extension:h,defaultValue:c&&u?void 0:n};p?p.push(m):this.defaultDynamicValues.set(o,[m]),G(this,h),l.destroy()}},{key:"unextendMetaclass",value:function(e,t){var n=this,r=ee();e&&e.getModel()===r||w.default.throwErr("CannotCreateWithoutModel");var i=e.extensions.at(this.modelID);i&&i.extensions.at(t)||w.default.throwErr("NoSuchExtension",t,e.qualifiedName);var o=te(),a=r.beginTransaction(),s=i.extensions.at(t),u=this.defaultDynamicValues.get(t),c=void 0,l=u.length;for(c=0;c<l&&u[c].extension!==s;++c);c===u.length&&w.default.throwErr("NoSuchExtension",t,e.qualifiedName);var f=s.owner;new Set(this.extensionListeners).forEach((function(e){e.modelAboutToUnextend(n,s)})),s.destroy(),f.extensions.isEmpty()&&f.destroy(),a.commit()!==mf.zero.TransactionResult.Committed&&w.default.throwErr("NoOpenTransaction"),u.splice(c,1),o.destroy()}},{key:"getDeclaredExtension",value:function(e,t){var n=e.extensions.at(this.modelID);if(n)return n.extensions.at(t)}},{key:"getExtension",value:function(e,t){for(var n=void 0,r=e;r&&!(0,o.isModelElement)(r);r=r.superclass)if(n=this.getDeclaredExtension(r,t))return n;if((0,o.isModelElement)(e))return this.getDeclaredExtension(e,t)}},{key:"addExtensionListener",value:function(e){this.extensionListeners.add(e)}},{key:"removeExtensionListener",value:function(e){this.extensionListeners.delete(e)}},{key:"listExtensions",value:function(e){X(this.defaultDynamicValues,(function(t){for(var n=0,r=t.length;n<r;++n)if(!1===e(t[n].extension))return}))}},{key:"listExtendedClasses",value:function(e){var t=new Set;this.listExtensions((function(n){var r=n.owner.owningClass;return!!t.has(r)||(t.add(r),e(r))}))}},{key:"moveAllContentsTo",value:function(e){(!e||e===this||this.listeners.length>0||this.currentTransaction)&&w.default.throwErr("CannotChangeModel");var t=new Map;if(X(this.defaultDynamicValues,(function(n){for(var r=0,i=n.length;r<i;++r){var o=n[r],a=o.extension,s=$(e,a,o.defaultValue);s?s!==a&&t.set(a,s):w.default.throwErr("ExtensionNameMustBeUnique")}})),this.defaultDynamicValues.size>0){var n=te(),r=ee(),o=r.beginRevertibleTransaction();this.listExtensions((function(n){var i=n.owner.owningClass;if(!t.get(n)){var o=i.extensions.at(e.modelID);o||((o=new mf.zero.meta.DynamicExtensions(r)).modelID=e.modelID,o.owningClass=i);var a=n.owner;n.owner=o,a.extensions.isEmpty()&&a.destroy()}}));var a=o.commit();a!==mf.zero.TransactionResult.Committed&&a!==mf.zero.TransactionResult.Ignored&&w.default.throwErr("CannotChangeModel"),X(this.defaultDynamicValues,(function(n,r){for(var i=0,o=n.length;i<o;++i){var a=n[i],s=a.extension;if(!t.get(s)){var u=e.defaultDynamicValues.get(r);u?u.push(a):e.defaultDynamicValues.set(r,[a]),G(e,s)}}})),n.destroy()}var s=e.beginTransaction();if(X(this.elements,(function(n){n.containerOrModel=e,t.size>0&&(0,i.updateDynamicValuesOnMoveToAnotherModel)(n,t),J(e,n,(0,i.isTopLevel)(n))})),s.commit(),this.elements.clear(),this.topLevelElements.clear(),this.dataModelUsageProvider&&this.dataModelUsageProvider.clear(),this.defaultDynamicValues.size>0){var u=te(),c=ee().beginRevertibleTransaction();this.listExtensions((function(e){t.get(e)&&e.owner&&e.owner.destroy()})),c.commit(),u.destroy()}this.defaultDynamicValues.clear()}},{key:"extensionNames",value:function(e){var t=[];return this.listExtensions((function(n){n.owner.owningClass===e&&t.push(n.name)})),t}},{key:"getUsedPackageUris",value:function(){return this.dataModelUsageProvider?this.dataModelUsageProvider.getUsedPackageUris():[]}},{key:"getUsedPackages",value:function(){return this.dataModelUsageProvider?this.dataModelUsageProvider.getUsedPackages():[]}}]),t}(j.default);function J(e,t){if((0,h.validateTransaction)(e),e.elements.has(t.uuid)){t.setUuid();var n=e.span.createChild("error");n.addContext(D.error,"conflictingUuid",t.uuid),n.addContext(D.error,"existingElement",e.elements.get(t.uuid)),n.addContext(D.error,"newElement",t),n.log(D.error,"UUID Conflict"),w.default.throwErr("UUIDConflict")}e.currentTransaction&&e.currentTransaction.elementCreated(t),e.dataModelUsageProvider&&e.dataModelUsageProvider.elementCreated(t),e.elements.set(t.uuid,t),e.topLevelElements.set(t.uuid,t)}function X(e,t){for(var n=Array.from(e.keys()),r=0,i=n.length;r<i;++r)if(!1===t(e.get(n[r]),n[r],e))return}function G(e,t){new Set(e.extensionListeners).forEach((function(n){n.modelExtended(e,t)}))}function $(e,t,n){for(var r=t.owner.owningClass,i=e.defaultDynamicValues.get(t.name)||[],o=0,a=i.length;o<a;++o){var s=i[o],u=s.extension.owner.owningClass;if(u.isA(r)&&r!==u)return;if(r.isA(u)){var c=s.extension;if(c.type!==t.type)return;if(c.isSingleValued()){if(!t.isSingleValued())return;if(c.lower!=t.lower)return;if(!c._isInstOfClass()&&n!==s.defaultValue)return}else{if(t.isSingleValued())return;if(c.isUnique!==t.isUnique)return;if(c.isOrdered!==t.isOrdered)return}return c}}return t}var Y=function(e){function t(){return F(this,t),U(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return L(t,e),q(t,[{key:"getUsedPackageUris",value:function(){return[(0,O.default)(x.default.family,x.default.modelVersion)]}}]),t}(S.default),Q=new K;Q.dataModelUsageProvider=new Y;var Z=Q.freeze();function ee(){return Q}function te(){return Z.thaw()}_.default.setObject(P.default.Model,K),Object.defineProperty(K,"metaClass",{get:function(){return E.default.getType(P.default.Model)}}),e.default=K}),e,t),e.exports=i},"mf0/ModelElement":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/Element"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"]),n(n.dj.r.absMids["mf0/meta/RegistryTypes"]),n(n.dj.r.absMids["mf0/Storage"]),n(n.dj.r.absMids["mf0/Model"]),n(n.dj.r.absMids["mf0/ModelPrivate"]),n(n.dj.r.absMids["performance/utils/function"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelElement=function(e){return e===mf.zero.ModelElement.metaClass},e.copyValue=function(e,t,n){if(l.default.isString(n)){var r="_"+n,u=e.getPropertyByIndex(n);if(u.isSingleValuedAssociation()&&u.isContainer()){var c=e.containerFeature,f=c?(0,i.basicContainer)(e):null;(0,a.setOldContainer)(t,f,c)}else u.isSingleValued()&&"StringToStringMap"!==u.type.name?t.values[n]=e[n]:e[r]&&!e[r].isEmpty()&&(t.values[n]=e[n]._clone())}else{var d=n.uuid,h=t.extensionChanges.get(d);if(t.extensionChanges.has(d)&&h)return;var p=e.dynamicValues[n.name];if(1==n.upper){var m=p&&p.uuid===d?p.value:(0,s.getExtensionDefault)(e.getModel(),e.getMetaClass(),n.name);h?t.extensionChanges.set(d,m):t.extensionChanges.get(d)||t.extensionChanges.set(d,m)}else{var y=p.value,g=(0,o.instantiateDynamicCollection)(null,n);g._copyContents(y),h?t.extensionChanges.set(d,g):t.extensionChanges.get(d)||t.extensionChanges.set(d,g)}}},e.copyStateFromStorage=function(e,t){l.default.forEach(e.getMetaClass().getAllAttributes(),(function(n){var r="_"+n.name;t.isChanged(n)&&(n.isSingleValued()?n.isContainer()?t._containerFeature?(0,i.basicSetContainer)(e,t._container,t._containerFeature):(0,i.basicSetContainer)(e):e[r]=t.values[n.name]:t.values[n.name]?e[r]._copyContents(t.values[n.name]):e[r]&&e[r]._basicClear())}));var n=(0,s.getMetaRegistryModel)();t.extensionChanges.forEach((function(t,r){var i=n.findElement(r);if(i)if(1==i.upper)e.setExtension(i.name,t);else{var o=e.dynamicValues[i.name];o||f.default.throwErr("ExtensionMustHaveDefaultValue"),o.value._copyContents(t._collection)}}))},e.createStorage=function(e){return new p.default(e.uuid,e.getModel(),e.getMetaClass())};var l=m(t),f=m(n),d=m(r),h=m(o),p=m(a);function m(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.containerOrModel=e,r.containerFeature=null,r.dynamicValues=null,r._isClass=null,r._isExtension=null,r._isDataType=null,r._isStructuredTyped=null,r._isEnum=null,r._isPrimitiveType=null,r._isPackage=null,(0,s.elementCreated)(r.getModel(),r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"_isInstOfClass",value:function(){return null===this._isClass&&(this._isClass=this.isInstOf(mf.zero.meta.Class.metaClass)),this._isClass}},{key:"_isInstOfExtension",value:function(){return null===this._isExtension&&(this._isExtension=this.isInstOf(mf.zero.meta.Extension.metaClass)),this._isExtension}},{key:"_isInstOfDataType",value:function(){return null===this._isDataType&&(this._isDataType=this.isInstOf(mf.zero.meta.DataType.metaClass)),this._isDataType}},{key:"_isInstOfStructuredType",value:function(){return null===this._isStructuredType&&(this._isStructuredType=this.isInstOf(mf.zero.meta.StructuredType.metaClass)),this._isStructuredType}},{key:"_isInstOfEnum",value:function(){return null===this._isEnum&&(this._isEnum=this.isInstOf(mf.zero.meta.Enum.metaClass)),this._isEnum}},{key:"_isInstOfPrimitiveType",value:function(){return null===this._isPrimitiveType&&(this._isPrimitiveType=this.isInstOf(mf.zero.meta.PrimitiveType.metaClass)),this._isPrimitiveType}},{key:"_isInstOfPackage",value:function(){return null===this._isPackage&&(this._isPackage=this.isInstOf(mf.zero.meta.Package.metaClass)),this._isPackage}},{key:"jasmineToString",value:function(){return this.getMetaClass().getQualifiedName()}},{key:"destroy",value:function(){(0,i.destroyRecursively)(this,!0)}},{key:"getMetaClass",value:function(){return mf.zero.ModelElement.metaClass}},{key:"aboutToDestroy",value:function(){}},{key:"_invalidate",value:function(){var e=this;this.callback&&this.dynamicValues&&l.default.forOwn(this.dynamicValues,(function(t,n){delete e.dynamicValues[n]})),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_invalidate",this).call(this)}},{key:"identifier",value:function(){return""}},{key:"getPropertyByIndex",value:function(e){return this.getMetaClass().getPropertyByName(e)}},{key:"getModel",value:function(){return this.containerOrModel.getModel()}},{key:"isInstOf",value:function(e){var t=l.default.isString(e)?h.default.getType(e):e;return this.getMetaClass().isA(t)}},{key:"hasNonDefaultExtension",value:function(e){if(!this.dynamicValues)return!1;var t=this.getModel().getExtension(this.getMetaClass(),e);return!!t&&v(this,e,this.dynamicValues[e],t)}},{key:"getExtension",value:function(e){var t=this.getModel().getExtension(this.getMetaClass(),e);if(this.dynamicValues){var n=this.dynamicValues[e];if(n){if(t&&n.uuid===t.uuid)return n.value;(t.upper>1||"*"===t.upper)&&this.dynamicValues[e].value&&d.default.callback&&d.default.callback(null,this.dynamicValues[e].value),delete this.dynamicValues[e]}}if(t||f.default.throwErr("NoSuchExtension",e,this.getMetaClass().qualifiedName),"1"==t.upper)return(0,s.getExtensionDefault)(this.getModel(),this.getMetaClass(),e);var r=(0,o.instantiateDynamicCollection)(this,t);if(r)return this.dynamicValues||(this.dynamicValues={}),this.dynamicValues[e]||(this.dynamicValues[e]={uuid:t.uuid,value:r}),this.dynamicValues[e].value;f.default.throwErr("NoSuchExtension",e,this.getMetaClass().qualifiedName)}},{key:"setExtension",value:function(e,t){var n=this.getModel().getExtension(this.getMetaClass(),e);n&&1==n.upper||f.default.throwErr("NoSuchExtension",e,this.getMetaClass().qualifiedName),this.dynamicValues||(this.dynamicValues={});var r=this.dynamicValues[e];r&&r.uuid!==n.uuid&&(delete this.dynamicValues[e],r=null),t===(0,s.getExtensionDefault)(this.getModel(),this.getMetaClass(),e)?r&&((0,u.elementModifying)(this.getModel(),this,n),delete this.dynamicValues[e]):r?r.value!==t&&((0,u.elementModifying)(this.getModel(),this,n),r.value=t):((0,u.elementModifying)(this.getModel(),this,n),this.dynamicValues[e]||(this.dynamicValues[e]={uuid:n.uuid,value:t}))}},{key:"listExtensionNamesWithNonDefaultValues",value:function(e){if(this.dynamicValues)for(var t=Object.keys(this.dynamicValues),n=0,r=t.length;n<r;++n){var i=t[n];if(v(this,i,this.dynamicValues[i])&&!e(i))return}}}]),t}(d.default);function v(e,t,n,r){if(!n)return!1;var i=r;return!(!i&&!(i=e.getModel().getExtension(e.getMetaClass(),t)))&&(e.dynamicValues[t].uuid===i.uuid&&(!(i.upper>1||"*"===i.upper)||0!==e.dynamicValues[t].value.size()))}e.default=g}),e,t),e.exports=i},"mf0/ModelElementPrivate":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/ModelPrivate"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inverseAdd=function(e,t,n){if(n.isAssociation()){var r=n.get_PropName();d(e,n.name),n.isSingleValuedAssociation()?n.isContainer()?(f(e)||u(e),c(e,t,n.opposite,n.name)):(n.opposite&&e[r]&&s(e[r],e,n.opposite),e[r]=t):e[n.name]._basicAdd(t)}},e.inverseRemove=s,e.makeUncontained=u,e.basicSetContainer=c,e.basicContainer=l,e.isTopLevel=f,e.notifyModifying=d,e.destroyRecursively=h,e.checkCircularContainment=function(e,t){for(var n=t;n;n=l(n))n===e&&i.default.throwErr("CircularContainment")},e.setContainedByThis=function(e,t,n){u(t),c(t,e,n,null)},e.updateDynamicValuesOnMoveToAnotherModel=function(e,t){if(e.dynamicValues)for(var n=Array.from(t.keys()),r=0,i=n.length;r<i;++r){var o=n[r],a=e.dynamicValues[o.name];a&&a.uuid===o.uuid&&(a.uuid=t.get(o).uuid)}};var i=a(t),o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){if(n&&n.isAssociation()){var r=n.get_PropName();n.isSingleValuedAssociation()?(d(e,n.name),n.isContainer()?c(e,null,n,n.name):e[r]=null):e[r]._basicRemove(t)}}function u(e){var t=l(e);if(t){var n=e.containerFeature;s(t,e,n);var r=n.opposite;c(e,null,null,r&&r.name)}}function c(e,t,n,o){d(e,o);var a=e.getModel();t&&n?(t.getModel()!==a&&i.default.throwErr("CannotChangeModel"),f(e)&&(0,r.elementNoLongerTopLevel)(a,e),e.containerOrModel=t,e.containerFeature=n):(e.isValid&&!f(e)&&(0,r.elementMadeTopLevel)(a,e),e.containerOrModel=a,e.containerFeature=null)}function l(e){return f(e)?null:e.containerOrModel}function f(e){return!e.containerFeature}function d(e,t){e.getModel&&(0,r.elementModifying)(e.getModel(),e,t)}function h(e,t){e&&e.isValid&&(e.aboutToDestroy(),(0,r.elementDestroying)(e.getModel(),e),function(e){o.default.forEach(e.getMetaClass().getAllAttributes(),(function(t){t.isPrimitiveProperty()||!t.opposite||t.isContainment()||t.isContainer()||(t.isSingleValuedAssociation()?e[t.name]=null:(e[t.name].forEach((function(n){return s(n,e,t.opposite)})),e[t.name]._basicClear()))}))}(e),t&&!f(e)&&s(l(e),e,e.containerFeature),function(e){o.default.forEach(e.getMetaClass().getAllAttributes(),(function(t){t.isContainment()&&(t.isSingleValuedAssociation()?(h(e[t.name]),t.isContainer()?c(e,null,t,t.name):e[t.name]=null):(o.default.forEach(e[t.name].getAllValues(),h),e[t.name]._basicClear()))}))}(e),e._invalidate())}}),e,t),e.exports=i},"mf0/ModelPrivate":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/util/underscoreExtended"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionDepth=void 0,e.elementMadeTopLevel=function(e,t){e.topLevelElements.set(t.uuid,t)},e.elementNoLongerTopLevel=function(e,t){e.topLevelElements.delete(t.uuid)},e.elementModifying=function(e,t,n){a(e),e.currentTransaction&&e.currentTransaction.elementModifying(t,n)},e.validateTransaction=a,e.elementDestroying=function(e,t){a(e),e.currentTransaction&&e.currentTransaction.elementDestroying(t);e.dataModelUsageProvider&&e.dataModelUsageProvider.elementDestroying(t);s(e,t)},e.remove=s,e.beginTransaction=function(e,t,n,r,o,a){if(e.currentTransaction)return new r(e.currentTransaction,n);t||e.transactionDepth!==u.DontKnow||(e.transactionDepth=u.Shallow,i.default.some(e.listeners,(function(e){return!e.isShallow}))&&(e.transactionDepth=u.Deep));return e.currentTransaction=t||e.transactionDepth===u.Deep?new o(e,i.default.clone(e.listeners),n):new a(e,i.default.clone(e.listeners),n),e.currentTransaction};var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){e.isFrozen()&&(e.currentTransaction&&e.currentTransaction.abandon(),r.default.throwErr("ModelFrozen")),e.currentTransaction||i.default.isEmpty(e.listeners)||r.default.throwErr("NoOpenTransaction")}function s(e,t){e.elements.delete(t.uuid),e.topLevelElements.delete(t.uuid)}var u=e.TransactionDepth=Object.freeze({DontKnow:0,Shallow:1,Deep:2})}),e,t),e.exports=i},"mf0/NestedTransaction":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/Transaction"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.model,e.origin));return n._topLevelTransaction=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"isRollBackOnly",value:function(){return this._topLevelTransaction.isRollBackOnly()}},{key:"commit",value:function(){return this.isDone=!0,mf.zero.TransactionResult.Ignored}},{key:"rollBack",value:function(){if(this.isDone)return mf.zero.TransactionResult.Ignored;var e=this._topLevelTransaction;return e.isDone||(e._isRollbackOnly=!0),mf.zero.TransactionResult.Ignored}},{key:"eventEmitted",value:function(){var e;this.isDone||(e=this._topLevelTransaction).eventEmitted.apply(e,arguments)}}]),t}(r.default);e.default=o}),e,t),e.exports=i},"mf0/ReportData":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/Changes"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t,n){i.default.forEach(n||[o.default.ModelElement],(function(n){for(var r=0,i=t.length;r<i;++r)if(t[r].isInstOf(n)&&!1===e(t[r]))return}))}var c=function(){function e(t,n,r,i,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this._delta=n,this._added=[],this._modified=[],this._destroyed=[],this._ephemeral=[],this.metadata=r,this._deferredEvents=i,this._revertUnchanged=o,this.origin=a,this.isDeep=s}return s(e,[{key:"isEmpty",value:function(){return i.default.isEmpty(this._added)&&i.default.isEmpty(this._modified)&&i.default.isEmpty(this._destroyed)&&i.default.isEmpty(this._ephemeral)&&i.default.isEmpty(this._deferredEvents)}},{key:"findChanges",value:function(e){return this._delta[e]}},{key:"processElement",value:function(e){var t=this.findChanges(e.uuid);t.isCreated?t.isDestroyed?this._ephemeral.push(e):this._added.push(e):t.isDestroyed?this._destroyed.push(e):this._revertUnchanged&&!t.revertUnchanged(e)||this._modified.push(e)}},{key:"isChanged",value:function(e,t){if(!e||!t)return!1;var n=this.findChanges(e.uuid);return!!n&&(!!e.getMetaClass().isA(t.owningType)&&n.isChanged(t))}},{key:"getChangedProperties",value:function(e){if(!e)return[];var t=this.findChanges(e.uuid);return t?t.getChangedProperties():[]}},{key:"getOldValue",value:function(e,t){if(!e||!t)return null;var n=this.findChanges(e.uuid);return n&&e.getMetaClass().isA(t.owningType)?n.getOldValue(t):null}},{key:"processAdded",value:function(e,t){u(e,this._added,t)}},{key:"processModified",value:function(e,t){u(e,this._modified,t)}},{key:"processDestroyed",value:function(e,t){u(e,this._destroyed,t)}},{key:"processEphemeral",value:function(e,t){u(e,this._ephemeral,t)}},{key:"isExtensionChanged",value:function(e,t){if(!e)return!1;var n=this._delta[e.uuid];return!!n&&(0,r.isExtensionChanged)(n,t)}},{key:"getChangedExtensions",value:function(e){if(!e)return[];var t=this._delta[e.uuid];return t?t.getChangedExtensions():[]}},{key:"processDeferredEvents",value:function(e){for(var t=0,n=this._deferredEvents.length;t<n;++t){var r=this._deferredEvents[t];if(r.source.isValid&&!1===e(r))return}}}]),e}();e.default=c}),e,t),e.exports=i},"mf0/ShallowTransaction":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/Transaction"]),n(n.dj.r.absMids["mf0/TransactionPrivate"]),n(n.dj.r.absMids["mf0/ReportData"]),n(n.dj.r.absMids["mf0/Changes"]),n(n.dj.r.absMids["mf0/ModelElement"]),n(n.dj.r.absMids["mf0/util/LogVerbosity"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.notifyModifyingListeners=function(e){var t=void 0;c.default.forEach(e._listeners,(function(n){-1===e._removedListeners.indexOf(n)&&n.isModifier&&(t&&!e._haveChanges||(t=b(e),e._haveChanges=!1),t.isEmpty()||n.modifyOnCommit(t))}))},e.validateTransactionWithListeners=function(e){var t=void 0;return c.default.every(e._listeners,(function(n){if(-1!==e._removedListeners.indexOf(n)||!n.isValidator)return!0;t||(t=b(e));try{if(!t.isEmpty()&&!n.validateOnCommit(t))return!1}catch(e){return!1}return!0}))},e.notifyTransactionCommitted=function(e,t){var n=void 0;c.default.forEach(e._listeners,(function(r){-1===e._removedListeners.indexOf(r)&&r.isObserver&&(n||(n=b(e,t)),r.transactionCommitted(n))}))},e.createReport=b,e.emitEvents=function(e){c.default.forEach(e._deferredEvents,(function(e){try{e.invoker()}catch(e){}}))};var c=m(t),l=m(n),f=m(r),d=m(o),h=m(a),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u);function m(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return i._delta={},i._listeners=n,i._revertUnchanged=!1,i._deferredEvents=[],i.isDeep=!1,i.span=e.span.createChild("DeepTransaction"),i.span.addContext(p.info,"origin",r),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"rollBack",value:function(){var e=this;this._changesProhibited=!0;try{if(!this._haveChanges)return mf.zero.TransactionResult.Reverted;var t=void 0;c.default.forEach(this._listeners,(function(n){-1===e._removedListeners.indexOf(n)&&n.isObserver&&(t||(t=b(e)),n.transactionCanceled(!1,t))}))}finally{(0,i.finalize)(this),this.model.transactionEffectsComplete()}return mf.zero.TransactionResult.CanceledNoRevert}},{key:"elementCreated",value:function(e){var t=v(this,e);if(t){if(this._delta[t]){var n=this.span.createChild("error");n.addContext(p.error,"conflictingUuid",t),n.addContext(p.error,"existingElement",this._delta[t]),n.addContext(p.error,"newElement",e),n.log(p.error,"UUID Conflict"),l.default.throwErr("UUIDConflict")}var r=new h.default(e.uuid,e.getModel(),e.getMetaClass());r.isCreated=!0,this._delta[t]=r}}},{key:"elementDestroying",value:function(e){var t=v(this,e);t&&(this._delta[t]||(this._delta[t]=(0,s.createStorage)(e)),this._delta[t].isDestroyed=!0,this._deletedElements[t]=e)}},{key:"elementModifying",value:function(e,t){if(t){var n=v(this,e);if(n){this._delta[n]||(this._delta[n]=(0,s.createStorage)(e));var r=this._delta[n];r.isCreated||r.isDestroyed||(0,a.setModified)(r,t)}}}},{key:"abandon",value:function(){this._listeners=[],this._deferredEvents=[],this.commit()}},{key:"eventEmitted",value:function(e){this._rollbackInProgress||(this._changesProhibited&&l.default.throwErr("ChangesProhibited"),this._deferredEvents.push(e))}}]),t}(f.default);function v(e,t){if(!c.default.isEmpty(e._listeners)||e._callback)return e._changesProhibited&&l.default.throwErr("ChangesProhibited"),!e._haveChanges&&e._callback&&e._callback(),e._haveChanges=!0,t.uuid}function b(e,t){var n=new d.default(e.model,e._delta,t,e._deferredEvents,e._revertUnchanged,e.origin,e.isDeep);return c.default.forEach(e._delta,(function(t,r){var i=t.isDestroyed?e._deletedElements[r]:e.model.findElement(r);n.processElement(i)})),n}e.default=g}),e,t),e.exports=i},"mf0/Storage":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/Changes"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setOldContainer=function(e,t,n){(0,r.isChanged)(e,"containerFeature")||(e._changedProperties.add("containerFeature"),e._container=t,e._containerFeature=n)};s(t);var o=s(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._container=null,i._containerFeature=null,i.model=n,i.metaclass=r,i.values=u({},r.getEmptyAttributesTemplate()),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"getOldValue",value:function(e){return e.isSingleValuedAssociation()&&e.isContainer()?this._containerFeature===e.opposite?this._container:null:(e.isSingleValued()||this.values[e.name]||(this.values[e.name]=e.qualifiedBy?new Map:e.isOrdered?[]:new Set),this.values[e.name])}},{key:"getExtensionOldValue",value:function(e){var t=this.model.getExtension(this.metaclass,e);t||o.default.throwErr("NoSuchProperty",e,this.metaclass.qualifiedName);var n=this.extensionChanges.get(t.uuid);return n||o.default.throwErr("NoSuchProperty",e,this.metaclass.qualifiedName),n}},{key:"revertUnchanged",value:function(e){var t=this;if((0,r.isChanged)(this,"containerFeature"))if(this._containerFeature||e.containerFeature){if(this._containerFeature===e.containerFeature){var n=(0,i.basicContainer)(e);this._container===n&&this.clearModified("containerFeature")}}else this.clearModified("containerFeature");return this.getChangedProperties().forEach((function(n){return t.revertOne(e,n)})),!this.isEmpty()}},{key:"revertOne",value:function(e,t){if(t.isSingleValued()){var n=this.getOldValue(t),r=e[t.name];(n||r)&&n!==r||this.clearModified(t.name)}}}]),t}(a.default);e.default=l}),e,t),e.exports=i},"mf0/Transaction":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/TransactionPrivate"]),n(n.dj.r.absMids["mf0/ShallowTransaction"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rollbackInProgress=!1,this._changesProhibited=!1,this._haveChanges=!1,this._isRollbackOnly=!1,this.isDone=!1,this.model=t,this.origin=n,this._removedListeners=[],this._deletedElements={},this._callback=null}return r(e,[{key:"isRollBackOnly",value:function(){return this._isRollbackOnly}},{key:"addFirstChangeCallback",value:function(e){this._callback=e}},{key:"commit",value:function(e){if(this.isDone)return mf.zero.TransactionResult.Ignored;if(this._isRollbackOnly)return this.rollBack();var r=void 0;try{if((0,n.notifyModifyingListeners)(this),this._changesProhibited=!0,r=this.model.freeze(),!(0,n.validateTransactionWithListeners)(this))return this._haveChanges=!0,r.destroy(),this.rollBack()}finally{(0,t.finalize)(this)}return r.destroy(),(0,n.notifyTransactionCommitted)(this,e),(0,n.emitEvents)(this),this.model.transactionEffectsComplete(),mf.zero.TransactionResult.Committed}},{key:"cancel",value:function(){if(!this.isDone)try{this.rollBack()}catch(e){}}},{key:"abandon",value:function(){}}]),e}();e.default=i}),e,t),e.exports=i},"mf0/TransactionPrivate":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/Model"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeListener=function(e,t){-1===e._removedListeners.indexOf(t)&&e._removedListeners.push(t)},e.finalize=function(e){e.isDone||(e._changesProhibited=!1,e.isDone=!0,(0,t.transactionEnded)(e.model))}}),e,t),e.exports=i},"mf0/TypeNames":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Object.freeze({Type:"mf.zero.meta.Type",Info:"mf.zero.meta.Info",NamedElement:"mf.zero.meta.NamedElement",TypedElement:"mf.zero.meta.TypedElement",Class:"mf.zero.meta.Class",Extension:"mf.zero.meta.Extension",DataType:"mf.zero.meta.DataType",StructuredType:"mf.zero.meta.StructuredType",Enum:"mf.zero.meta.Enum",PrimitiveType:"mf.zero.meta.PrimitiveType",Property:"mf.zero.meta.Property",Package:"mf.zero.meta.Package",EnumLiteral:"mf.zero.meta.EnumLiteral",Operation:"mf.zero.meta.Operation",Argument:"mf.zero.meta.Argument",AttributeMap:"mf.zero.meta.AttributeMap",Attribute:"mf.zero.meta.Attribute",Model:"mf.zero.Model",ModelElement:"mf.zero.ModelElement",Boolean:"Boolean",Integer:"Integer",Integer8:"Integer8",Integer16:"Integer16",Integer64:"Integer64",UInteger8:"UInteger8",UInteger16:"UInteger16",UInteger64:"UInteger64",Real:"Real",UnlimitedNatural:"UnlimitedNatural",String:"String",StdString:"StdString",UUID:"UUID",DateTime:"DateTime",Object:"Object",JsonValue:"JsonValue",MxArray:"MxArray",StringToStringMap:"StringToStringMap"});e.default=t}),e,t),e.exports=i},"mf0/Value":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/meta/Registry"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/util/UmlSemantics"])],i=n.dj.d(r,(function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPrimitiveValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new f(e,t,n?mf.zero.ValueFlags.Single:mf.zero.ValueFlags.OptionalPrimitive)},e.isValue=function(e){return e instanceof f};var a=l(t),s=l(n),u=l(r),c=l(i);function l(e){return e&&e.__esModule?e:{default:e}}var f=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=t,null===n&&(a.default.isString(t)?n=c.default.String:a.default.isBoolean(t)?n=c.default.Boolean:(0,o.isStructuredType)(t)?n=t.getMetaClass().qualifiedName:s.default.throwErr("UnspecifiedType")),this.actualType=u.default.getType(n),this.valueFlags=r}}),e,t),e.exports=i},"mf0/collections/AbstractCollection":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modifying=function(e){e._owner&&e._property&&(0,r.notifyModifying)(e._owner,e._property._isInstOfExtension()?e._property:e._property.name)},e.isComposite=function(e){var t=e._property;return t&&t.isContainment()},e.isDataType=c,e.areEqual=function(e,t,n){return c(e)?l(t,n):t===n},e.areEqualDataTypes=l,e.arrIndexOf=function(e,t,n){return n?i.default.findIndex(e,l.bind(null,t)):e.indexOf(t)};var i=a(t),o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._owner=n,this._property=r,this._opposite=i,this._collection=t}return s(e,[{key:"size",value:function(){o.default.throwErr("Implement")}},{key:"isEmpty",value:function(){return 0===this.size()}},{key:"forEach",value:function(){o.default.throwErr("Implement")}},{key:"clear",value:function(){o.default.throwErr("Implement")}},{key:"getKind",value:function(){o.default.throwErr("Implement")}},{key:"genericAdd",value:function(e){o.default.throwErr("Implement")}},{key:"genericRemove",value:function(e){o.default.throwErr("Implement")}},{key:"getAllValues",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"map",value:function(){var e;return(e=this.getAllValues()).map.apply(e,arguments)}},{key:"reduce",value:function(){var e;return(e=this.getAllValues()).reduce.apply(e,arguments)}},{key:"filter",value:function(){var e;return(e=this.getAllValues()).filter.apply(e,arguments)}},{key:"every",value:function(){var e;return(e=this.getAllValues()).every.apply(e,arguments)}},{key:"some",value:function(){var e;return(e=this.getAllValues()).some.apply(e,arguments)}}]),e}();function c(e){var t=e._property;return t&&t.isDataType()}function l(e,t){if(e&&t){var n=e.__isSealed?e.clone():e,r=t.__isSealed?t.clone():t;return i.default.isEqual(n,r)}return e===t}e.default=u}),e,t),e.exports=i},"mf0/collections/Map":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/collections/AbstractCollection"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(t),a=u(n),s=u(r);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new Map,n,r,i));return o._keyGetter=e,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"at",value:function(e){return this._collection.get(e)}},{key:"find",value:function(e){var t=this._keyGetter(e);if((0,r.areEqual)(this,this._collection.get(t),e))return t}},{key:"genericAdd",value:function(e){this.insert(e)}},{key:"genericRemove",value:function(e){this.eraseValue(e)}},{key:"insert",value:function(e){o.default.isUndefined(e)||void 0===this.find(e)&&(this._basicAdd(e),this._opposite?(0,i.inverseAdd)(e,this._owner,this._opposite):(0,r.isComposite)(this)&&(0,i.setContainedByThis)(this._owner,e,this._property))}},{key:"eraseValue",value:function(e){o.default.isUndefined(e)||this.erase(this.find(e))}},{key:"erase",value:function(e){if(o.default.isUndefined(e)||!this._collection.has(e))return 0;(0,r.modifying)(this);var t=this._collection.get(e);return this._opposite?(0,i.inverseRemove)(t,this._owner,this._opposite):(0,r.isComposite)(this)&&(0,i.basicSetContainer)(t,null,null,null),this._collection.delete(e),1}},{key:"size",value:function(){return this._collection.size}},{key:"clear",value:function(){var e=this;this._collection.forEach((function(t,n){return e.erase(n)}))}},{key:"forEach",value:function(e){this._collection.forEach(e)}},{key:"getKind",value:function(){return mf.zero.CollectionKind.Map}},{key:Symbol.iterator,value:function(){return this._collection[Symbol.iterator]()}},{key:"_basicAdd",value:function(e){var t=this._keyGetter(e);this._collection.get(t)&&a.default.throwErr("UniquenessConstraint"),(0,r.modifying)(this),this._collection.set(t,e),(0,r.isDataType)(this)&&(e.__isSealed=!0)}},{key:"_basicRemove",value:function(e){(0,r.modifying)(this);var t=this._keyGetter(e);this._collection.delete(t)}},{key:"_basicClear",value:function(){(0,r.modifying)(this),this._collection.clear()}},{key:"_copyContents",value:function(e){(0,r.modifying)(this),this._collection=new Map(e)}},{key:"_clone",value:function(){return new Map(this._collection)}}]),t}(s.default);e.default=l}),e,t),e.exports=i},"mf0/collections/Multimap":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/collections/AbstractCollection"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new Map,n,r,i));return o._keyGetter=e,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"find",value:function(e){var t=this._keyGetter(e),r=this._collection.get(t);if(i.default.isArray(r)){var o=(0,n.arrIndexOf)(r,e,(0,n.isDataType)(this));if(-1!==o)return{key:t,idx:o}}}},{key:"genericAdd",value:function(e){this.insert(e)}},{key:"genericRemove",value:function(e){this.eraseValue(e)}},{key:"insert",value:function(e){i.default.isUndefined(e)||(this.find(e)||(this._basicAdd(e),this._opposite?(0,r.inverseAdd)(e,this._owner,this._opposite):(0,n.isComposite)(this)&&(0,r.setContainedByThis)(this._owner,e,this._property)))}},{key:"eraseValue",value:function(e){i.default.isUndefined(e)||this.erase(this.find(e))}},{key:"erase",value:function(e){if(i.default.isUndefined(e)||!this._collection.has(e.key)||i.default.isUndefined(this._collection.get(e.key)[e.idx]))return 0;(0,n.modifying)(this);var t=this._collection.get(e.key)[e.idx];return this._opposite?(0,r.inverseRemove)(t,this._owner,this._opposite):(0,n.isComposite)(this)&&(0,r.basicSetContainer)(t,null,null,null),this._collection.get(e.key).splice(e.idx,1),1}},{key:"size",value:function(){var e=0;return this._collection.forEach((function(t){e+=t.length})),e}},{key:"clear",value:function(){var e=this;this._collection.forEach((function(t,n){t.forEach((function(t,r){return e.erase({key:n,idx:r})}))}))}},{key:"equal_range",value:function(e){return i.default.clone(this._collection.get(e))}},{key:"forEach",value:function(e){!function(e,t){e.forEach((function(n,r){n.forEach((function(n,i){t(n,{key:r,idx:i},e)}))}))}(this._collection,e)}},{key:"getKind",value:function(){return mf.zero.CollectionKind.Multimap}},{key:Symbol.iterator,value:function(){var e=this,t=this._collection.keys(),n=void 0,r=void 0,i=void 0,o=void 0;return{next:function(){return(o>=i||!o)&&(n=t.next(),r=n.value?e._collection.get(n.value):[],i=r.length,o=0),{value:[n.value,r[o++]],done:n.done}}}}},{key:"_basicAdd",value:function(e){(0,n.modifying)(this);var t=this._keyGetter(e);(0,n.isDataType)(this)&&(e.__isSealed=!0),this._collection.has(t)?this._collection.get(t).push(e):this._collection.set(t,[e])}},{key:"_basicRemove",value:function(e){(0,n.modifying)(this);var t=this._keyGetter(e),r=this._collection.get(t)||[],i=(0,n.arrIndexOf)(r,e,(0,n.isDataType)(this));-1!==i&&r.splice(i,1)}},{key:"_basicClear",value:function(){(0,n.modifying)(this),this._collection.clear()}},{key:"_copyContents",value:function(e){(0,n.modifying)(this);var t=this._collection;t.clear(),e.forEach((function(e,n){return t.set(n,i.default.clone(e))}))}},{key:"_clone",value:function(){var e=new Map;return this._collection.forEach((function(t,n){return e.set(n,i.default.clone(t))})),e}}]),t}(o.default);e.default=u}),e,t),e.exports=i},"mf0/collections/Sequence":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/collections/AbstractCollection"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(t),a=u(n),s=u(r);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){function t(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[],e,r,i));return o._isUnique=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"erase",value:function(e){o.default.isUndefined(e)||this.splice(f(this,e))}},{key:"splice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(o.default.isLength(e)&&o.default.isLength(t)){for(var n=e+Math.min(this._collection.length-e,t),a=e;a<n;++a)(0,r.modifying)(this),this._opposite?(0,i.inverseRemove)(this._collection[a],this._owner,this._opposite):(0,r.isComposite)(this)&&(0,i.basicSetContainer)(this._collection[a],null,null,null);this._collection.splice(e,t)}}},{key:"find",value:function(e){return f(this,e)}},{key:"size",value:function(){return this._collection.length}},{key:"genericAdd",value:function(e,t){if(null!=t){var n=this.insert(e,t);-1!==n&&this.swap(n,t)}else this.push(e)}},{key:"genericRemove",value:function(e){this.erase(e)}},{key:"push",value:function(e){o.default.isUndefined(e)||this._isUnique&&this.contains(e)||(this._basicAdd(e),this._opposite?(0,i.inverseAdd)(e,this._owner,this._opposite):(0,r.isComposite)(this)&&(0,i.setContainedByThis)(this._owner,e,this._property))}},{key:"insert",value:function(e,t){if(o.default.isUndefined(e))return-1;if(this._isUnique){var n=this.find(e);if(-1!==n)return n}return(0,r.modifying)(this),this._collection.splice(t,0,e),(0,r.isDataType)(this)&&(e.__isSealed=!0),this._opposite?(0,i.inverseAdd)(e,this._owner,this._opposite):(0,r.isComposite)(this)&&(0,i.setContainedByThis)(this._owner,e,this._property),t}},{key:"pop",value:function(){this.splice(this._collection.length-1)}},{key:"contains",value:function(e){return!o.default.isUndefined(e)&&(this._opposite&&1===this._opposite.upper?e.getPropertyValue(this._opposite)===this._owner:-1!==f(this,e))}},{key:"at",value:function(e){return this._collection[e]}},{key:"set",value:function(e,t){var n=this._collection;(0,r.areEqual)(n,n[e],t)||(o.default.isUndefined(t)&&a.default.throwErr("CannotAddNonExistentObject"),this._isUnique&&this.contains(t)&&a.default.throwErr("CannotAddSecondObject"),(0,r.modifying)(this),this._opposite?((0,i.inverseAdd)(t,this._owner,this._opposite),(0,i.inverseRemove)(n[e],this._owner,this._opposite)):(0,r.isComposite)(this)?((0,i.setContainedByThis)(this._owner,t,this._property),(0,i.basicSetContainer)(n[e],null,null,null)):(0,r.isDataType)(this)&&(t.__isSealed=!0),n[e]=t)}},{key:"setAllValues",value:function(e){this._collection=e,(0,r.isDataType)(this)&&this._collection((function(e){return e.__isSealed=!0})),(0,r.modifying)(this)}},{key:"swap",value:function(e,t){(0,r.modifying)(this);var n=this._collection[e];this._collection[e]=this._collection[t],this._collection[t]=n}},{key:"front",value:function(){return this._collection[0]}},{key:"back",value:function(){return this._collection[this._collection.length-1]}},{key:"forEach",value:function(e){this._collection.forEach(e)}},{key:"clear",value:function(){for(;!this.isEmpty();)this.pop()}},{key:"getKind",value:function(){return mf.zero.CollectionKind.Sequence}},{key:Symbol.iterator,value:function(){return this._collection[Symbol.iterator]()}},{key:"_basicAdd",value:function(e){(0,r.modifying)(this),this._collection.push(e),(0,r.isDataType)(this)&&(e.__isSealed=!0)}},{key:"_basicRemove",value:function(e){var t=f(this,e);-1!==t&&((0,r.modifying)(this),this._collection.splice(t,1))}},{key:"_basicClear",value:function(){(0,r.modifying)(this),this._collection=[]}},{key:"_copyContents",value:function(e){(0,r.modifying)(this),this._collection=e.slice(0)}},{key:"_clone",value:function(){return o.default.clone(this._collection)}}]),t}(s.default);function f(e,t){return(0,r.arrIndexOf)(e._collection,t,(0,r.isDataType)(e))}e.default=l}),e,t),e.exports=i},"mf0/collections/Set":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/collections/AbstractCollection"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new Set,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"find",value:function(e){var t=c(this,e);return(0,n.isDataType)(this)?t:t?e:void 0}},{key:"size",value:function(){return this._collection.size}},{key:"forEach",value:function(e){this._collection.forEach(e)}},{key:"genericAdd",value:function(e){this.insert(e)}},{key:"genericRemove",value:function(e){this.erase(e)}},{key:"insert",value:function(e){i.default.isUndefined(e)||c(this,e)||(this._basicAdd(e),this._opposite?(0,r.inverseAdd)(e,this._owner,this._opposite):(0,n.isComposite)(this)&&(0,r.setContainedByThis)(this._owner,e,this._property))}},{key:"erase",value:function(e){if(!i.default.isUndefined(e)){var t=c(this,e);t&&((0,n.modifying)(this),this._opposite?(0,r.inverseRemove)(e,this._owner,this._opposite):(0,n.isComposite)(this)&&(0,r.basicSetContainer)(e,null,null,null),this._collection.delete((0,n.isDataType)(this)?t:e))}}},{key:"clear",value:function(){var e=this;this._collection.forEach((function(t){return e.erase(t)}))}},{key:"getKind",value:function(){return mf.zero.CollectionKind.Set}},{key:Symbol.iterator,value:function(){return this._collection[Symbol.iterator]()}},{key:"_basicAdd",value:function(e){(0,n.modifying)(this),this._collection.add(e),(0,n.isDataType)(this)&&(e.__isSealed=!0)}},{key:"_basicRemove",value:function(e){(0,n.modifying)(this),this._collection.delete(e)}},{key:"_basicClear",value:function(){(0,n.modifying)(this),this._collection.clear()}},{key:"_copyContents",value:function(e){(0,n.modifying)(this),this._collection=new Set(e)}},{key:"_clone",value:function(){return new Set(this._collection)}}]),t}(o.default);function c(e,t){var r=e._collection;return(0,n.isDataType)(e)?i.default.find(r,n.areEqualDataTypes.bind(null,t)):r.has(t)}e.default=u}),e,t),e.exports=i},"mf0/collections/StringToStringMap":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/collections/AbstractCollection"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._owner=t,this._property=n,this._collection=new Map}return s(e,[{key:"toString",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,o=this._collection[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e[a[0]]=a[1]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return JSON.stringify(e)}},{key:"loadFromString",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=Object.entries(JSON.parse(e))[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this._collection.set(a[0],a[1])}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"at",value:function(e){return this._collection.get(e)}},{key:"set",value:function(e){this._basicSet(e)}},{key:"find",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this._collection[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a[1]===e)return a[0]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"has",value:function(e){return this._collection.has(e)}},{key:"genericAdd",value:function(e){this.insert(e)}},{key:"genericRemove",value:function(e){this.eraseValue(e)}},{key:"insert",value:function(e){i.default.isUndefined(e)||i.default.isUndefined(e[0])||i.default.isUndefined(this.at(e[0]))&&this._basicAdd(e)}},{key:"eraseValue",value:function(e){i.default.isUndefined(e)||this.erase(this.find(e))}},{key:"erase",value:function(e){return i.default.isUndefined(e)||!this._collection.has(e)?0:((0,r.modifying)(this),this._collection.delete(e),1)}},{key:"size",value:function(){return this._collection.size}},{key:"isEmpty",value:function(){return 0===this.size()}},{key:"clear",value:function(){var e=this;this._collection.forEach((function(t,n){return e.erase(n)}))}},{key:"forEach",value:function(e){this._collection.forEach(e)}},{key:Symbol.iterator,value:function(){return this._collection[Symbol.iterator]()}},{key:"_basicAdd",value:function(e){var t=e[0],n=e[1];this._collection.get(t)&&o.default.throwErr("UniquenessConstraint"),(0,r.modifying)(this),this._collection.set(t,n)}},{key:"_basicSet",value:function(e){var t=e[0],n=e[1];(0,r.modifying)(this),this._collection.set(t,n)}},{key:"_basicRemove",value:function(e){(0,r.modifying)(this);var t=e[0];this._collection.delete(t)}},{key:"_basicClear",value:function(){(0,r.modifying)(this),this._collection.clear()}},{key:"_copyContents",value:function(e){(0,r.modifying)(this),this._collection=new Map(e)}},{key:"_clone",value:function(){return new Map(this._collection)}}]),e}();e.default=u}),e,t),e.exports=i},"mf0/collections/SubsettedElementSet":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/collections/AbstractCollection"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._filter=r||function(){return!0},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"insert",value:function(e){this._filter&&!this._filter(e)&&r.default.throwErr("CannotAddIncompatibleObjectSubset"),mf.zero.CollectionKind.Sequence===this._collection.getKind()?this._collection.push(e):this._collection.insert(e)}},{key:"genericAdd",value:function(e){this.insert(e)}},{key:"genericRemove",value:function(e){this.erase(e)}},{key:"find",value:function(e){if(!this._filter||this._filter(e))return this._collection.find(e)}},{key:"erase",value:function(e){this._filter(e)&&(mf.zero.CollectionKind.Map===this._collection.getKind()||mf.zero.CollectionKind.Multimap===this._collection.getKind()?this._collection.eraseValue(e):this._collection.erase(e))}},{key:"clear",value:function(){var e=this;this.forEach((function(t){return e.erase(t)}))}},{key:"_basicClear",value:function(){this.clear()}},{key:"size",value:function(){return this.getAllValues().length}},{key:"getKind",value:function(){return mf.zero.CollectionKind.SubsettedElementSet}},{key:"forEach",value:function(e){var t=this;this._collection.forEach((function(n){t._filter(n)&&e(n)}))}},{key:"copyContents",value:function(e){}},{key:Symbol.iterator,value:function(){return this._collection[Symbol.iterator]()}}]),t}(i.default);e.default=s}),e,t),e.exports=i},"mf0/io/ElementId":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=Object.freeze({Definition:"Definition",Reference:"Reference"}),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.identifierType=t,this.identifier=n}return t(e,[{key:"getUuid",value:function(){if(this.identifierType===e.DefaultIdentifierType)return this.identifier}}],[{key:"UsageMode",get:function(){return n}},{key:"DefaultIdentifierType",get:function(){return"uuid"}},{key:"IntrinsicIdentifierType",get:function(){return"id"}}]),e}();e.default=r}),e,t),e.exports=i},"mf0/io/EventProcessor":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/io/PropertyCategory"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"preprocess",value:function(e){}},{key:"postprocess",value:function(e){}},{key:"startDocument",value:function(e,t){}},{key:"endDocument",value:function(){}},{key:"startRegisteredPackages",value:function(){}},{key:"writeRegisteredPackage",value:function(e,t){}},{key:"endRegisteredPackages",value:function(){}},{key:"startObject",value:function(e,t,n,i){return[r.default.All()]}},{key:"endObject",value:function(e,t,n,r){}},{key:"writePrimitiveValue",value:function(e,t){}},{key:"writeEmptyPrimitiveValue",value:function(e){}},{key:"startPrimitiveEntryValues",value:function(e){}},{key:"writePrimitiveEntryValue",value:function(e,t){}},{key:"endPrimitiveEntryValues",value:function(e){}},{key:"writeVerbatimValue",value:function(e,t,n){}},{key:"startVerbatimEntryValues",value:function(e){}},{key:"writeVerbatimEntryValue",value:function(e,t,n){}},{key:"endVerbatimEntryValues",value:function(e){}},{key:"writeEmptyDatatype",value:function(e,t){}},{key:"startDatatype",value:function(e,t){}},{key:"endDatatype",value:function(e,t){}},{key:"writeReferenceValue",value:function(e,t,n,r){}},{key:"writeEmptyReferenceValue",value:function(e){}},{key:"startReferenceEntryValues",value:function(e){}},{key:"writeReferenceEntryValue",value:function(e,t,n,r){}},{key:"endReferenceEntryValues",value:function(e){}},{key:"startContainment",value:function(e,t){}},{key:"endContainment",value:function(e,t){}},{key:"startDatatypeValues",value:function(e,t){}},{key:"endDatatypeValues",value:function(e,t){}},{key:"startDynamicExtensions",value:function(){}},{key:"writePrimitiveDynamicExtension",value:function(e,t,n){}},{key:"writeEmptyDynamicExtension",value:function(e,t){}},{key:"writeImplicitlyEmptyDynamicExtension",value:function(e,t){}},{key:"writeVerbatimDynamicExtension",value:function(e,t,n,r){}},{key:"startDataTypeDynamicExtension",value:function(e,t){}},{key:"endDataTypeDynamicExtension",value:function(e,t){}},{key:"endDynamicExtensions",value:function(){}},{key:"startDynamicOverrides",value:function(){}},{key:"endDynamicOverrides",value:function(){}}]),e}();e.default=o}),e,t),e.exports=i},"mf0/io/IntermediateFormatOutput":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/io/SerializationOutput"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.out=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"accept",value:function(e){this.out=e.visitIntermediateFormat()}}]),t}(r.default);e.default=o}),e,t),e.exports=i},"mf0/io/JSONChangeReportSynchronizer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/io/ModelTraverser"]),n(n.dj.r.absMids["mf0/io/JSONModelTraverser"]),n(n.dj.r.absMids["mf0/io/JSONModelTraverserNoTransient"]),n(n.dj.r.absMids["mf0/io/JSONSerializer"]),n(n.dj.r.absMids["mf0/io/JSONConstants"]),n(n.dj.r.absMids["mf0/io/JSONCustomizer"]),n(n.dj.r.absMids["mf0/io/JSONParser"]),n(n.dj.r.absMids["mf0/io/IntermediateFormatOutput"]),n(n.dj.r.absMids["mf0/io/ModelBuilder"]),n(n.dj.r.absMids["mf0/io/PropertyCategory"]),n(n.dj.r.absMids["mf0/io/Visitor"]),n(n.dj.r.absMids["mf0/meta/Registry"]),n(n.dj.r.absMids["mf0/meta/PropertySerializerRegistry"]),n(n.dj.r.absMids["mf0/Value"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"]),n(n.dj.r.absMids["mf0/Model"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/io/SerializeCustomizer"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l,f,d,h,p,m,y,g,v,b,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var w=U(t),j=U(n),E=U(r),M=(U(i),U(o)),k=U(a),C=U(s),P=U(u),T=U(c),S=U(l),x=U(f),O=U(d),A=U(h),R=U(p),D=U(m),I=U(b),N=U(_);function U(e){return e&&e.__esModule?e:{default:e}}var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var V=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H=function(e){function t(e,n){F(this,t);var r=z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.setRecurseIntoCompositions(n),r.report=e,r.currentElement=null,r}return B(t,e),q(t,[{key:"getPropertyCategory",value:function(e){return this.currentElement&&this.currentElement.getMetaClass().isA(e.owningType)&&!this.report.isChanged(this.currentElement,e)?O.default.Unknown():e.type.name===I.default.StringToStringMap?O.default.VerbatimCustom():V(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPropertyCategory",this).call(this,e)}}]),t}(M.default),W=function(e){function t(e){F(this,t);var n=z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.report=e,n}return B(t,e),q(t,[{key:"customizePropertyValue",value:function(e,t,n){if(null!=n&&t.type.name===I.default.StringToStringMap&&this.report.isDeep)try{var r=this.report.getOldValue(e,t),i=n,o={},a=[],s=!0,u=!1,c=void 0;try{for(var l,f=i[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value;r.has(d[0])&&r.get(d[0])===d[1]||(o[d[0]]=d[1])}}catch(e){u=!0,c=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}var h=!0,p=!1,m=void 0;try{for(var y,g=r[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var v=y.value;i.has(v[0])||a.push(v[0])}}catch(e){p=!0,m=e}finally{try{!h&&g.return&&g.return()}finally{if(p)throw m}}return{added:o,removed:a}}catch(e){}return n}}]),t}(N.default),K=function(e){function t(){return F(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,e),q(t,[{key:"getProperties",value:function(e,t){return[]}},{key:"isPropertyTransient",value:function(e){return!1}}]),t}(E.default),J=function(e){function t(){return F(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,e),q(t,[{key:"getMetaPropertyCategory",value:function(e,n){var r=V(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getMetaPropertyCategory",this).call(this,e,n),i=this.getMetaProperty(e,n).opposite;return i&&i.qualifiedBy?O.default.Unknown():r.isA(O.default.CompositionAny())?r.isCollection()?O.default.AssociationCollection():O.default.Association():r}}]),t}(P.default),X=function(e){function t(){return F(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,e),q(t,[{key:"instantiate",value:function(e,t,n){if(e._isInstOfDataType())return new(R.default.get(e.qualifiedName));var r=this.findReference(t,n);return r&&r.getMetaClass()===e||j.default.throwErr("CannotApplyChangeReport"),r}},{key:"setValue",value:function(e,n,r){if(n.type.name===I.default.StringToStringMap&&"object"===L(r.added)&&"object"===L(r.removed)){var i=e.getPropertyValue(n),o=r,a=D.default.getPropertySerializer(n.type),s=o.added,u=a.parseValue(s,I.default.StringToStringMap),c=!0,l=!1,f=void 0;try{for(var d,h=Object.entries(u)[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value;i.set(p)}}catch(e){l=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw f}}var m=o.removed,y=!0,g=!1,v=void 0;try{for(var b,_=m[Symbol.iterator]();!(y=(b=_.next()).done);y=!0){var w=b.value;i.erase(w)}}catch(e){g=!0,v=e}finally{try{!y&&_.return&&_.return()}finally{if(g)throw v}}}else V(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e,n,r)}}]),t}(x.default),G=function(e){function t(){return F(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,e),q(t,[{key:"instantiate",value:function(e,n,r){if(e._isInstOfDataType())return new(R.default.get(e.qualifiedName));var i=this.findReference(n,r);return i?(i.getMetaClass()!==e&&j.default.throwErr("CannotApplyChangeReport"),i):V(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"instantiate",this).call(this,e,n,r)}}]),t}(x.default),$=function(){function e(t){F(this,e),this.treatDuplicateAddedElementsAsModified=t}return q(e,[{key:"serializeChangeReport",value:function(e,t){var n={added:[],modified:[],destroyed:[],events:[],addedElementURIs:[]},r=new k.default(new M.default(!1)),i=[];e.processAdded((function(e){var t=new S.default,o=(0,v.getPackage)(e);o&&i.push(o.uri),r.serialize(e,t),n.added.push(t.out[C.default.EntriesAttr][0])})),n.addedElementURIs=w.default.uniq(i).filter((function(e){return!e.startsWith("http://schema.mathworks.com/mf0/meta/")}));var o=new H(e,!1),a=new k.default(o,new W(e));e.processModified((function(e){var t=new S.default;o.currentElement=e,a.serialize(e,t),n.modified.push(t.out[C.default.EntriesAttr][0])}));var s=new k.default(new K);if(e.processDestroyed((function(e){var t=new S.default;s.serialize(e,t),n.destroyed.push(t.out[C.default.EntriesAttr][0])})),e.processDeferredEvents((function(e){var t=e.source.getMetaClass().getOperationByName(e.name);try{for(var r={operation:e.name,source:e.source.uuid,arguments:[]},i=0;i<e.args.length;++i){var o=e.args[i];if(null!=o){var a=t.argument.at(i),s=a.type,u=function(e){if(s._isInstOfClass())return e.uuid;if(s._isInstOfDataType()){var t=new k.default,n=new S.default;return t.serialize(e,n),n.out[C.default.EntriesAttr][0]}var r=D.default.getPropertySerializer(s);return r?r.serializeValue(e):void 0};if(a.upper>1||-1===a.upper){var c=[],l=!0,f=!1,d=void 0;try{for(var h,p=o[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var m=h.value;c.push(u(m))}}catch(e){f=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(f)throw d}}r.arguments.push(c)}else r.arguments.push(u(o))}else r.arguments.push(null)}n.events.push(r)}catch(e){console.log(e)}})),e.metadata){var u=void 0;if((0,y.isValue)(e.metadata))u=e.metadata;else try{u=(0,y.createPrimitiveValue)(e.metadata)}catch(e){u=void 0}if(u){var c=u.actualType,l=D.default.getPropertySerializer(c);if(l){var f={};f[C.default.TypeAttr]=c.qualifiedName,f[C.default.ContentAttr]=l.serializeValue(u.value),n.metadata=f}}}var d=function(e){function t(e){F(this,t);var n=z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.value=e,n}return B(t,e),q(t,[{key:"visitString",value:function(){return JSON.stringify(this.value)}},{key:"visitIntermediateFormat",value:function(){return this.value}}]),t}(A.default);t.visitOutput(new d(n))}},{key:"parseChangeReport",value:function(e,t){return this.parseChangeReportJSON(JSON.parse(e),t)}},{key:"parseChangeReportJSON",value:function(e,t){return this.treatDuplicateAddedElementsAsModified?this.parseChangeReportVerbatim(e,t,new X,new G):this.parseChangeReportVerbatim(e,t,new X)}},{key:"parseChangeReportVerbatim",value:function(e,t,n,r,i){return function(o){i===mf.zero.io.SyncMode.Regular&&o.isTransactionInProgress()&&j.default.throwErr("TransactionInProgress");var a=new Set(w.default.map(e.destroyed,"uuid")),s=t.beginTransaction(!0);if(e.destroyed&&w.default.isArray(e.destroyed)){var u=e.destroyed.filter((function(e){return o.findElement(e.uuid)})),c=new T.default(new J,n,r);c.getCustomizer().enableMetaPropertyCategoryCaching(),c.setModel(o),c.setShouldRemapUuids(!1),c.parseVerbatimEntries(u);var l=c.getCreatedTopLevelItems();w.default.forEach(l,(function(e){return function(e,t){for(var n=t.getMetaClass().getAllAttributes(),r=Object.keys(n),i=0,o=r.length;i<o;++i){var a=n[r[i]];if(a.isContainment()){var s=t.getPropertyValue(a);a.isSingleValued()?s&&!e.has(s.uuid)&&(0,g.makeUncontained)(s):s.filter((function(t){return!e.has(t.uuid)})).forEach((function(e){return(0,g.makeUncontained)(e)}))}}}(a,e.item)})),w.default.forEach(l,(function(e){return e.item.destroy()}))}if(e.added&&w.default.isArray(e.added)){var f=new T.default(new J,r);f.getCustomizer().enableMetaPropertyCategoryCaching(),f.setModel(o),f.setShouldRemapUuids(!1),f.parseVerbatimEntries(e.added)}if(e.modified&&w.default.isArray(e.modified)){var d=e.modified.filter((function(e){return o.findElement(e.uuid)})),h=new T.default(new J,n);h.getCustomizer().enableMetaPropertyCategoryCaching(),h.setModel(o),h.setShouldRemapUuids(!1),h.parseVerbatimEntries(d)}e.events&&w.default.isArray(e.events)&&w.default.forEach(e.events,(function(e){!function(e,t){var n;if(!w.default.isObject(t))return;var r=e.findElement(t.source);if(!r)return;var i=r.getMetaClass().getOperationByName(t.operation);try{for(var o=[],a=function(n,r){var a=t.arguments[n];if(!a)return o.push(null),"continue";var s=i.argument.at(n),u=s.type,c=function(t){if(u._isInstOfClass()){var n=e.findElement(t);if(!n)throw new Error("Event on unrecognized element: "+t);return n}if(u._isInstOfDataType()){var r=new T.default;r.parseVerbatimEntries([t]);var i=r.getCreatedTopLevelItems();return i&&w.default.isArray(i)&&1===i.length&&i[0].getMetaClass()===u?i[0].item:void 0}var o=D.default.getPropertySerializer(u);if(o)return o.parseValue(t)};1===s.upper?o.push(c(a)):o.push(a.map(c))},s=0,u=t.arguments.length;s<u;++s)a(s)}catch(e){return}(n=r[t.operation]).emit.apply(n,o)}(o,e)}));var p=void 0;if(e.metadata){var m=e.metadata[C.default.TypeAttr],y=e.metadata[C.default.ContentAttr],v=R.default.getType(m);p=D.default.getPropertySerializer(v).parseValue(y,v)}s.commit(p)}}}]),e}();e.default=$}),e,t),e.exports=i},"mf0/io/JSONConstants":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";function t(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length,i=n;i<r;++i)if(e[i]!==t)return i;return r}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze({VersionAttr:"version",EntriesAttr:"entries",ContentAttr:"content",DynamicContentAttr:"dynamicContent",TypeAttr:"type",UuidAttr:"uuid",DefaultPackageAttr:"defaultPackage",PackagesAttr:"packageUris",SynchronizerMetadata:"mf.zero.io.JSONChangeReportSynchronizer",DefaultValuesAttr:"defaultValues",DynamicPropertyAttr:"dynamicProperty",OwnerAttr:"owner",LowerAttr:"lower",UpperAttr:"upper",UpperValueUnbounded:"*",OrderedAttr:"isOrdered",UniqueAttr:"isUnique",ValueAttr:"value",TypeSize:4,disambiguateIdAttribute:function(e){return e.length<n.TypeSize||e.substr(0,n.TypeSize)!==n.TypeAttr||t(e,"_",n.TypeSize)!==e.length?e:e+"_"},convertFromDisambiguated:function(e){return e.length<=n.TypeSize||e.substr(0,n.TypeSize)!==n.TypeAttr||t(e,"_",n.TypeSize)!==e.length?e:e.substr(0,e.length-1)}});e.default=n}),e,t),e.exports=i},"mf0/io/JSONCustomizer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/io/ParseCustomizer"]),n(n.dj.r.absMids["mf0/io/PropertyCategory"]),n(n.dj.r.absMids["mf0/TypeNames"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),o=s(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"enableMetaPropertyCategoryCaching",value:function(){this.propertyCategoryCache={}}},{key:"getMetaPropertyCategory",value:function(e,n){var r=e.uuid+"_"+n,i=this.propertyCategoryCache;function s(e){return i&&(i[r]=e),e}var u=i&&i[r];if(u)return u;var c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getMetaPropertyCategory",this).call(this,e,n);if(c.and(o.default.PrimitiveAny())){var l=this.getMetaProperty(e,n),f=l.type.qualifiedName;if(f===a.default.Integer||f===a.default.Integer8||f===a.default.Integer16||f===a.default.Integer64||f===a.default.UInteger8||f===a.default.UInteger16||f===a.default.UInteger64||f===a.default.Real||f===a.default.UnlimitedNatural||f===a.default.Boolean||f===a.default.Object||f===a.default.StringToStringMap||f===a.default.JsonValue)return s(1==l.upper?o.default.Verbatim():o.default.VerbatimCollection())}return s(c)}},{key:"getExtensionCategory",value:function(e){var t=e.type.qualifiedName;return t===a.default.Integer||t===a.default.Integer8||t===a.default.Integer16||t===a.default.Integer64||t===a.default.UInteger8||t===a.default.UInteger16||t===a.default.UInteger64||t===a.default.Real||t===a.default.UnlimitedNatural||t===a.default.Boolean||t===a.default.Object||t===a.default.StringToStringMap||t===a.default.JsonValue?1==e.upper?o.default.Verbatim():o.default.VerbatimCollection():this.getDefaultPropertyCategory(e)}}]),t}(i.default);e.default=f}),e,t),e.exports=i},"mf0/io/JSONModelTraverser":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/io/ModelTraverser"]),n(n.dj.r.absMids["mf0/io/PropertyCategory"]),n(n.dj.r.absMids["mf0/TypeNames"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(t),a=c(n),s=c(r),u=c(i);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.setRecurseIntoCompositions(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"setRecurseIntoCompositions",value:function(e){o.default.isUndefined(e)&&(e=!0),this.recurseIntoCompositions=e}},{key:"getPropertyCategory",value:function(e){var n=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPropertyCategory",this).call(this,e);if(n.and(s.default.PrimitiveAny())){var r=e.type.qualifiedName;if(r===u.default.Integer||r===u.default.Integer8||r===u.default.Integer16||r===u.default.Integer64||r===u.default.UInteger8||r===u.default.UInteger16||r===u.default.UInteger64||r===u.default.Real||r===u.default.UnlimitedNatural||r===u.default.Boolean||r===u.default.Object||r===u.default.StringToStringMap||r===u.default.JsonValue)return e.isSingleValued()?s.default.Verbatim():s.default.VerbatimCollection()}else if(n.and(s.default.CompositionAny())&&!this.recurseIntoCompositions)return e.isSingleValued()?s.default.Association():s.default.AssociationCollection();return n}}]),t}(a.default);e.default=f}),e,t),e.exports=i},"mf0/io/JSONModelTraverserNoTransient":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/io/JSONModelTraverser"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"isPropertyTransient",value:function(e){return!1}}]),t}(r.default);e.default=o}),e,t),e.exports=i},"mf0/io/JSONParser":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/io/JSONCustomizer"]),n(n.dj.r.absMids["mf0/io/PropertyCategory"]),n(n.dj.r.absMids["mf0/io/Parser"]),n(n.dj.r.absMids["mf0/io/ModelBuilder"]),n(n.dj.r.absMids["mf0/io/JSONConstants"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/collections/StringToStringMap"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=v(t),f=v(n),d=v(r),h=v(i),p=v(o),m=v(a),y=v(s),g=v(u);v(c);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=function(){function e(t){j(this,e),this.processor=t}return E(e,[{key:"destroy",value:function(){this.processor.parseCompleted()}},{key:"processElement",value:function(e,t){var n=this._parseIdentification(e);if(this.processor.push(n.type,n.idType,n.id)){if(this._processElementContent(e[y.default.ContentAttr]),e.hasOwnProperty(y.default.DynamicContentAttr)){var r=e[y.default.DynamicContentAttr];this.processor.startDynamicContent(),this._processElementContent(r)}this.processor.pop(t)}}},{key:"_processElementContent",value:function(e){var t=this,n=void 0,r=e?Object.entries(e):[],i=!0,o=!1,a=void 0;try{for(var s,u=function(){var e=w(s.value,2),r=e[0],i=e[1],o=t.processor.getPropertyCategory(r);if(o.isCollection()&&t.processor.clearValues(r),o.and(h.default.CompositionAny()))0!==(n=t._makeArray(i)).length||o.isCollection()||t.processor.clearValues(r),n.forEach((function(e){t.processElement(e,r)}));else if(o.and(h.default.AssociationAny()))0!==(n=t._makeArray(i)).length||o.isCollection()||t.processor.clearValues(r),n.forEach((function(e){var n=t._parseIdentification(e);t.processor.addDeferredReference(n.type,r,n.idType,n.id)}));else if(o.and(h.default.DatatypeAny()))0===(n=t._makeArray(i)).length&&o.and(h.default.Datatype())&&t.processor.setEmptyValue(r),n.forEach((function(e){t.processElement(e,r)}));else if(o.and(h.default.VerbatimAny())){if(t.processor.getPropertyType(r).name===g.default.StringToStringMap)if("object"===(void 0===i?"undefined":_(i))){var a=i.added,u=i.removed;"object"===(void 0===a?"undefined":_(a))&&"object"===(void 0===u?"undefined":_(u))?t._processVerbatim(i,r):t.processor.setValue(r,i)}else f.default.throwErr("CorruptInput");else o.isCollection()?(n=t._makeArray(i)).forEach((function(e){t._processVerbatim(e,r)})):t._isTagValueEmpty(i)?t.processor.setEmptyValue(r):t._processVerbatim(i,r)}else o.and(h.default.PrimitiveAny())&&(0===(n=t._makeArray(i)).length&&o.and(h.default.Primitive())&&t.processor.setEmptyValue(r),n.forEach((function(e){t.processor.setValue(r,e)})))},c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)u()}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}},{key:"stringAtKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&!e.hasOwnProperty(t))return"";var r=e[t];if(l.default.isString(r))return r;f.default.throwErr("CorruptInput")}},{key:"_isTagValueEmpty",value:function(e){return l.default.isUndefined(e)||null===e}},{key:"_makeArray",value:function(e){return l.default.isUndefined(e)||null===e?[]:l.default.isArray(e)?e:[e]}},{key:"_processVerbatim",value:function(e,t){var n=void 0;if(l.default.isBoolean(e))n=e?"true":"false";else if(l.default.isNumber(e))n=e.toString();else{if(!l.default.isString(e))return void this.processor.setVerbatimValue(t,e);n=e}this.processor.setValue(t,n)}},{key:"_parseIdentification",value:function(e){var t={};if(l.default.isObject(e)){for(var n=l.default.keys(e),r=n.length,i=0;i<r;++i)if(n[i]===y.default.ContentAttr||n[i]===y.default.DynamicContentAttr);else{if(n[i]!==y.default.TypeAttr){t.idType=y.default.convertFromDisambiguated(n[i]),t.id=e[n[i]];break}t.type=e[n[i]]}l.default.isEmpty(t.type)&&(t.type=this.stringAtKey(e,y.default.TypeAttr))}return t}},{key:"processDefaultValue",value:function(e){var t=new mf.zero.meta.ExtensionPrototype({name:this.stringAtKey(e,y.default.DynamicPropertyAttr),typeName:this.stringAtKey(e,y.default.TypeAttr)}),n=this.stringAtKey(e,y.default.OwnerAttr),r=e[y.default.UpperAttr];if(l.default.isUndefined(r)){var i=e[y.default.LowerAttr];i&&(t.upper=1,t.lower=i)}else{t.upper="*";var o=e[y.default.OrderedAttr];l.default.isUndefined(o)||(t.isOrdered=o);var a=e[y.default.UniqueAttr];l.default.isUndefined(a)||(t.isUnique=a)}var s=e[y.default.ValueAttr];if(l.default.isUndefined(s))this.processor.registerExtensionValue(n,t);else{var u=this.processor.customizer.getMetaClass(t.typeName);if(null===s)this.processor.registerExtension(n,t,null);else if(u.qualifiedName===g.default.Object||u.qualifiedName===g.default.JsonValue)this.processor.registerExtension(n,t,null);else if(u._isInstOfDataType())this.processElement(s,""),this.processor.registerExtensionWithLastParsedItem(n,t);else{var c=void 0;l.default.isBoolean(s)?c=s?"true":"false":l.default.isNumber(s)?c=s.toString():l.default.isString(s)&&(c=s),this.processor.registerExtension(n,t,c)}}}}]),e}(),k=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new d.default,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new m.default;return j(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),E(t,[{key:"parseString",value:function(e){this.parseVerbatim(JSON.parse(e))}},{key:"parseVerbatim",value:function(e,t){e.hasOwnProperty(y.default.VersionAttr)&&e.hasOwnProperty(y.default.EntriesAttr)||f.default.throwErr("CorruptInput");var n=new M(this.processor);if(this.processor.setVersion(n.stringAtKey(e,y.default.VersionAttr),t),e.hasOwnProperty(y.default.DefaultPackageAttr)&&this.processor.customizer.setUnqualifiedPackage(n.stringAtKey(e,y.default.DefaultPackageAttr)),e.hasOwnProperty(y.default.DefaultValuesAttr)){var r=e[y.default.DefaultValuesAttr];l.default.isArray(r)?r.forEach((function(e){return n.processDefaultValue(e)})):f.default.throwErr("CorruptInput")}var i=e[y.default.EntriesAttr];l.default.isArray(i)||(n.destroy(),f.default.throwErr("CorruptInput")),i.forEach((function(e){n.processElement(e,"")})),this.processor.processDeferred(),n.destroy()}},{key:"parseVerbatimEntries",value:function(e,t){var n={};n[y.default.VersionAttr]=t||"1.0",n[y.default.EntriesAttr]=e,this.parseVerbatim(n)}}]),t}(p.default);e.default=k}),e,t),e.exports=i},"mf0/io/JSONSerializer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/io/Serializer"]),n(n.dj.r.absMids["mf0/io/EventProcessor"]),n(n.dj.r.absMids["mf0/io/Visitor"]),n(n.dj.r.absMids["mf0/io/PropertyCategory"]),n(n.dj.r.absMids["mf0/io/JSONModelTraverser"]),n(n.dj.r.absMids["mf0/io/SerializeCustomizer"]),n(n.dj.r.absMids["mf0/io/JSONConstants"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/util/Err"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONEventProcessor=void 0;var f=w(t),d=w(n),h=w(r),p=w(i),m=w(o),y=w(a),g=w(s),v=w(u),b=w(c),_=w(l);function w(e){return e&&e.__esModule?e:{default:e}}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=e.JSONEventProcessor=function(e){function t(){E(this,t);var e=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.stack=[],e.isPrettyPrint=!1,e}return C(t,e),M(t,[{key:"preprocess",value:function(e){}},{key:"postprocess",value:function(e){var t=function(e){function t(e,n){E(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.value=e,r.isPrettyPrint=n,r}return C(t,e),M(t,[{key:"visitString",value:function(){return this.isPrettyPrint?JSON.stringify(this.value,null,2):JSON.stringify(this.value)}},{key:"visitIntermediateFormat",value:function(){return this.value}}]),t}(p.default);e.visitOutput(new t(this.stack[0]))}},{key:"startDocument",value:function(e,t){this.stack=[];var n={};n[v.default.VersionAttr]=e,f.default.isEmpty(t)||(n[v.default.DefaultPackageAttr]=t),this.stack.push(n),this.stack.push([])}},{key:"endDocument",value:function(){this.stack[0][v.default.EntriesAttr]=this.stack[1],this.stack.pop()}},{key:"startRegisteredPackages",value:function(){this.stack[0][v.default.PackagesAttr]=[]}},{key:"writeRegisteredPackage",value:function(e,t){this.stack[0][v.default.PackagesAttr].push(t)}},{key:"startObject",value:function(e,t,n,r){var i={};(i[v.default.TypeAttr]=t,f.default.isEmpty(n)||f.default.isEmpty(r))||(i[v.default.disambiguateIdAttribute(n)]=r);var o=f.default.last(this.stack);return null===o?(this.stack.pop(),this.stack.push(i)):o.push(i),this.stack.push({}),[m.default.All().bitMinus(m.default.Composition()),m.default.Composition()]}},{key:"endObject",value:function(e,t,n,r){var i=this.stack.pop(),o=f.default.last(this.stack),a=f.default.isArray(o)?f.default.last(o):o;f.default.has(a,v.default.ContentAttr)?a[v.default.DynamicContentAttr]=i:a[v.default.ContentAttr]=i}},{key:"valueToJson",value:function(e,t){if(t.name===b.default.StringToStringMap){var n="object"===j(e.added)&&"object"===j(e.removed),r=!!e.toString&&!!e.loadFromString;if(n||r||_.default.throwErr("CorruptInput"),n&&r&&_.default.throwErr("CorruptInput"),n)return e;if(r)return JSON.parse(e.toString())}return e}},{key:"writePrimitiveValue",value:function(e,t){f.default.last(this.stack)[e]=t}},{key:"writeEmptyPrimitiveValue",value:function(e){f.default.last(this.stack)[e]=null}},{key:"startPrimitiveEntryValues",value:function(e){this.startProperty(e)}},{key:"writePrimitiveEntryValue",value:function(e,t){f.default.last(this.stack).push(t)}},{key:"endPrimitiveEntryValues",value:function(e){this.endProperty(e)}},{key:"writeVerbatimValue",value:function(e,t,n){f.default.isUndefined(t)||(f.default.last(this.stack)[e]=this.valueToJson(t,n))}},{key:"startVerbatimEntryValues",value:function(e){this.startProperty(e)}},{key:"writeVerbatimEntryValue",value:function(e,t,n){f.default.last(this.stack).push(this.valueToJson(t,n))}},{key:"endVerbatimEntryValues",value:function(e){this.endProperty(e)}},{key:"writeEmptyDatatype",value:function(e,t){}},{key:"startDatatype",value:function(e,t){var n={};n[v.default.TypeAttr]=t,null===f.default.last(this.stack)?(this.stack.pop(),this.stack.push(n)):f.default.last(this.stack).push(n),this.stack.push({})}},{key:"endDatatype",value:function(e,t){var n=this.stack.pop(),r=f.default.last(this.stack);f.default.isArray(r)?f.default.last(r)[v.default.ContentAttr]=n:f.default.last(this.stack)[v.default.ContentAttr]=n}},{key:"writeReferenceValue",value:function(e,t,n,r){var i={};(i[v.default.TypeAttr]=t,f.default.isEmpty(n)||f.default.isEmpty(r))||(i[v.default.disambiguateIdAttribute(n)]=r);f.default.last(this.stack)[e]=i}},{key:"writeEmptyReferenceValue",value:function(e){f.default.last(this.stack)[e]=null}},{key:"startReferenceEntryValues",value:function(e){this.startProperty(e)}},{key:"writeReferenceEntryValue",value:function(e,t,n,r){var i={};(i[v.default.TypeAttr]=t,f.default.isEmpty(n)||f.default.isEmpty(r))||(i[v.default.disambiguateIdAttribute(n)]=r);f.default.last(this.stack).push(i)}},{key:"endReferenceEntryValues",value:function(e){this.endProperty(e)}},{key:"startContainment",value:function(e,t){t?this.stack.push([]):this.stack.push(null)}},{key:"endContainment",value:function(e,t){var n=this.stack.pop();f.default.last(this.stack)[e]=n}},{key:"startDatatypeValues",value:function(e,t){t?this.stack.push([]):this.stack.push(null)}},{key:"endDatatypeValues",value:function(e,t){var n=this.stack.pop();f.default.last(this.stack)[e]=n}},{key:"startProperty",value:function(e){this.stack.push([])}},{key:"endProperty",value:function(e){var t=this.stack.pop();f.default.last(this.stack)[e]=t}},{key:"startDynamicExtensions",value:function(){this.stack[0][v.default.DefaultValuesAttr]=[]}},{key:"writePrimitiveDynamicExtension",value:function(e,t,n){var r=this._createDynamicPropertyRepresentation(e,t);r[v.default.ValueAttr]=n,this.stack[0][v.default.DefaultValuesAttr].push(r)}},{key:"writeEmptyDynamicExtension",value:function(e,t){var n=this._createDynamicPropertyRepresentation(e,t);n[v.default.ValueAttr]=null,this.stack[0][v.default.DefaultValuesAttr].push(n)}},{key:"writeImplicitlyEmptyDynamicExtension",value:function(e,t){var n=this._createDynamicPropertyRepresentation(e,t);this.stack[0][v.default.DefaultValuesAttr].push(n)}},{key:"writeVerbatimDynamicExtension",value:function(e,t,n,r){n||this.writeEmptyDynamicExtension(e,t);var i=this._createDynamicPropertyRepresentation(e,t);i[v.default.ValueAttr]=this.valueToJson(n,r),this.stack[0][v.default.DefaultValuesAttr].push(i)}},{key:"startDataTypeDynamicExtension",value:function(e,t){var n=this._createDynamicPropertyRepresentation(e,t);n[v.default.TypeAttr]=t.typeName,this.stack.push(n),this.stack.push([])}},{key:"endDataTypeDynamicExtension",value:function(e,t){var n=this.stack.pop(),r=this.stack.pop(),i={};i[v.default.TypeAttr]=t.typeName,i[v.default.ContentAttr]=n,r[v.default.ValueAttr]=i,this.stack[0][v.default.DefaultValuesAttr].push(r)}},{key:"startDynamicOverrides",value:function(){var e=this.stack.pop(),t=f.default.last(this.stack);f.default.isArray(t)?f.default.last(t)[v.default.ContentAttr]=e:t[v.default.ContentAttr]=e,this.stack.push({})}},{key:"_createDynamicPropertyRepresentation",value:function(e,t){var n={};return n[v.default.DynamicPropertyAttr]=t.name,n[v.default.OwnerAttr]=e,n[v.default.TypeAttr]=t.typeName,t.upper>1?(n[v.default.UpperAttr]=v.default.UpperValueUnbounded,n[v.default.OrderedAttr]=t.isOrdered,n[v.default.UniqueAttr]=t.isUnique):n[v.default.LowerAttr]=t.lower,n}}]),t}(h.default),T=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new y.default,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new g.default("1.0");return E(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,new P))}return C(t,e),M(t,[{key:"isPrettyPrint",value:function(){return this.output.isPrettyPrint}},{key:"setPrettyPrint",value:function(e){this.output.isPrettyPrint=e}}]),t}(d.default);e.default=T}),e,t),e.exports=i},"mf0/io/ModelBuilder":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/meta/Registry"]),n(n.dj.r.absMids["mf0/TypeNames"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e){return e.identifierType+"_"+e.identifier}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(this,e),this.remapUuids=t,this.remappings={}}return s(e,[{key:"clearRemappings",value:function(){this.remappings={}}},{key:"instantiate",value:function(e,t,n){if(e._isInstOfDataType())return new(r.default.get(e.qualifiedName));var i=void 0;if(this.remapUuids||(i=n.getUuid()),!i){var o=e.instantiate(t);return this.remappings[u(n)]=o.uuid,o}return e.instantiate(t,i)}},{key:"clearObjectValue",value:function(e,t){e.getPropertyValue(t).clear()}},{key:"setValue",value:function(e,t,n,r){1==t.upper?t.type.name===i.default.StringToStringMap?e[t.name]._copyContents(Object.entries(n)):e.setPropertyValue(t,n):e.getPropertyValue(t).genericAdd(n,0===r?null:r)}},{key:"findReference",value:function(e,t){var n=this.remappings[u(t)];return n?e.findElement(n):e.findElement(t.getUuid())}}]),e}();e.default=c}),e,t),e.exports=i},"mf0/io/ModelTraverser":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/io/PropertyCategory"]),n(n.dj.r.absMids["mf0/TypeNames"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),o=s(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.freeze({ForceTransient:"ForceTransient",ForcePersisted:"ForcePersisted",Default:"Default"}),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.transientOverride={}}return u(e,[{key:"setTransientPropertyStatus",value:function(t,n){switch(n){case e.TransientStatus.ForcePersisted:this.transientOverride[t.uuid]=!1;break;case e.TransientStatus.ForceTransient:this.transientOverride[t.uuid]=!0;break;case e.TransientStatus.Default:delete this.transientOverride[t.uuid]}}},{key:"isPropertyTransient",value:function(e){var t=this.transientOverride[e.uuid];return!i.default.isUndefined(t)&&t||e.isTransient}},{key:"getPropertyCategory",value:function(e){return!e||e.isDerived||!e.type||e.opposite&&e.opposite.isComposite||this.isPropertyTransient(e)?o.default.Unknown():e.type._isInstOfClass()?e.isComposite?e.isSingleValued()?o.default.Composition():o.default.CompositionCollection():e.isSingleValued()?o.default.Association():o.default.AssociationCollection():e.type._isInstOfDataType()?e.isSingleValued()?o.default.Datatype():o.default.DatatypeCollection():e.isSingleValued()?o.default.Primitive():o.default.PrimitiveCollection()}},{key:"getProperties",value:function(e,t){var n=this,r=[],i=void 0;for(i=e;i&&i.qualifiedName!==a.default.ModelElement;i=i.superclass)i.ownedAttributes.forEach((function(e){n.getPropertyCategory(e).isA(t)&&r.push(e)}));return r}}],[{key:"TransientStatus",get:function(){return c}}]),e}();e.default=l}),e,t),e.exports=i},"mf0/io/PacketTransport":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/Log"]),n(n.dj.r.absMids["mf0/util/LogVerbosity"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(t),a=c(n),s=c(r),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=Object.freeze({Resolve:"Resolve",Reject:"Reject",Ignore:"Ignore",Wait:"Wait"}),d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.channel=t,this.packetPromise=null,this.resolve=null,this.reject=null,this.mode={},this.packetHandlers={},this.errorHandler=null,this.expectedPacketType=null,this.lastSentPacket=null,this.span=new s.default,this.span.addContext(u.info,"channel",this.channel),this.span.log(u.debug,"Transport created"),t.setReceiver((function(r){var i=n.span.createChild("packet");if(i.addContext(u.info,"packetType",r.type),i.addContext(u.debug,"packetContent",r),function(e,t){return!e.expectedPacketType||e.expectedPacketType===t.type}(n,r))if(n.expectedPacketType=null,n.hasPacketHandler(r.type))if(h(n,r))i.log(u.warning,"Dropping packet");else{var a=n.packetHandlers[r.type],s={packetIgnored:!1};i.log(u.debug,"handling packet");var c=a(r,s);o.default.when(c,(function(i){if(!s.packetIgnored){switch(function(e,t,n){if(e)return t[n.type];return null}(n.packetPromise,n.mode,r)){case e.PacketPromiseMode.Resolve:var o=n.resolve;n.packetPromise=null,n.resolve=null,n.reject=null,o();break;case e.PacketPromiseMode.Reject:n.reject()}i&&t.send(i)}}))}else i.log(u.warning,"No handler found");else n.errorHandler&&(i.log(u.warning,"Unexpected packet"),n.errorHandler(r,n.lastSentPacket,n.expectedPacketType))}))}return l(e,[{key:"sendPacket",value:function(e){this.channel||a.default.throwErr("NoChannel"),this.lastSentPacket=e,this.channel.send(this.lastSentPacket)}},{key:"sendAndReceivePacket",value:function(e){var t=this,n=this.packetPromise;return this.isWaitingForPromise()||(n=new Promise((function(e,n){t.resolve=e,t.reject=n})),this.packetPromise=n,this.sendPacket(e)),n}},{key:"sendAndExpectPacket",value:function(e,t){return this.expectedPacketType=t,this.sendAndReceivePacket(e)}},{key:"isWaitingForPromise",value:function(){return this.packetPromise&&this.resolve}},{key:"setPacketHandler",value:function(e,t,n){this.packetHandlers[e]=t,this.mode[e]=n}},{key:"setPacketHandlers",value:function(e){var t=this;e.forEach((function(e){t.setPacketHandler(e.packetType,e.handler,e.promiseMode)}))}},{key:"setErrorHandler",value:function(e){this.errorHandler=e}},{key:"hasPacketHandler",value:function(e){return Boolean(this.packetHandlers[e])}}],[{key:"createPacket",value:function(e,t,n){return{type:e,content:t,client:n}}},{key:"PacketPromiseMode",get:function(){return f}}]),e}();function h(e,t){return d.PacketPromiseMode.Wait===e.mode[t.type]&&e.isWaitingForPromise()}e.default=d}),e,t),e.exports=i},"mf0/io/ParseCustomizer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/meta/Registry"]),n(n.dj.r.absMids["mf0/meta/PropertySerializerRegistry"]),n(n.dj.r.absMids["mf0/io/PropertyCategory"]),n(n.dj.r.absMids["mf0/ModelElement"]),n(n.dj.r.absMids["performance/cache/simple-caches"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=d(t),c=(d(n),d(r)),l=d(i),f=d(o);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.unqualifiedPackage="",this.typeRenames=new Map,this.propertyRenames=new Map,this.registeredUpgrades={},this.idProcessors={},this.ignoredProperties=new Set,this.typeProvider=function(e){return c.default.getType(e)},this.metaPropertyCategoryCache=new s.SimpleFunctionCache}return h(e,[{key:"setVersion",value:function(e){var t=this.registeredUpgrades[e];t&&t(this)}},{key:"setPackageUri",value:function(e,t){var n=this.registeredUpgrades[t];n&&n(this)}},{key:"getMetaProperty",value:function(e,t){if(this.propertyRenames.size>0){var n=e.getAllSuperClasses(),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=this.propertyRenames.get(u);if(c&&c.get(t))return c.get(t)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}return e.getPropertyByName(t)}},{key:"getMetaPropertyCategory",value:function(e,t){var n=this,r=this.getMetaProperty(e,t);return this.metaPropertyCategoryCache.getOrEval(r,(function(){return!r||!r.type||r.opposite&&r.opposite.isComposite||n.ignoredProperties.has(r)?f.default.Unknown():n.getDefaultPropertyCategory(r)}))}},{key:"getMetaClass",value:function(e){var t=""!==this.unqualifiedPackage&&-1===e.indexOf(".")?this.unqualifiedPackage+"."+e:e;return this.typeRenames.size>0&&this.typeRenames.get(t)?this.typeRenames.get(t):this.typeProvider(e)}},{key:"parsePrimitiveValue",value:function(e,t,n){var r=void 0;if(l.default.forAllPropertySerializers(e,(function(i){try{return r=t?i.parseOptionalValue(n,e):i.parseValue(n,e),!1}catch(e){return!0}})),u.default.isUndefined(r)){var i=l.default.getDefaultPrimitiveSerializer();r=t?i.parseOptionalValue(n,e):i.parseValue(n,e)}return r}},{key:"findReference",value:function(e,t,n){for(var r=void 0,i=t;i&&i._isInstOfClass()&&!(0,a.isModelElement)(i);i=i.superclass){var o=this.idProcessors[i.qualifiedName];if(o){r=u.default.isFunction(o)?o(e,t,n):o.get(e,t,n);break}}if(r&&r.getMetaClass().isA(t))return r}},{key:"shallInstantiate",value:function(e,t,n){return!0}},{key:"shallAddReference",value:function(e,t,n,r,i){return!0}},{key:"setUnqualifiedPackage",value:function(e){this.unqualifiedPackage=e}},{key:"registerTypeRename",value:function(e,t){this.typeRenames.set(e,t)}},{key:"registerPropertyRename",value:function(e,t,n){this.propertyRenames.get(e)||this.propertyRenames.set(e,new Map),this.propertyRenames.get(e).set(t,n)}},{key:"registerVersionUpgrade",value:function(e,t){this.registeredUpgrades[e]=t}},{key:"registerIdentifierProcessor",value:function(e,t){this.idProcessors[e.qualifiedName]=t}},{key:"getExtensionCategory",value:function(e){return this.getDefaultPropertyCategory(e)}},{key:"getDefaultPropertyCategory",value:function(e){var t=void 0;return t=e.type._isInstOfClass()?e.isComposite?f.default.Composition():f.default.Association():e.type._isInstOfDataType()?f.default.Datatype():f.default.Primitive(),(e.upper>1||"*"===e.upper)&&t.setCollection(),t}},{key:"setTypeProvider",value:function(e){this.typeProvider=e}},{key:"ignoreProperty",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this.ignoredProperties.add(e):this.ignoredProperties.delete(e),this.metaPropertyCategoryCache.delete(e)}}]),e}();e.default=p}),e,t),e.exports=i},"mf0/io/ParseItem":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/UmlSemantics"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=t,this.isDynamicContent=!1}return n(e,[{key:"getMetaClass",value:function(){return this.item.getMetaClass()}},{key:"isModelElement",value:function(){var e=(0,t.isStructuredType)(this.item);return e&&e._isInstOfClass()}}]),e}();e.default=r}),e,t),e.exports=i},"mf0/io/ParseProcessor":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/io/ParseItem"]),n(n.dj.r.absMids["mf0/io/ElementId"]),n(n.dj.r.absMids["mf0/Model"])],i=n.dj.d(r,(function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=f(t),s=f(n),u=f(r),c=f(i),l=f(o);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(){function e(){d(this,e)}return h(e,[{key:"getInsertionPolicy",value:function(){return"Insert_Anywhere_Policy"}}]),e}(),m=function(){function e(){d(this,e),this.m_seenElements=new Set}return h(e,[{key:"getInsertionPolicy",value:function(e){return this.m_seenElements.has(e)?"Do_Not_Insert_Policy":(this.m_seenElements.add(e),this.m_seenElements.size-1)}}]),e}(),y=function(){function e(t,n){d(this,e),this.model=null,this.transaction=null,this.customizer=t,this.builder=n,this.stack=[],this.deferredReferences=[],this.createdTopLevelItems=[],this.inProgressIndicator=null,this.builder.clearRemappings()}return h(e,[{key:"setVersion",value:function(e,t){if(this.customizer.setVersion(e),!this.model){if(t)throw new Error("Provided transaction factory without model -- this will never work");this.model=new l.default}t||(t=this.model.getDefaultTransactionFactory()),this.createdTopLevelItems=[],this.transaction=t.beginRevertibleTransaction(),this.inProgressIndicator=(0,o.startParse)(this.model)}},{key:"push",value:function(e,t,n){if(this.customizer.shallInstantiate(e,t,n)){var r=this.customizer.getMetaClass(e);r||s.default.throwErr("NoSuchType",e);var i=this.builder.instantiate(r,this.model,new c.default(t,n));return i||s.default.throwErr("CannotInstantiateType",e),this.stack.push(new u.default(i))}}},{key:"pop",value:function(e){var t=this.stack.pop();if(0!==this.stack.length){var n=g(this,e);n||s.default.throwErr("NoSuchProperty",e,t.getMetaClass().qualifiedName);var r=t.item;this.builder.setValue(a.default.last(this.stack).item,n,r)}else this.createdTopLevelItems.push(t)}},{key:"addDeferredReference",value:function(e,t,n,r){var i=a.default.last(this.stack).item;if(this.customizer.shallAddReference(i,e,t,n,r)){var o=g(this,t);this.deferredReferences.push({parent:i,feature:o,expectedMetaclass:e,elementId:new c.default(n,r)})}}},{key:"setEmptyValue",value:function(e){var t=this.customizer.getMetaProperty(a.default.last(this.stack).getMetaClass(),e);t||s.default.throwErr("NoSuchProperty",e,a.default.last(this.stack).getMetaClass().qualifiedName),this.builder.setValue(a.default.last(this.stack).item,t,null)}},{key:"clearValues",value:function(e){var t=g(this,e);t&&(t.upper>"1"||"*"===t.upper?this.builder.clearObjectValue(a.default.last(this.stack).item,t):t.type._isInstOfClass()&&this.builder.setValue(a.default.last(this.stack).item,t,null))}},{key:"setValue",value:function(e,t){var n=g(this,e);n||s.default.throwErr("NoSuchProperty",e,a.default.last(this.stack).getMetaClass().qualifiedName);var r=this.customizer.parsePrimitiveValue(n.type,"0"==n.lower&&"1"==n.upper,t);this.builder.setValue(a.default.last(this.stack).item,n,r)}},{key:"setVerbatimValue",value:function(e,t){var n=g(this,e);n||s.default.throwErr("NoSuchProperty",e,a.default.last(this.stack).getMetaClass().qualifiedName),this.builder.setValue(a.default.last(this.stack).item,n,t)}},{key:"processDeferred",value:function(){var e=this;a.default.forEach(this.deferredReferences,(function(t){(t.feature.upper>"1"||"*"===t.feature.upper)&&e.builder.clearObjectValue(t.parent,t.feature)}));var t=null,n=null,r=void 0;a.default.forEach(this.deferredReferences,(function(i){var o=i.parent,a=i.feature;o===t&&a===n||(r=a.isOrdered&&a.opposite?new m:new p),t=o,n=a;var u=e.customizer.getMetaClass(i.expectedMetaclass),c=e.builder.findReference(e.model,i.elementId);c&&c.getMetaClass().isA(u)||(c=e.customizer.findReference(e.model,u,i.elementId)),c||s.default.throwErr("DanglingReference",i.elementId.identifier);var l=r.getInsertionPolicy(c.uuid);switch(l){case"Do_Not_Insert_Policy":break;case"Insert_Anywhere_Policy":e.builder.setValue(o,a,c);break;default:e.builder.setValue(o,a,c,l)}})),this.transaction&&this.transaction.commit()}},{key:"parseCompleted",value:function(){this.transaction=null,this.deferredReferences=[],this.customizer.typeRenames=new Map,this.customizer.propertyRenames=new Map,this.inProgressIndicator.destroy(),this.inProgressIndicator=null}},{key:"getPropertyCategory",value:function(e){var t=a.default.last(this.stack);return t.isDynamicContent?this.customizer.getExtensionCategory(g(this,e)):this.customizer.getMetaPropertyCategory(t.getMetaClass(),e)}},{key:"isEmpty",value:function(){return 0===this.stack.length}},{key:"registerExtension",value:function(e,t,n){var r=this.customizer.getMetaClass(t.typeName);if(r){var i=this.customizer.parsePrimitiveValue(r,!1,n);this.registerExtensionValue(e,t,i)}}},{key:"registerExtensionValue",value:function(e,t,n){var r=this.customizer.getMetaClass(e);if(r&&r._isInstOfClass()){var i=this.customizer.getMetaClass(t.typeName);if(i){var a=t.clone();a.typeName=i.qualifiedName;var u=this.model.getExtension(r,a.name);if(u)return u.type()!==i&&s.default.throwErr("ExtensionNameMustBeUnique"),void(u.upper>1?(a.upper<=1&&s.default.throwErr("ExtensionNameMustBeUnique"),u.isUnique()!==a.isUnique&&s.default.throwErr("ExtensionNameMustBeUnique"),u.isOrdered!==a.isOrdered()&&s.default.throwErr("ExtensionNameMustBeUnique")):(a.upper>1&&s.default.throwErr("ExtensionNameMustBeUnique"),u.lower!==a.lower&&s.default.throwErr("ExtensionNameMustBeUnique"),i._isInstOfClass()||(n||s.default.throwErr("ExtensionMustHaveDefaultValue"),n!==(0,o.getExtensionDefault)(this.model,r,a.name)&&s.default.throwErr("ExtensionNameMustBeUnique"))));this.model.extendMetaclass(r,t,n)}}}},{key:"registerExtensionWithLastParsedItem",value:function(e,t){var n=this.createdTopLevelItems.pop();n.isModelElement()&&s.default.throwErr("InvalidValue"),this.registerExtensionValue(e,t,n.item)}},{key:"startDynamicContent",value:function(){a.default.last(this.stack).isDynamicContent=!0}},{key:"getPropertyType",value:function(e){return g(this,e).type}}]),e}();function g(e,t){var n=a.default.last(e.stack);return n.isModelElement()&&n.isDynamicContent?e.model.getExtension(n.getMetaClass(),t):e.customizer.getMetaProperty(n.getMetaClass(),t)}e.default=y}),e,t),e.exports=i},"mf0/io/Parser":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/io/ParseProcessor"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.processor=new i.default(t,n)}return a(e,[{key:"setModel",value:function(e){this.processor.model=e}},{key:"getModel",value:function(){return this.processor.model}},{key:"getCreatedTopLevelItems",value:function(){return this.processor.createdTopLevelItems}},{key:"getCreatedRemappedUuids",value:function(){return this.processor.builder.remappings}},{key:"shouldRemapUuids",value:function(){return this.processor.builder.remapUuids}},{key:"setShouldRemapUuids",value:function(e){this.processor.builder.remapUuids=e}},{key:"getCustomizer",value:function(){return this.processor.customizer}},{key:"parseFile",value:function(){}},{key:"parseString",value:function(){r.default.throwErr("Implement")}}]),e}();e.default=s}),e,t),e.exports=i},"mf0/io/PropertyCategory":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=Object.freeze({Primitive:1,Datatype:2,Association:4,Composition:8,Verbatim:16,Collection:256,Custom:65536}),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flags=t}return t(e,[{key:"bitAdd",value:function(t){return new e(this.flags|t.flags)}},{key:"bitOr",value:function(e){return this.bitAdd(e)}},{key:"and",value:function(e){return 0!=(this.flags&e.flags)}},{key:"bitMinus",value:function(t){return new e(this.flags&~t.flags)}},{key:"isCollection",value:function(){return this.flags>=n.Collection&&this.flags<n.Custom}},{key:"isCustom",value:function(){return this.flags&n.Custom}},{key:"setCollection",value:function(){this.flags*=n.Collection}},{key:"isA",value:function(e){return 0!=(this.flags&e.flags)}}],[{key:"Unknown",value:function(){return new e(0)}},{key:"Primitive",value:function(){return new e(n.Primitive)}},{key:"PrimitiveCollection",value:function(){return new e(n.Primitive*n.Collection)}},{key:"PrimitiveAny",value:function(){return e.Primitive().bitOr(e.PrimitiveCollection())}},{key:"Datatype",value:function(){return new e(n.Datatype)}},{key:"DatatypeCollection",value:function(){return new e(n.Datatype*n.Collection)}},{key:"DatatypeAny",value:function(){return e.Datatype().bitOr(e.DatatypeCollection())}},{key:"Association",value:function(){return new e(n.Association)}},{key:"AssociationCollection",value:function(){return new e(n.Association*n.Collection)}},{key:"AssociationAny",value:function(){return e.Association().bitOr(e.AssociationCollection())}},{key:"Composition",value:function(){return new e(n.Composition)}},{key:"CompositionCollection",value:function(){return new e(n.Composition*n.Collection)}},{key:"CompositionAny",value:function(){return e.Composition().bitOr(e.CompositionCollection())}},{key:"Verbatim",value:function(){return new e(n.Verbatim)}},{key:"VerbatimCollection",value:function(){return new e(n.Verbatim*n.Collection)}},{key:"VerbatimCustom",value:function(){return new e(n.Verbatim|n.Custom)}},{key:"VerbatimAny",value:function(){return e.Verbatim().bitOr(e.VerbatimCollection()).bitOr(e.VerbatimCustom())}},{key:"All",value:function(){return new e(65535)}}]),e}();e.default=r}),e,t),e.exports=i},"mf0/io/SerializationOutput":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t(e,[{key:"visitOutput",value:function(e){this.accept(e)}},{key:"accept",value:function(e){}}]),e}();e.default=n}),e,t),e.exports=i},"mf0/io/SerializeCustomizer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/meta/PropertySerializerRegistry"]),n(n.dj.r.absMids["mf0/io/ElementId"]),n(n.dj.r.absMids["mf0/TypeNames"])],i=n.dj.d(r,(function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=f(t),s=f(n),u=f(r),c=f(i),l=f(o);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(){function e(){d(this,e),this.currentId=0,this.mapping={}}return h(e,[{key:"get",value:function(e,t){var n=this.mapping[e.uuid];return n||(n=this.mapping[e.uuid]=++this.currentId),new c.default(c.default.IntrinsicIdentifierType,n.toString())}}]),e}(),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d(this,e),this.version=t,this.customFlavors={},this.unqualifiedPackage="",this.knownPackages={},this.customIdProviders={},this.shouldSerializeExtensions=!0,this.elementFilter=void 0}return h(e,[{key:"getMetaTypeName",value:function(e){var t=e.owningPackage;if(!t)return e.name;var n=t.qualifiedName;return n===this.unqualifiedPackage?e.name:n+"."+e.name}},{key:"getMetaPropertyName",value:function(e){return e?e.name:""}},{key:"setPropertySerializerFlavor",value:function(e,t){this.customFlavors[e]=t}},{key:"formatPrimitiveValue",value:function(e,t){var n=this.getPrimitiveValueSerializer(e);return n?e.isOptional()&&e.isSingleValued()?n.serializeOptionalValue(t):n.serializeValue(t):""}},{key:"formatElementId",value:function(e,t){if(!e)return new c.default;if(!a.default.isEmpty(this.customIdProviders)&&e)for(var n=e.getMetaClass();n&&n._isInstOfClass();n=n.superclass){var r=this.customIdProviders[n.qualifiedName];if(r)return a.default.isFunction(r)?r(e,t):r.get(e,t);if(n.qualifiedName===l.default.ModelElement)break}return g(e,t)}},{key:"getPackageName",value:function(e){return e?e.qualifiedName:""}},{key:"getContainingPackageUri",value:function(e){for(var t=e.owningPackage;t;t=t.parentPackage)if(!a.default.isEmpty(t.uri))return t.uri}},{key:"setUnqualifiedPackage",value:function(e){this.unqualifiedPackage=e}},{key:"registerPackage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.knownPackages[e]=a.default.isEmpty(t)?e.uri:t}},{key:"unregisterPackage",value:function(e){delete this.knownPackages[e]}},{key:"unregisterAllPackages",value:function(){this.knownPackages={}}},{key:"getPackageUri",value:function(e){return this.knownPackages[e]||e.uri}},{key:"processRegisteredPackages",value:function(e){var t=this;a.default.forEach(this.knownPackages,(function(n,r){return e(t.getPackageName(r),n)}))}},{key:"registerCustomProvider",value:function(e,t){y(this,e,(function(e,n){return t(e,n)}))}},{key:"registerIdProperty",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments[2],i=mf.zero.meta.Class.metaClass;e||s.default.throwErr("InvalidSerializeIdentification",r?r.getMetaClass().qualifiedName:"?");var o=r||e.owningType;"1"==e.upper&&"1"==e.lower&&e.owningType&&e.owningType.getMetaClass().isA(i)&&e.type&&!e.type.getMetaClass().isA(i)&&this.getPrimitiveValueSerializer(e)||s.default.throwErr("InvalidSerializeIdentification",e.name+", "+o.qualifiedName),y(this,o,(function(r,i){if(n&&i===c.default.UsageMode.Definition)return new c.default;var o=t.getPrimitiveValueSerializer(e).serializeValue(r.getPropertyValue(e));return new c.default(t.getMetaPropertyName(e),o)}))}},{key:"registerSequenceBasedId",value:function(){y(this,mf.zero.ModelElement.metaClass,new p)}},{key:"useElementIdentifiers",value:function(e){y(this,mf.zero.ModelElement.metaClass,(function(t,n){var r=t.identifier();if(a.default.isEmpty(r)){if(e)return g(t,n);if(n!==c.default.UsageMode.Reference)return new c.default;s.default.throwErr("InvalidSerializeIdentification",t.getMetaClass().qualifiedName)}return new c.default(c.default.IntrinsicIdentifierType,r)}))}},{key:"getPrimitiveValueSerializer",value:function(e){if(e&&e.type){var t=this.customFlavors[e.type],n=u.default.getPropertySerializer(e.type,t);return n||(n=u.default.getDefaultPrimitiveSerializer()),n}}},{key:"shallSerializeElement",value:function(e,t){return!this.elementFilter||this.elementFilter(e,t)}},{key:"customizePropertyValue",value:function(e,t,n){s.default.throwErr("InvalidPropertyValueCustomizer")}}]),e}();function y(e,t,n){e.customIdProviders[t.qualifiedName]=n}function g(e,t){return new c.default(c.default.DefaultIdentifierType,e.uuid)}e.default=m}),e,t),e.exports=i},"mf0/io/Serializer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/io/PropertyCategory"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/io/ElementId"]),n(n.dj.r.absMids["mf0/Model"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=d(t),u=d(n),c=d(r),l=d(i),f=d(o);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(){function e(t){h(this,e),this.processor=t,this.processor.startRegisteredPackages()}return p(e,[{key:"destroy",value:function(){this.processor.endRegisteredPackages()}}]),e}(),y=function(){function e(t,n){var r=this;h(this,e),this.processor=t,this.customizer=n,this.processor.startDocument(n.version,n.unqualifiedPackage);var i=new m(t);n.processRegisteredPackages((function(e,t){return r.processor.writeRegisteredPackage(e,t)})),i.destroy()}return p(e,[{key:"destroy",value:function(){this.processor.endDocument(),this.customizer.unregisterAllPackages()}}]),e}(),g=function(){function e(t,n,r,i,o){h(this,e),this.processor=t,this.containerProperty=n,this.metaclass=r,this.idType=i,this.id=o,this.categories=this.processor.startObject(this.containerProperty,this.metaclass,this.idType,this.id)}return p(e,[{key:"destroy",value:function(){this.processor.endObject(this.containerProperty,this.metaclass,this.idType,this.id)}}]),e}(),v=function(){function e(t,n){h(this,e),this.processor=t,this.property=n,this.processor.startPrimitiveEntryValues(this.property)}return p(e,[{key:"destroy",value:function(){this.processor.endPrimitiveEntryValues(this.property)}}]),e}(),b=function(){function e(t,n){h(this,e),this.processor=t,this.property=n,this.processor.startVerbatimEntryValues(this.property)}return p(e,[{key:"destroy",value:function(){this.processor.endVerbatimEntryValues(this.property)}}]),e}(),_=function(){function e(t,n,r){h(this,e),this.processor=t,this.property=n,this.metaclass=r,this.processor.startDatatype(this.property,this.metaclass),this.categories=c.default.All()}return p(e,[{key:"destroy",value:function(){this.processor.endDatatype(this.property,this.metaclass)}}]),e}(),w=function(){function e(t,n,r){h(this,e),this.processor=t,this.property=n,this.isMulti=r,this.processor.startDatatypeValues(this.property,this.isMulti)}return p(e,[{key:"destroy",value:function(){this.processor.endDatatypeValues(this.property,this.isMulti)}}]),e}(),j=function(){function e(t,n){h(this,e),this.processor=t,this.property=n,this.processor.startReferenceEntryValues(this.property)}return p(e,[{key:"destroy",value:function(){this.processor.endReferenceEntryValues(this.property)}}]),e}(),E=function(){function e(t,n,r){h(this,e),this.processor=t,this.property=n,this.isMulti=r,this.processor.startContainment(this.property,this.isMulti)}return p(e,[{key:"destroy",value:function(){this.processor.endContainment(this.property,this.isMulti)}}]),e}(),M=function(){function e(t){h(this,e),this.processor=t,this.processor.startDynamicExtensions()}return p(e,[{key:"destroy",value:function(){this.processor.endDynamicExtensions()}}]),e}(),k=function(){function e(t,n,r){h(this,e),this.processor=t,this.key=n,this.prototype=r,this.processor.startDataTypeDynamicExtension(n,r)}return p(e,[{key:"destroy",value:function(){this.processor.endDataTypeDynamicExtension(this.key,this.prototype)}}]),e}(),C=function(){function e(t){h(this,e),this.processor=t,this.processor.startDynamicOverrides()}return p(e,[{key:"destroy",value:function(){this.processor.endDynamicOverrides()}}]),e}(),P=function(){function e(t,n,r){h(this,e),this.modelTraverser=t,this.customizer=n,this.output=r}return p(e,[{key:"serialize",value:function(e,t,n){var r=this;if(this.output.preprocess(t),e.getMetaClass){if(e.getMetaClass().qualifiedName===l.default.Model){e.getUsedPackages().forEach((function(e){return r.customizer.registerPackage(e)}));var i=new y(this.output,this.customizer);this.doSerializeModel(e),i.destroy()}else if(e.getMetaClass()._isInstOfDataType()){this.customizer.registerPackage((0,a.getPackage)(e));var o=new y(this.output,this.customizer);this.doSerializeElement(e),o.destroy()}else if(e.getMetaClass()._isInstOfClass()){this.customizer.registerPackage((0,a.getPackage)(e));var s=new y(this.output,this.customizer);this.processExtensionRegistrations(e.getModel()),this.doSerializeElement(e),s.destroy()}}else if(Array.isArray(e)){var u=e,c=new Set(u),f=new Set,d=u.filter((function(e){if(f.has(e))return!1;f.add(e);for(var t=e.containerOrModel;t;t=t.containerOrModel)if(c.has(t))return!1;return!0})),h=new y(this.output,this.customizer);this.doSerializeElements(d),h.destroy()}else{var p=new y(this.output,this.customizer);this.doSerializeValue(e,n),p.destroy()}this.output.postprocess(t)}},{key:"doSerializeModel",value:function(e){var t=this;this.processExtensionRegistrations(e),e.getTopLevelElements().forEach((function(e){return t.process(void 0,e)}))}},{key:"doSerializeElement",value:function(e){this.process(void 0,e)}},{key:"doSerializeElements",value:function(e){var t=e.map((function(e){return e&&e.getModel&&e.getModel()||void 0})).reduce((function(e,t){return e===t?e:void 0}));t&&this.processExtensionRegistrations(t);var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.process(void 0,s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}},{key:"doSerializeValue",value:function(e,t){var n=this;t.isSingleValued()?e&&this.process(void 0,e):e.forEach((function(e){return n.process(void 0,e)}))}},{key:"process",value:function(e,t){if(this.customizer.shallSerializeElement(t,f.default.UsageMode.Definition)){var n=t.getMetaClass(),r=void 0;if(s.default.isUndefined(t.uuid))r=new _(this.output,this.customizer.getMetaPropertyName(e),this.customizer.getMetaTypeName(n));else{var i=this.customizer.formatElementId(t,f.default.UsageMode.Definition);r=new g(this.output,this.customizer.getMetaPropertyName(e),this.customizer.getMetaTypeName(n),i.identifierType,i.identifier)}for(var o=void 0,a=void 0,u=s.default.isArray(r.categories)?r.categories:[r.categories],c=0,l=u.length;c<l;++c){a=u[c];for(var d=this.modelTraverser.getProperties(n,a),h=0,p=d.length;h<p;++h){var m=d[h];o=this.customizer.getMetaPropertyName(m);var y=void 0;(1==m.upper||t.hasPropertyValue(m))&&(y=t.getPropertyValue(m)),this.modelTraverser.getPropertyCategory(m).isCustom()&&(y=this.customizer.customizePropertyValue(t,m,y)),this.processProperty(m,o,y)}}if(t.listExtensionNamesWithNonDefaultValues){var v=[];t.listExtensionNamesWithNonDefaultValues((function(e){return v.push(e)}));var b=v.length;if(b>0){for(var w=new C(this.output),j=t.getModel(),E=0;E<b;++E){var M=v[E],k=j.getExtension(n,M);this.processProperty(k,k.name,t.getExtension(M))}w.destroy()}}r.destroy()}}},{key:"processProperty",value:function(e,t,n){var r=this,i=this.modelTraverser.getPropertyCategory(e);if(!i.isCollection()||n){if(i.and(c.default.PrimitiveAny()))i.isCollection()?this.writePrimitiveCollection(e,n):this.writePrimitiveValue(e,n);else if(i.and(c.default.VerbatimAny()))if(i.isCollection()){t=this.customizer.getMetaPropertyName(e);var o=new b(this.output,t);n.forEach((function(n){r.output.writeVerbatimEntryValue(t,n,e.type)})),o.destroy()}else this.output.writeVerbatimValue(this.customizer.getMetaPropertyName(e),n,e.type);else if(i.and(c.default.DatatypeAny())){var a=new w(this.output,this.customizer.getMetaPropertyName(e),i.isCollection());i.isCollection()?n.forEach((function(t){return r.process(e,t)})):n&&this.process(e,n),a.destroy()}else if(i.and(c.default.AssociationAny()))if(i.isCollection()){var u=new j(this.output,t);n.forEach((function(e){if(r.customizer.shallSerializeElement(e,f.default.UsageMode.Reference)&&e.isValid){var n=r.customizer.formatElementId(e,f.default.UsageMode.Reference);s.default.isEmpty(n.identifier)||r.output.writeReferenceEntryValue(t,r.customizer.getMetaTypeName(e.getMetaClass()),n.identifierType,n.identifier)}})),u.destroy()}else if(n&&n.isValid&&this.customizer.shallSerializeElement(n,f.default.UsageMode.Reference)){var l=this.customizer.formatElementId(n,f.default.UsageMode.Reference);s.default.isEmpty(l.identifier)||this.output.writeReferenceValue(t,this.customizer.getMetaTypeName(n.getMetaClass()),l.identifierType,l.identifier)}else this.output.writeEmptyReferenceValue(t);else if(i.and(c.default.CompositionAny())){var d=new E(this.output,t,i.isCollection());i.isCollection()?n.forEach((function(t){return r.process(e,t)})):n&&this.process(e,n),d.destroy()}}else this.writeEmptyCollection(e,i)}},{key:"writePrimitiveValue",value:function(e,t){var n=this.customizer.getMetaPropertyName(e),r=this.customizer.formatPrimitiveValue(e,t);null===r||s.default.isUndefined(r)?this.output.writeEmptyPrimitiveValue(n):this.output.writePrimitiveValue(n,r)}},{key:"writePrimitiveCollection",value:function(e,t){var n=this,r=this.customizer.getMetaPropertyName(e),i=new v(this.output,r);t.forEach((function(t){var i=n.customizer.formatPrimitiveValue(e,t);s.default.isUndefined(i)||n.output.writePrimitiveEntryValue(r,i)})),i.destroy()}},{key:"writeEmptyCollection",value:function(e,t){var n=this.customizer.getMetaPropertyName(e),r=void 0;if(t.isA(c.default.PrimitiveCollection())){if(!this.customizer.getPrimitiveValueSerializer(e))return;r=new v(this.output,n)}else t.isA(c.default.VerbatimAny())?r=new b(this.output,n):t.isA(c.default.DatatypeAny())?r=new w(this.output,n,!0):t.isA(c.default.AssociationAny())?r=new j(this.output,n):t.isA(c.default.CompositionAny())&&(r=new E(this.output,n,!0));r&&r.destroy()}},{key:"processExtensionRegistrations",value:function(e){var t=this;if(this.customizer.shouldSerializeExtensions){var n=new Map;if(e.listExtensions((function(e){var r=e.owner.owningClass,i={first:t.customizer.getMetaTypeName(r),second:e.name},o=e.createPrototype();o.typeName=t.customizer.getMetaTypeName(e.type);var a=n.get(i);a?o!==a.first&&u.default.throwErr("ExtensionNameMustBeUnique"):n.get(i)||n.set(i,{first:o,second:e})})),0!==n.size){for(var r=new M(this.output),i=Array.from(n.keys()),o=0,s=i.length;o<s;++o){var l=i[o],f=n.get(l),d=f.first,h=f.second,p=this.modelTraverser.getPropertyCategory(h);if(p.isCollection()||p.isA(c.default.AssociationAny().bitOr(c.default.CompositionAny())))this.output.writeImplicitlyEmptyDynamicExtension(l.first,f.first);else if(p.isA(c.default.Primitive())){var m=this.customizer.getPrimitiveValueSerializer(h);if(!m)continue;var y=(0,a.getExtensionDefault)(e,h.owner.owningClass,h.name),g=0==d.lower&&1==d.upper?m.serializeOptionalValue(y):m.serializeValue(y);g?this.output.writePrimitiveDynamicExtension(l.first,d,g):this.output.writeEmptyDynamicExtension(l.first,d)}else if(p.isA(c.default.Verbatim())){var v=(0,a.getExtensionDefault)(e,h.owner.owningClass,h.name);this.output.writeVerbatimDynamicExtension(l.first,d,v,h.type)}else if(p.isA(c.default.Datatype())){var b=(0,a.getExtensionDefault)(e,h.owner.owningClass,h.name);if(0==h.lower&&1==h.upper&&!b){this.output.writeEmptyDynamicExtension(l.first,d);continue}var _=new k(this.output,l.first,d);this.doSerializeElement(b),_.destroy()}}r.destroy()}}}}]),e}();e.default=P}),e,t),e.exports=i},"mf0/io/SynchronizationChannel":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/Mf0Err"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.receiver=null}return i(e,[{key:"send",value:function(e){r.default.throwErr("Implement")}},{key:"receive",value:function(e){this.receiver&&this.receiver(e)}},{key:"setReceiver",value:function(e){this.receiver=e}}]),e}();e.default=o}),e,t),e.exports=i},"mf0/io/Visitor":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t(e,[{key:"visitString",value:function(){}},{key:"visitIntermediateFormat",value:function(){}}]),e}();e.default=n}),e,t),e.exports=i},"mf0/meta":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={family:"meta",modelVersion:"20170713",packages:{mf:{packages:{zero:{classes:{ModelElement:{},Model:{}},primitiveTypes:{SynchronizationChannel:{},PacketTransport:{},MFModel:{}},enumerations:{TransactionResult:{literals:{Ignored:{},Committed:{},Reverted:{},CanceledNoRevert:{}}},CollectionKind:{literals:{Map:{},Multimap:{},Sequence:{},Set:{},SubsettedElementSet:{}}},ValueFlags:{literals:{OptionalPrimitive:{},Single:{},Sequence:{},Set:{},UnorderedSet:{},Map:{},UnorderedMap:{},MultiMap:{},UnorderedMultiMap:{},CustomMap:{}}}},packages:{io:{enumerations:{SyncMode:{literals:{Regular:{},Force:{}}}}},meta:{enumerations:{Language:{literals:{Unknown:{value:0},CPlusPlus:{value:1},JavaScript:{value:2}}}},dataTypes:{ExtensionPrototype:{properties:{isOrdered:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},isUnique:{type:"Boolean",lower:"1",upper:"1",defaultValue:!0},lower:{type:"UnlimitedNatural",lower:"1",upper:"1",defaultValue:0},upper:{type:"UnlimitedNatural",lower:"1",upper:"1",defaultValue:1},name:{type:"String",lower:"1",upper:"1"},typeName:{type:"String",lower:"1",upper:"1"}}},TransactionOrigin:{properties:{model:{type:"UUID",lower:"1",upper:"1",isOrdered:!0},language:{type:"Language",lower:"1",upper:"1",isOrdered:!0,defaultValue:"Unknown"},transactionId:{type:"UUID",lower:"1",upper:"1",isOrdered:!0},synchronizer:{type:"UUID",lower:"0",upper:"1",isOrdered:!0},transactionOrdinal:{type:"Integer",lower:"1",upper:"1",isOrdered:!0,isUnique:!0},transactionFactory:{type:"UUID",lower:"1",upper:"1",isOrdered:!0,isUnique:!0}}}},classes:{NamedElement:{properties:{name:{type:"String",lower:"1",upper:"1",defaultValue:""}}},Type:{properties:{owningPackage:{type:"Package",lower:"0",upper:"1"},qualifiedName:{type:"String",lower:"1",upper:"1",isDerived:!0,isReadOnly:!0}},superclass:"NamedElement"},TypedElement:{properties:{type:{type:"Type",lower:"1",upper:"1"},lower:{type:"UnlimitedNatural",lower:"1",upper:"1",defaultValue:0},upper:{type:"UnlimitedNatural",lower:"1",upper:"1",defaultValue:1}},superclass:"NamedElement"},Package:{properties:{uri:{type:"String",lower:"1",upper:"1"},ownedTypes:{type:"Type",lower:"0",upper:"*",opposite:"owningPackage",isComposite:!0,isSparse:!0,qualifiedBy:"name"},parentPackage:{type:"Package",lower:"0",upper:"1"},nestedPackages:{type:"Package",lower:"0",upper:"*",opposite:"parentPackage",isComposite:!0,isSparse:!0,qualifiedBy:"name"},qualifiedName:{type:"String",lower:"1",upper:"1",isDerived:!0,isReadOnly:!0},enumerations:{type:"Enum",lower:"0",upper:"*",subsets:"ownedTypes",isReadOnly:!0},classes:{type:"Class",lower:"0",upper:"*",subsets:"ownedTypes",isReadOnly:!0},dataTypes:{type:"DataType",lower:"0",upper:"*",subsets:"ownedTypes",isReadOnly:!0},primitiveTypes:{type:"PrimitiveType",lower:"0",upper:"*",subsets:"ownedTypes",isReadOnly:!0}},superclass:"NamedElement"},StructuredType:{properties:{superclass:{type:"StructuredType",lower:"0",upper:"1"},ownedAttributes:{type:"Property",lower:"0",upper:"*",opposite:"owningType",isComposite:!0,isSparse:!0,qualifiedBy:"name"},ownedOperations:{type:"Operation",lower:"0",upper:"*",opposite:"owningType",isComposite:!0,isSparse:!0,qualifiedBy:"name"}},superclass:"Type"},Operation:{properties:{argument:{type:"Argument",lower:"0",upper:"*",opposite:"operation",isUnique:!1,isOrdered:!0},owningType:{type:"StructuredType",lower:"0",upper:"1"}},superclass:"TypedElement"},Argument:{properties:{operation:{type:"Operation",lower:"1",upper:"1"}},superclass:"TypedElement"},Extension:{superclass:"Property",properties:{owner:{type:"DynamicExtensions",lower:"1",upper:"1",opposite:"extensions"}}},DynamicExtensions:{properties:{modelID:{type:"UUID",lower:"1",upper:"1"},extensions:{type:"Extension",lower:"0",upper:"*",isComposite:!0,qualifiedBy:"name"},owningClass:{type:"Class",lower:"1",upper:"1",opposite:"extensions"}}},Class:{superclass:"StructuredType",properties:{predestroyCheck:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1,isTransient:!0},extensions:{type:"DynamicExtensions",lower:"0",upper:"*",isComposite:!0,qualifiedBy:"modelID",isSparse:!0},isAbstract:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1}}},Property:{properties:{isTransient:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},isDerived:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},isComposite:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},isOrdered:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},isUnique:{type:"Boolean",lower:"1",upper:"1",defaultValue:!0},isSetOnce:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},isReadOnly:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},isSparse:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},isQualificationUnique:{type:"Boolean",lower:"1",upper:"1",defaultValue:!0},hasCustomSubsetsFilter:{type:"Boolean",lower:"1",upper:"1",defaultValue:!1},owningType:{type:"StructuredType",lower:"0",upper:"1"},opposite:{type:"Property",lower:"0",upper:"1"},qualifiedBy:{type:"Property",lower:"0",upper:"1"},subsets:{type:"Property",lower:"0",upper:"1"}},superclass:"TypedElement"},Enum:{properties:{literals:{type:"EnumLiteral",lower:"0",upper:"*",opposite:"parentEnum",isComposite:!0,isSparse:!0,qualifiedBy:"name"}},superclass:"Type"},EnumLiteral:{properties:{value:{type:"Integer",lower:"1",upper:"1"},parentEnum:{type:"Enum",lower:"0",upper:"1"}},superclass:"NamedElement"},PrimitiveType:{superclass:"Type"},DataType:{superclass:"StructuredType"},Attribute:{isAbstract:!0,properties:{key:{type:"String",lower:"1",upper:"1"},type:{type:"Type",lower:"0",upper:"1",isDerived:!0},owner:{type:"AttributeMap",lower:"0",upper:"1",opposite:"attributes"}}},AttributeMap:{properties:{owner:{type:"mf.zero.ModelElement",lower:"0",upper:"1",isDerived:!0,isReadOnly:!0},attributes:{type:"Attribute",lower:"0",upper:"*",isComposite:!0,isSparse:!0,qualifiedBy:"key"}}}}}}}}}},primitiveTypes:{Boolean:{generateAttribute:!0},String:{generateAttribute:!0},StdString:{generateAttribute:!0},Integer:{generateAttribute:!0},Integer8:{generateAttribute:!0},Integer16:{generateAttribute:!0},Integer64:{generateAttribute:!0},UInteger8:{generateAttribute:!0},UInteger16:{generateAttribute:!0},UInteger64:{generateAttribute:!0},Real:{generateAttribute:!0},UnlimitedNatural:{generateAttribute:!0},DateTime:{generateAttribute:!0},UUID:{generateAttribute:!0},Object:{generateAttribute:!0},JsonValue:{generateAttribute:!0},MxArray:{generateAttribute:!1},StringToStringMap:{generateAttribute:!1}}}}),e,t),e.exports=i},"mf0/meta/DataModelUsageProvider":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/Mf0Err"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"getUsedPackageUris",value:function(){r.default.throwErr("Implement")}},{key:"elementCreated",value:function(e){}},{key:"elementDestroying",value:function(e){}},{key:"clear",value:function(){}}]),e}();e.default=o}),e,t),e.exports=i},"mf0/meta/DefaultPropertySerializer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/meta/PropertySerializer"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"serializeOptionalValue",value:function(e){if(!r.default.isUndefined(e))return this._doSerializeValue(e)}},{key:"serializeValue",value:function(e){return this._doSerializeValue(e)}},{key:"parseValue",value:function(e,t){return this._doParseValue(e,t)}},{key:"parseOptionalValue",value:function(e,t){return this._doParseValue(e,t)}},{key:"_doSerializeValue",value:function(e){}},{key:"_doParseValue",value:function(e){}}]),t}(i.default);e.default=s}),e,t),e.exports=i},"mf0/meta/Event":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeferredEventInvocation=e.EventRegistration=void 0;var r=i(t);i(n);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e.EventRegistration=function(){function e(t){a(this,e),this.m_event=t,this.m_uuid=r.default.generateRandomUuid()}return s(e,[{key:"cancel",value:function(){delete this.m_event.m_handlers[this.m_uuid]}}]),e}(),c=e.DeferredEventInvocation=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];a(this,e),this.name=t.m_name,this.source=t.m_element,this.args=r,this.invoker=function(){f(t,r)},this.serializer=function(){}},l=function(){function e(t,n,r){a(this,e),this.m_name=n,this.m_element=t,this.m_argDefinitions=r,this.m_handlers={}}return s(e,[{key:"registerHandler",value:function(e){var t=new u(this);return this.m_handlers[t.m_uuid]=e,t}},{key:"emit",value:function(){for(var e=this.m_element.getModel().beginRevertibleTransaction(),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.eventEmitted(new(Function.prototype.bind.apply(c,[null].concat([this],n)))),e.commit()}}]),e}();function f(e,t){var n=e.m_element;if(n.isValid){var i=!0,a=!1,s=void 0;try{for(var u,c=r.default.values(e.m_handlers)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){u.value.apply(void 0,[n].concat(o(t)))}}catch(e){a=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}e.default=l}),e,t),e.exports=i},"mf0/meta/ExtendAttributeMap":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/meta/RegistryTypes"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};e.default={insert:function(e){this.attributes.insert(e)},emplace:function(e,t,n){-1===(e+="Attribute").indexOf(".")&&(e="mf.zero.meta."+e);var i=r.default.create(e,this.getModel());return i.key=t,i.value=n,this.insert(i),i},at:function(e){return this.attributes.at(e)},eraseValue:function(e){this.attributes.eraseValue(e)},erase:function(e){this.attributes.erase(e)},removeValue:function(e){var t=this.attributes.find(e);t&&this.remove(t)},remove:function(e){var t=this.attributes.at(e);t&&t.destroy()},size:function(){return this.attributes.size()},getOwner:function(){return this.containerOrModel}}}),e,t),e.exports=i},"mf0/meta/ExtendClass":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/meta/RegistryTypes"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={instantiate:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.instantiate.apply(void 0,[this].concat(n))}}}),e,t),e.exports=i},"mf0/meta/ExtendEnumLiteral":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={identifier:function(){return this._identifier},__init:function(){this._identifier=(this.parentEnum?this.parentEnum.qualifiedName+".":"")+this.name}}}),e,t),e.exports=i},"mf0/meta/ExtendExtension":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={createPrototype:function(){var e=new mf.zero.meta.ExtensionPrototype;return e.isOrdered=this.isOrdered,e.isUnique=this.isUnique,e.name=this.name,e.typeName=this.type.qualifiedName,e.lower=this.lower,e.upper=this.upper,e}}}),e,t),e.exports=i},"mf0/meta/ExtendPackage":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["performance/utils/function"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={identifier:function(){return this.qualifiedName},__init:function(){var e=this;this.getQualifiedName=(0,t.useOnce)((function(){var t=e.parentPackage;if(!t)return e.name;var n=t.qualifiedName;return n?n+"."+e.name:e.name}))}}}),e,t),e.exports=i},"mf0/meta/ExtendProperty":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/UmlSemantics"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/meta/RegistryTypes"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["performance/utils/function"])],i=n.dj.d(r,(function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c(n),s=c(r),u=c(i);function c(e){return e&&e.__esModule?e:{default:e}}e.default={initialize:function(e){this.type=s.default.getType(e.type),e.type&&!this.type&&a.default.throwErr("NoSuchType ",e.type),this.isTransient=e.isTransient||this.type.qualifiedName===u.default.MxArray||!1,this.isDerived=e.isDerived||!1,this.hasCustomSubsetsFilter=e.hasCustomSubsetsFilter||!1,this.isComposite=e.isComposite||e.isPrimitive||e.isDataType||this.type._isInstOfPrimitiveType()||this.type._isInstOfDataType()||!1,this.isOrdered=e.isOrdered||!1,this.isUnique=void 0===e.isUnique||e.isUnique,this.isSetOnce=e.isSetOnce||!1,this.isReadOnly=e.isReadOnly||!1,this.isSparse=e.isSparse||!1,this.isQualificationUnique=void 0===e.isQualificationUnique||e.isQualificationUnique,this.lower=e.lower||0,this.upper=e.upper||1,e.opposite&&(this.opposite=s.default.getMetaElement(e.opposite.fqn),this.isComposite&&this.opposite.isComposite&&a.default.throwErr("CannotBeComposite")),e.qualifiedBy&&(this.qualifiedBy=s.default.getMetaElement(e.qualifiedBy.fqn)),e.subsets&&(this.subsets=s.default.getMetaElement(e.subsets.fqn))},__init:function(){var e=this;this.isSingleValued=(0,o.useOnce)((function(){return(0,t.isSingleValued)(e.upper)})),this.isOptional=(0,o.useOnce)((function(){return(0,t.isOptional)(e.lower)})),this.isAssociation=(0,o.useOnce)((function(){return(0,t.isAssociation)(e.type.qualifiedName)})),this.isSingleValuedAssociation=(0,o.useOnce)((function(){return(0,t.isSingleValuedAssociation)(e.type.qualifiedName,e.upper)})),this.isMultiValuedAssociation=(0,o.useOnce)((function(){return(0,t.isMultiValuedAssociation)(e.type.qualifiedName,e.upper)})),this.isContainment=(0,o.useOnce)((function(){return e.isAssociation()&&e.isComposite})),this.isContainer=(0,o.useOnce)((function(){return e.isAssociation()&&e.opposite&&e.opposite.isContainment()})),this.isPrimitiveType=(0,o.useOnce)((function(){return(0,t.isPrimitiveType)(e.type.qualifiedName)})),this.isEnumeration=(0,o.useOnce)((function(){return(0,t.isEnumeration)(e.type.qualifiedName)})),this.isDataType=(0,o.useOnce)((function(){return(0,t.isDataType)(e.type.qualifiedName)})),this.isPrimitiveProperty=(0,o.useOnce)((function(){return e.isPrimitiveType()||e.isEnumeration()})),this.get_PropName=(0,o.useOnce)((function(){return"_"+e.name})),this.identifier=(0,o.useOnce)((function(){return(e.owningType?e.owningType.qualifiedName+".":"")+e.name}))}}}),e,t),e.exports=i},"mf0/meta/ExtendStructuredType":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/ModelElement"]),n(n.dj.r.absMids["performance/utils/function"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={__init:function(){var e=this;this.getAllSuperClasses=(0,n.useOnce)((function(){for(var n=[],r=e;r&&!(0,t.isModelElement)(r);r=r.superclass)n.push(r);return Object.freeze(n),n})),this.getAllAttributes=(0,n.useOnce)((function(){var t={},n=e.getAllSuperClasses(),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.ownedAttributes.forEach((function(e){t[e.name]=e}))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return Object.freeze(t),t})),this.getEmptyAttributesTemplate=(0,n.useOnce)((function(){var t={},n=e.getAllAttributes();for(var r in n)t[r]=null;return Object.freeze(t),t})),this.getPropertyByName=(0,n.useMemoize)((function(t){var n=e.getAllSuperClasses(),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value.ownedAttributes.at(t);if(u)return u}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}})),this.getOperationByName=(0,n.useMemoize)((function(t){var n=e.getAllSuperClasses(),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value.ownedOperations.at(t);if(u)return u}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}})),this.isA=(0,n.useMemoize)((function(n){return!!n&&(!(n!==e&&!(0,t.isModelElement)(n))||!(!e.superclass||(0,t.isModelElement)(e.superclass))&&e.superclass.isA(n))}))}}}),e,t),e.exports=i},"mf0/meta/ExtendType":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["performance/utils/function"]),n(n.dj.r.absMids["lodash/lodash.min"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r;(r=n)&&r.__esModule;e.default={identifier:function(){return this.qualifiedName},__init:function(){var e=this;this.getQualifiedName=(0,t.useConditionalOnce)((function(){return e.owningPackage}),(function(t){if(!t)return e.name;var n=t.qualifiedName;return n?n+"."+e.name:e.name})),this.getRootPackage=(0,t.useOnce)((function(){for(var t=e.owningPackage;;){var n=t.parentPackage;if(!n)return t;t=n}}))},jasmineToString:function(){return this.getQualifiedName()}}}),e,t),e.exports=i},"mf0/meta/Loader":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["object-hash/object_hash"]),n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/meta"]),n(n.dj.r.absMids["mf0/util/UmlSyntax"]),n(n.dj.r.absMids["mf0/util/UmlSemantics"]),n(n.dj.r.absMids["mf0/meta/ExtendProperty"]),n(n.dj.r.absMids["mf0/meta/ExtendStructuredType"]),n(n.dj.r.absMids["mf0/meta/ExtendClass"]),n(n.dj.r.absMids["mf0/meta/ExtendPackage"]),n(n.dj.r.absMids["mf0/meta/ExtendEnumLiteral"]),n(n.dj.r.absMids["mf0/meta/ExtendType"]),n(n.dj.r.absMids["mf0/meta/ExtendExtension"]),n(n.dj.r.absMids["mf0/meta/ExtendAttributeMap"]),n(n.dj.r.absMids["mf0/Instantiable"]),n(n.dj.r.absMids["mf0/meta/RegistryCore"]),n(n.dj.r.absMids["mf0/meta/PropertySerializerRegistry"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/Model"]),n(n.dj.r.absMids["mf0/ModelElement"]),n(n.dj.r.absMids["performance/utils/function"]),n(n.dj.r.absMids["performance/cache/simple-caches"]),n(n.dj.r.absMids["mf0/Mixable"]),n(n.dj.r.absMids["mf0/meta/Event"]),n(n.dj.r.absMids["mf0/KnownOriginTransactionFactory"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l,f,d,h,p,m,y,g,v,b,_,w,j,E,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});B(t);var C=B(n),P=B(r),T=B(i),S=B(s),x=B(u),O=B(c),A=B(l),R=B(f),D=B(d),I=B(h),N=B(p),U=B(m),L=B(y),F=B(v),q=B(_),z=B(M),V=B(k);function B(e){return e&&e.__esModule?e:{default:e}}var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G=null,$={},Y=new j.SimpleFunctionCache;function Q(e){if(!e)return new Date(0);if("now"===e)return new Date;var t=new Date(e);return isNaN(t)&&P.default.throwErr("InvalidDateTimeDefaultValue",e),t}function Z(){if(G)return G;L.default.registerConstructor("DateTime",Q),ce.extendClass(F.default.Property,S.default),ce.extendClass(F.default.StructuredType,x.default),ce.extendClass(F.default.Class,O.default),ce.extendClass(F.default.Package,A.default),ce.extendClass(F.default.EnumLiteral,R.default),ce.extendClass(F.default.Type,D.default),ce.extendClass(F.default.Extension,I.default),ce.extendClass(F.default.AttributeMap,N.default);var e=ce.loadDefinitionInBootstrap(T.default);return(0,g.initialize)(),G=e}function ee(e){e.superclass&&P.default.throwErr("DataTypeSuperclass");var t=e.properties?Object.values(e.properties):[],n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u.initializer=(0,a.makePropertyInitializer)(u)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return function(n){function r(e){W(this,r);var n=J(this,(r.__proto__||Object.getPrototypeOf(r)).call(this)),i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.initializer.call(n)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return oe(n,e),n.getMetaClass(),n.__isSealed=!1,Object.seal(n),n}return X(r,n),K(r,[{key:"clone",value:function(){var t=e.fqn,n=new(L.default.get(t)),r=!0,i=!1,o=void 0;try{for(var a,s=Object.values(L.default.getType(t).getAllAttributes())[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;n[u.name]=u.isDataType()?this[u.name]&&this[u.name].clone():this[u.name]}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}},{key:"getMetaClass",value:function(){return(0,w.constConditionalEvalOnce)(this,"getMetaClass",(function(){return L.default.getType(e.fqn)}),(function(e){return e&&H(r.prototype,{getMetaClass:function(){return e}}),e}))}}]),r}(U.default)}function te(e){var t=e.properties?Object.values(e.properties):[],n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u.subsets?u.initializer=(0,a.makeSubsettedPropertyInitializer)(u):u.initializer=(0,a.makePropertyInitializer)(u)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}var c=L.default.get(e.superclass);return void 0===c&&console.warn("Undefined superclass. This is likely to fail",e.superclass),function(n){function r(n,i,o){W(this,r);var a=void 0,s=void 0,u=void 0;C.default.isString(i)?a=i:C.default.isObject(i)&&(a=(s=i).uuid,u=n.beginRevertibleTransaction());try{var c=J(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n,a,!0));e.isAbstract&&c.constructor===r&&P.default.throwErr("CannotInstantiateAbstract",e.name);var l=!0,f=!1,d=void 0;try{for(var h,p=t[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){h.value.initializer.call(c)}}catch(e){f=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(f)throw d}}if(e.events){var m=!0,y=!1,g=void 0;try{for(var v,b=Object.keys(e.events)[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var _=v.value,j=e.events[_];c[_]=new z.default(c,_,j.parameters)}}catch(e){y=!0,g=e}finally{try{!m&&b.return&&b.return()}finally{if(y)throw g}}}oe(c,s),u&&u.commit()}catch(e){throw u&&u.cancel(),e}return e.isAttributeClass&&(c.getType=(0,w.useConditionalOnce)((function(){return L.default.getType(e.properties.value.type)}))),c.getMetaClass=c.getMetaClass.bind(c),o||Object.seal(c),c}return X(r,n),K(r,[{key:"getMetaClass",value:function(){return(0,w.constConditionalEvalOnce)(this,"getMetaClass",(function(){return L.default.getType(e.fqn)}),(function(e){return e&&H(r.prototype,{getMetaClass:function(){return e}}),e}))}}]),r}(c)}function ne(e,t){var n=t.fqn,r=F.default.ModelElement===n?q.default:e(t);L.default.registerConstructor(n,r),Object.defineProperty(r,"metaClass",{get:function(){return L.default.getType(n)}}),ce.extendClass(n),C.default.forEach(t.properties,C.default.partial(re,r,t)),C.default.forEach(t.propertiesInherited,C.default.partial(ie,r,t))}function re(e,t,n,r){Object.defineProperty(e.prototype,r,{configurable:!0,enumerable:!0,get:(0,a.makeGetter)(n,r),set:(0,a.makeSetter)(t,n,r)})}function ie(e,t,n,r){(0,a.isPrimitiveType)(n.type,n.isPrimitive)&&(0,a.isSingleValued)(n.upper)&&(0,a.isKeyIn)(n,t)&&Object.defineProperty(e.prototype,r,{configurable:!0,enumerable:!0,get:(0,a.makeGetter)(n,r),set:(0,a.makeSetter)(t,n,r)})}function oe(e,t){if(t){var n=e.getMetaClass().getAllAttributes();C.default.forEach(t,(function(t,r){var i=n[r];if(i)if(i.isSingleValued())e.setPropertyValue(i,ae(e,i,t));else{var o=e.getPropertyValue(i);o.clear(),t.forEach||P.default.throwErr("CannotInitializeCollection",r),t.forEach((function(t){return o.genericAdd(ae(e,i,t))}))}}))}}function ae(e,t,n){if(t.isAssociation()){var r=(0,a.isStructuredType)(n);if(t.isComposite){C.default.isObject(n)&&!r||P.default.throwErr("InitializerMustBeObject");var i=t.type,o=n.type;if(o){C.default.isString(o)||P.default.throwErr("TypeNameMustBeString");var s=L.default.getType(o);s||P.default.throwErr("NoSuchType",o),s.isA(i)||P.default.throwErr("MustBeSubclass",o,i.qualifiedName),i=s}return i.instantiate(e.getModel(),C.default.omit(n,["type"]))}r||P.default.throwErr("AssociationInitializer")}else if(t.isDataType())return new(L.default.get(t.type.qualifiedName))(n);return n}function se(e){function t(e,t,n){for(var r=t[e]||{},i=Object.keys(r),o=0,a=i.length;o<a;++o)L.default.getType(r[i[o]].fqn).owningPackage=n}(0,o.processPackages)(e,(function(n,r){var i=L.default.getPackage(r.uri);!function(t,n){n.parentPackage||(n.parentPackage=L.default.getPackage(e.uri));for(var r=t.packages||{},i=Object.keys(r),o=0,a=i.length;o<a;++o)L.default.getPackage(r[i[o]].uri).parentPackage=n}(r,i),t("primitiveTypes",r,i),t("dataTypes",r,i),t("enumerations",r,i),t("classes",r,i)}),(function(t,n){var r=L.default.getType(n.fqn);r.owningPackage||(r.owningPackage=L.default.getPackage(e.uri))}),C.default.noop,C.default.noop,(function(e,t){L.default.getMetaElement(t.fqn).parentEnum=L.default.getType(e)}),C.default.noop,(function(e,t){L.default.getMetaElement(t.fqn).owningType=L.default.getType(e)}),(function(e,t){L.default.getMetaElement(t.fqn).owningType=L.default.getType(e)}))}function ue(e,t){var n=L.default.getMetaRegistryModel();t=t||n.getDefaultTransactionFactory();var r=(0,o.resolveInfo)(e);return Y.getOrEval(r.uri,(function(){e=C.default.cloneDeep(e),(0,o.resolve)(e,r);var n=(0,b._startMetaRegistryModification)(),i=t.beginTransaction();return function(e){C.default.forEach((0,o.select)(e,"enumerations"),(function(e){var t=(0,o.setLiteralValues)(e),n=e.fqn,r={},i={},a=function(){};a.prototype.getDefaultValue=function(){return t},a.prototype.getMetaClass=function(){return L.default.getType(n)},a.prototype.getItem=function(e){return C.default.isNumber(e)?r[e]:C.default.isString(e)?i[e]:void 0};var s=new a;C.default.forEach(e.literals,(function(t,n){var o=function(e,t,n){this.literal=e,this.value=t,this.type=n};o.prototype.getTypeName=function(){return this.type},o.prototype.getType=function(){return L.default.getType(this.type)},o.prototype.toString=function(){return this.literal};var a=Object.freeze(new o(n,t.value,e.fqn));r[t.value]=a,i[n]=a,s[n]=a})),L.default.addEnumeration(e.fqn,Object.freeze(s))}))}(e),function(e){C.default.forEach((0,o.select)(e,"dataTypes"),C.default.partial(ne,ee))}(e),function(e){C.default.forEach((0,o.getTopoSorted)(e),C.default.partial(ne,te))}(e),function(e){var t=L.default.getMetaRegistryModel();function n(e,n){var r=L.default.create(e,t);return r.name=n,r}function r(e,t,r){var i=n(F.default.Package,r);return i.uri=t.uri,L.default.registerPackage(i)}function i(e,t,r,i){return L.default.addMetaElement(r.fqn,n(e,i))}function s(e,t,r,i){var o=n(e,i);return L.default.registerType(o,r.fqn)}r(0,{fqn:"",uri:e.uri},""),(0,o.processPackages)(e,r,C.default.partial(s,F.default.PrimitiveType),C.default.partial(s,F.default.DataType),C.default.partial(s,F.default.Enum),C.default.partial(i,F.default.EnumLiteral),C.default.partial(s,F.default.Class),C.default.partial(i,F.default.Property),(function(e,t,r){var o=i(F.default.Operation,0,t,r);C.default.forEach(t.parameters,(function(e){var t=n(F.default.Argument,e.name);t.lower=e.lower,t.upper=(0,a.isSingleValued)(e.upper)?1:-1,t.operation=o}))}))}(e),function(e){function t(e,t){L.default.getType(t.fqn).superclass=L.default.getType(t.superclass)}(0,o.processPackages)(e,C.default.noop,C.default.noop,t,C.default.noop,(function(e,t){L.default.getMetaElement(t.fqn).value=C.default.getObject(t.fqn)}),(function(e,n){t(0,n);var r=L.default.getType(n.fqn);r.predestroyCheck=n.predestroyCheck||!1,r.isAbstract=n.isAbstract||!1}),(function(e,t){L.default.getMetaElement(t.fqn).initialize(t)}),(function(e,t){for(var n=L.default.getMetaElement(t.fqn),r=0;r<t.parameters.length;++r)n.argument.at(r).type=L.default.getType(t.parameters[r].type)}))}(e),se(e),i.commit(),n.destroy(),L.default.getPackage(e.uri)}))}var ce=function(){function e(){W(this,e)}return K(e,null,[{key:"promiseLoad",value:function(t){return C.default.isArray(t)?Promise.resolve(e.loadDefinitions(t)):C.default.isString(t)?e.loadDefinitionFromUri(t):Promise.resolve(e.loadDefinition(t))}},{key:"loadDefinitions",value:function(t){return C.default.isEmpty(t)?Z():(0,o.topoSortDataDefinitions)(t).map(e.loadDefinition)}},{key:"loadDefinitionFromUri",value:function(t){return C.default.loadJSON(t).then((function(e){return JSON.parse(e)})).then(e.loadDefinition)}},{key:"loadDefinitionInBootstrap",value:function(e){var t=L.default.getMetaRegistryModel(),n={model:t.modelID,language:{literal:"JavaScript",value:2,type:"mf.zero.meta.Language"},transactionId:C.default.generateRandomUuid()};return ue(e,new V.default(t,n))}},{key:"loadDefinition",value:function(e){var t=Z();return e?ue(e):t}},{key:"extendClass",value:function(e,t){var n=L.default.get(e);if(n){var r=C.default.extend($[e]||{},t||{});return delete $[e],(0,E.mixIn)(n,r)}return $[e]=C.default.extend($[e]||{},t),n}}]),e}();e.default=ce}),e,t),e.exports=i},"mf0/meta/PropertySerializer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/Mf0Err"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"serializeOptionalValue",value:function(e){r.default.throwErr("Implement")}},{key:"serializeValue",value:function(e){r.default.throwErr("Implement")}},{key:"parseValue",value:function(e,t){r.default.throwErr("Implement")}},{key:"parseOptionalValue",value:function(e,t){r.default.throwErr("Implement")}}]),e}();e.default=o}),e,t),e.exports=i},"mf0/meta/PropertySerializerRegistry":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/meta/DefaultPropertySerializer"]),n(n.dj.r.absMids["mf0/meta/RegistryTypes"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/collections/StringToStringMap"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=function(){S.registerPropertySerializer(l.default.getType(f.default.Boolean),new M),S.registerPropertySerializer(l.default.getType(f.default.Boolean),new _("Boolean"),"numeric"),S.registerPropertySerializer(l.default.getType(f.default.Integer),new _),S.registerPropertySerializer(l.default.getType(f.default.Integer8),new _),S.registerPropertySerializer(l.default.getType(f.default.Integer16),new _),S.registerPropertySerializer(l.default.getType(f.default.Integer64),new _),S.registerPropertySerializer(l.default.getType(f.default.UInteger8),new _),S.registerPropertySerializer(l.default.getType(f.default.UInteger16),new _),S.registerPropertySerializer(l.default.getType(f.default.UInteger64),new _),S.registerPropertySerializer(l.default.getType(f.default.Real),new w),S.registerPropertySerializer(l.default.getType(f.default.UnlimitedNatural),new j),S.registerPropertySerializer(l.default.getType(f.default.UUID),new b),S.registerPropertySerializer(l.default.getType(f.default.String),new v(f.default.String)),S.registerPropertySerializer(l.default.getType(f.default.StdString),new v),S.registerPropertySerializer(l.default.getType(f.default.DateTime),new E),S.registerPropertySerializer(l.default.getType(f.default.Enum),new k),S.registerPropertySerializer(l.default.getType(f.default.JsonValue),new C),S.registerPropertySerializer(l.default.getType(f.default.MxArray),new C),S.registerPropertySerializer(l.default.getType(f.default.StringToStringMap),new P)};var s=h(t),u=h(n),c=h(r),l=h(i),f=h(o),d=h(a);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(e){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(e||f.default.String)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return e}},{key:"_doParseValue",value:function(e){return e}}]),t}(c.default),b=function(e){function t(){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(f.default.UUID)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return e}},{key:"_doParseValue",value:function(e){if(s.default.isValidUuid(e))return e;u.default.throwErr("InvalidValue")}}]),t}(c.default),_=function(e){function t(e){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(e||f.default.Integer)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return Number(e).toString()}},{key:"_doParseValue",value:function(e){return Number.parseInt(e)}}]),t}(c.default),w=function(e){function t(e){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(e||f.default.Real)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return Number(e).toString()}},{key:"_doParseValue",value:function(e){return Number.parseFloat(e)}}]),t}(c.default),j=function(e){function t(e){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(e||f.default.UnlimitedNatural)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return s.default.isString(e)?"*":Number(e).toString()}},{key:"_doParseValue",value:function(e){return"*"===e?e:Number.parseInt(e)}}]),t}(c.default),E=function(e){function t(){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(f.default.DateTime)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return e.toISOString()}},{key:"_doParseValue",value:function(e){return new Date(e)}}]),t}(c.default),M=function(e){function t(){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(f.default.Boolean)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return e?"true":"false"}},{key:"_doParseValue",value:function(e){return"true"===e||"false"!==e&&void u.default.throwErr("UnexpectedValue")}}]),t}(c.default),k=function(e){function t(){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(f.default.Enum)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return e.toString()}},{key:"_doParseValue",value:function(e,t){var n=Number.parseInt(e);return isNaN(n)?s.default.getObject(t.qualifiedName+"."+e):n}}]),t}(c.default),C=function(e){function t(e){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(e||f.default.JsonValue)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return JSON.stringify(e)}},{key:"_doParseValue",value:function(e){try{return JSON.parse(e)}catch(t){return e}}}]),t}(c.default),P=function(e){function t(){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l.default.getType(f.default.StringToStringMap)))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return e.toString()}},{key:"_doParseValue",value:function(e){try{var t=new d.default;return t.loadFromString(e),t}catch(t){return e}}}]),t}(c.default),T=function(e){function t(){return p(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null))}return g(t,e),m(t,[{key:"_doSerializeValue",value:function(e){return""}},{key:"_doParseValue",value:function(e){return{}}}]),t}(c.default),S=new(function(){function e(){p(this,e),this.serializers={}}return m(e,[{key:"getPropertySerializer",value:function(e,t){var n=x(e);if(n)return n[t||""]}},{key:"getDefaultPrimitiveSerializer",value:function(){return new T}},{key:"registerPropertySerializer",value:function(e,t,n){var r=e.qualifiedName,i=e.owningPackage.uri;this.getPropertySerializer(e,n)&&u.default.throwErr("DuplicateTypeInRegistry",r),this.serializers[r]||(this.serializers[r]={}),this.serializers[r][i]||(this.serializers[r][i]={}),this.serializers[r][i][n||""]=t}},{key:"forAllPropertySerializers",value:function(e,t){for(var n=x(e),r=s.default.keys(n),i=0,o=r.length;i<o&&!1!==t(n[r[i]]);++i);}}]),e}());function x(e){var t=e._isInstOfEnum(),n=S.serializers[t?f.default.Enum:e.qualifiedName];return n&&n[(t?e.getMetaClass():e).owningPackage.uri]}e.default=S}),e,t),e.exports=i},"mf0/meta/Registry":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/meta/RegistryCore"]),n(n.dj.r.absMids["mf0/meta/Loader"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e.default=a(r.default,{promiseLoad:i.default.promiseLoad,loadDefinitions:i.default.loadDefinitions,loadDefinitionFromUri:i.default.loadDefinitionFromUri,loadDefinition:i.default.loadDefinition,extendClass:i.default.extendClass})}),e,t),e.exports=i},"mf0/meta/RegistryCore":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/meta/RegistryTypes"]),n(n.dj.r.absMids["mf0/Model"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=t)&&r.__esModule?r:{default:r};var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e.default=o(i.default,{getMetaRegistryModel:function(){return(0,n.getMetaRegistryModel)()}})}),e,t),e.exports=i},"mf0/meta/RegistryTypes":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/collections/Sequence"]),n(n.dj.r.absMids["mf0/collections/Set"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instantiateDynamicCollection=function(e,t){var n=t.type,r=y.getType(n.qualifiedName);if(!r)return null;if(r!==n)return null;return t.isOrdered?new s.default(e,!1,t):new u.default(e,t)},e.instantiate=function(e){if(e){var t=e.qualifiedName,n=y.get(t);if(n&&y.getType(t)===e){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return new(Function.prototype.bind.apply(n,[null].concat(i)))}}};var o=c(t),a=c(n),s=c(r),u=c(i);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f={},d={},h={},p={};function m(e,t,n){return t||a.default.throwErr("NoQualifiedName"),e[t]&&a.default.throwErr("DuplicateTypeInRegistry: ",t),e[t]=n,n}var y=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return l(e,[{key:"registerType",value:function(e,t){return m(d,t,e)}},{key:"getType",value:function(e){return d[e]}},{key:"addMetaElement",value:function(e,t){return m(h,e,t)}},{key:"getMetaElement",value:function(e){return h[e]}},{key:"addEnumeration",value:function(e,t){o.default.setObject(e,t)}},{key:"registerPackage",value:function(e){return p[e.uri]=e,e}},{key:"unregisterPackage",value:function(e){delete p[e]}},{key:"getPackage",value:function(e){return p[e]}},{key:"registerConstructor",value:function(e,t){o.default.getObject(e)||o.default.setObject(e,t),m(f,e,t)}},{key:"get",value:function(e){return f[e]}},{key:"create",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new(Function.prototype.bind.apply(this.get(e),[null].concat(n)))}}]),e}());e.default=y}),e,t),e.exports=i},"mf0/resources/messages":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/TypeNames"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n};e.default={root:{ClassNameMustBeAString:"Class name must be a string.",DuplicateTypeInRegistry:"Cannot register type '${0}', type with the same qualified name already exists.",NoQualifiedName:"Object has no qualified name.",CannotAddIncompatibleTypes:"Cannot add object of an incompatible type '${0}' while expecting '${1}'.",InvalidIndex:"Invalid index.",UnsupportedQualification:"Property qualification of type '${0}' is not supported.",CannotAddIncompatibleObjectSubset:"Cannot add the object that does not match the filter into the subset collection.",CannotUsePropertyWithoutType:"Cannot use property '${0}' without a type.",NoSuchProperty:"No property '${0}' has been found for object of type '${1}'.",NoSetterForCollections:"Setters for collections are unsupported. Use a getter instead and work on the returned collection.",UUIDConflict:"UUID Conflict.",ChangesProhibited:"Changes are not allowed at this phase of the transaction.",CannotCastIncompatibleTypes:"Incompatible type, expecting '${0}'.",NoSuchType:"Type '${0}' has not been found in the registry.",UniquenessConstraint:"Violated uniqueness constraint.",CannotAddSecondObject:"Cannot add second instance of this object.",CannotSetReadOnlyProperty:"Cannot set read-only property '${0}'.",CannotAddNonExistentObject:"Cannot add nonexistent object.",CannotCreateWithoutModel:"Cannot create an object without a model.",CyclicInheritance:"Cyclic inheritance of class '${0}' detected.",UnknownClass:"Unknown class: '${0}'.",CircularContainment:"Object cannot be indirectly contained by itself.",CannotChangeModel:"Cannot move object to another model.",UnknownProperty:"Unknown property '${0}' of class '${1}'.",NoOpenTransaction:"Transaction is not open.",CorruptInput:"Cannot parse the input: incorrect format.",CannotInstantiateType:"Failed to instantiate type '${0}'.",DanglingReference:"Cannot establish association to a dangling reference to '${0}'.",ExtensionMustHaveName:"Cannot add a dynamic property without a name",ExtensionNameMustBeUnique:"Cannot add a dynamic property: a dynamic property with that name already exists.",ExtensionMustHaveDefaultValue:"Single-valued dynamic primitive property must have a default value",InvalidValue:"The property value is invalid.",NoChannel:"No channel present.",Implement:"Must be implemented.",InvalidObject:"Invalid object '${0}' of type '${1}'.",EmptyValue:"Assigning an empty value to mandatory property: '${0}'",SealedDatatype:"Cannot assign to sealed datatypes. Make a copy of the datatype using clone() method",SetFunction:"Set the function '${0}'.",NoSetterForSubsets:"Setters for single-valued properties that subset multi-valued properties are disallowed.",CannotInstantiateAbstract:"Cannot instantiate abstract class '${0}'.",CannotInitializeCollection:"Cannot initialize collection '${0}'.",CannotInstantiateCollection:"Cannot instantiate collection '${0}'.",InitializerMustBeObject:"Initializer should be a plain object.",TypeNameMustBeString:"Type name must be string.",MustBeSubclass:"'${0}' must be a subclass of '${1}'.",AssociationInitializer:"Association must be initialized with an "+r.default.ModelElement+".",AbstractCannotSubclassConcrete:"Abstract class cannot subclass concrete class.",LoadError:"The specification is already loaded but its family or version do not match.",CannotBeComposite:"Association cannot be composite on both ends.",UnexpectedValue:"Unexpected value.",CannotApplyChangeReport:"Cannot apply the change report: the change is incompatible with the current state",TransactionInProgress:"Transaction in progress.",UnderlyingParserProblem:"Failed to parse: '${0}'.",InvalidSerializeIdentification:"'${0}' cannot be used as identification for object of type '${1}'.",ThawCountZero:"Expected thawCount to be 0",NoSuchExtension:"No extension '${0}' has been found for object of type '${1}'.",FailedToRollback:"Failed to rollback.",UnspecifiedType:"Unspecified type.",AttributeClassError:"Cannot create an attribute class due to name conflict with '${0}'.",ModelFrozen:"Model is frozen and cannot be changed.",DataTypeSuperclass:"Superclasses for data types are disallowed.",NoDataTypeSlicing:"Slicing for data types is unsupported.",UnknownEnumeration:"Unknown enumeration: '${0}'.",ExpectedOnePkg:"Expected exactly one top level package.",ExpectedNumericValue:"Enumeration literal '${0}' must have numeric value.",InvalidDateTimeDefaultValue:"Invalid DateTime default value: '${0}.'",InvalidPropertyValueCustomizer:"Invalid property value customizer."}}}),e,t),e.exports=i},"mf0/util/ConsoleLoggerBackend":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/Log"]),n(n.dj.r.absMids["mf0/util/LogVerbosity"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=t)&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n);var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=!1,u=!1,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"register",value:function(){s||(s=!0,i.default.addBackend(new e))}},{key:"setLogStock",value:function(e){u=e}}]),a(e,[{key:"translateVerbosity",value:function(e){return e<=o.debug?"debug":e<=o.info?"info":e<=o.return_value?"log":e<=o.warning?"warn":"error"}},{key:"log",value:function(e,t,n,r,i){void 0!==t&&console.group("Domain: "+t),console[this.translateVerbosity(e)](i,r),u&&(console.groupCollapsed("trace: "+i),console.trace(),console.groupEnd()),void 0!==t&&console.groupEnd()}}]),e}();e.default=c}),e,t),e.exports=i},"mf0/util/DisplaySummaryMap":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/collections/Set"]),n(n.dj.r.absMids["mf0/collections/Sequence"]),n(n.dj.r.absMids["mf0/collections/Map"]),n(n.dj.r.absMids["mf0/collections/Multimap"]),n(n.dj.r.absMids["mf0/collections/SubsettedElementSet"]),n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/collections/StringToStringMap"]),n(n.dj.r.absMids["mf0/TypeNames"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=g(t),l=g(n),f=g(r),d=g(i),h=g(o),p=g(a),m=g(s),y=g(u);function g(e){return e&&e.__esModule?e:{default:e}}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=new Map,this.dynamicContext=new Map}return b(e,[{key:"add",value:function(e,t){this.context.set(e,this.serialize(t))}},{key:"addDynamic",value:function(e,t){var n=this;this.dynamicContext.set(e,(function(){return n.serialize(t())}))}},{key:"createDocument",value:function(e){var t=this.toJson();return t.message&&console.warn("Overwriting message property of log"),t.message=e,{contents:t}}},{key:"wrapDocument",value:function(e){var t=this.toJson();t.children=e.contents,e.contents&&console.warn("Overwriting children property of log"),e.contents=t}},{key:"toJson",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,o=this.context[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e[a[0]]=a[1]}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}var s=!0,u=!1,c=void 0;try{for(var l,f=this.dynamicContext[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value;e[d[0]]=d[1]()}}catch(e){u=!0,c=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}return e}},{key:"serialize",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(void 0===e?"undefined":v(e)){case"bigint":case"number":case"boolean":case"string":return e;case"object":if(null===e)return null;if(e instanceof Map){var r={},i=!0,o=!1,a=void 0;try{for(var s,u=e.entries()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var p=s.value;r[this.serializeAsKey(p[0])]=this.serialize(p[1],n)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}if(e instanceof Set){var y=[],g=!0,b=!1,_=void 0;try{for(var w,j=e.values()[Symbol.iterator]();!(g=(w=j.next()).done);g=!0){var E=w.value;y.push(this.serialize(E,n))}}catch(e){b=!0,_=e}finally{try{!g&&j.return&&j.return()}finally{if(b)throw _}}return y}if(e instanceof f.default||e instanceof m.default){var M={};return e.forEach((function(e,r){M[t.serializeAsKey(r)]=t.serialize(e,n)})),M}if(e instanceof d.default){var k={};return e.forEach((function(e,r){var i=r.key,o=t.serializeAsKey(i);void 0===k[o]&&(k[o]=[]),k[o].push(t.serialize(e,n))})),k}if(e instanceof l.default||e instanceof c.default||e instanceof h.default){var C=[];return e.forEach((function(e){return C.push(t.serialize(e,n))})),C}if(e instanceof Date)return e.toISOString();if(e.getMetaClass){var P=e.getMetaClass(),T=P.getMetaClass();if(T.isA(mf.zero.meta.Class.metaClass))return n?this.serializeElement(e):this.serializeReference(e);if(T.isA(mf.zero.meta.DataType.metaClass)){var S={},x=!0,O=!1,A=void 0;try{for(var R,D=this.getAllProperties(P)[Symbol.iterator]();!(x=(R=D.next()).done);x=!0){var I=R.value;S[I.name]=this.serialize(e.getPropertyValue(I),!0)}}catch(e){O=!0,A=e}finally{try{!x&&D.return&&D.return()}finally{if(O)throw A}}return S}}return void 0!==e.literal&&void 0!==e.type&&void 0!==e.value?e.literal:e;default:return null}}},{key:"getAllProperties",value:function(e){for(var t=[];e&&e.qualifiedName!==y.default.ModelElement;){var n=!0,r=!1,i=void 0;try{for(var o,a=e.ownedAttributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push(s[1])}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}e=e.superclass}return t}},{key:"serializeElement",value:function(e,t){var n=this.serializeReference(e),r=e.getMetaClass(),i=!0,o=!1,a=void 0;try{for(var s,u=this.getAllProperties(r)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n[c.name]=this.serialize(e.getPropertyValue(c),c.isComposite)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return n}},{key:"serializeReference",value:function(e){return e?{uuid:e.uuid}:null}},{key:"serializeAsKey",value:function(e){switch(void 0===e?"undefined":v(e)){case"undefined":return p.default.generateRandomUuid();case"object":e.getMetaClass().getMetaClass();return metaClass.isA(mf.zero.meta.Class.metaClass)?null===e?p.default.generateRandomUuid():e.uuid:p.default.generateRandomUuid();default:return e}}}]),e}();e.default=_}),e,t),e.exports=i},"mf0/util/Err":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t(e,null,[{key:"assert",value:function(t,n){Boolean(n[0])||((n=Array.prototype.slice.call(n)).shift(),e.throwError(t,n))}},{key:"throwError",value:function(t,n){var r=n[0];r||e.throwError("InternalAssertion"),(n=Array.prototype.slice.call(n)).shift();var i=t?t[r]:void 0,o=i?i.replace(/\$\{(\d+)\}/g,(function(e,t){return n[t]})):r+n,a=new Error(o);throw a.messageID=r,console.error("Err: "+o),a}}]),e}();e.default=n}),e,t),e.exports=i},"mf0/util/LogSpec":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/LogVerbosity"])],i=n.dj.d(r,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=/^probe@/,a={none:n.none,all:n.all,parameter:n.parameter,debug:n.debug,info:n.info,event:n.event,entryexit:n.scope_entry|n.scope_exit|n.return_value,warning:n.warning,error:n.error,critical:n.critical,fatal:n.fatal},s=function(){function e(t){r(this,e),this.settings=[];var n=t[0];if(n===t[t.length-1]&&("'"!==n&&'"'!==n||(t=t.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),""))),t.length>0){var i=t.split(";"),s=!0,c=!1,l=void 0;try{for(var f,d=i[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var h=f.value,p=h.split("=");if(2!==p.length)throw new Error("Bad log spec: "+h);var m=p[0],y=p[1].split(","),g=0,v=!0,b=!1,_=void 0;try{for(var w,j=y[Symbol.iterator]();!(v=(w=j.next()).done);v=!0){var E=w.value;if(!o.test(E)){if(void 0===a[E])throw new Error("Bad channel setting: "+E);g|=a[E]}}}catch(e){b=!0,_=e}finally{try{!v&&j.return&&j.return()}finally{if(b)throw _}}this.settings.push(new u(m,g))}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}this.settings.reverse()}}return i(e,[{key:"getVerbosity",value:function(e){var t=this.settings.find((function(t){return t.test(e)}));return void 0===t?n.none:t.verbosity}}]),e}(),u=function(){function e(t,n){r(this,e),"^"!==t[0]&&(t="^"+t),"$"!==t[t.length-1]&&(t+="$"),this._regex=new RegExp(t),this._verbosity=n}return i(e,[{key:"test",value:function(e){return this._regex.test(e)}},{key:"verbosity",get:function(){return this._verbosity}}]),e}();e.default=s}),e,t),e.exports=i},"mf0/util/LogVerbosity":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.data=1,e.parameter=2,e.debug=4,e.info=8,e.event=16,e.scope_entry=32,e.scope_exit=64,e.return_value=128,e.warning=256,e.error=512,e.critical=1024,e.fatal=2048,e.none=0,e.all=4095}),e,t),e.exports=i},"mf0/util/Mf0Err":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/Err"]),n(n.dj.r.absMids["mf0/resources/messages"])],i=n.dj.d(r,(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}e.default={throwErr:function(){r.default.throwError(i.default.root,arguments)},assert:function(){r.default.assert(i.default.root,arguments)}}}),e,t),e.exports=i},"mf0/util/UmlSemantics":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/meta/RegistryTypes"]),n(n.dj.r.absMids["mf0/collections/Set"]),n(n.dj.r.absMids["mf0/collections/Sequence"]),n(n.dj.r.absMids["mf0/collections/Map"]),n(n.dj.r.absMids["mf0/collections/Multimap"]),n(n.dj.r.absMids["mf0/collections/SubsettedElementSet"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/util/UmlSyntax"]),n(n.dj.r.absMids["mf0/ModelElementPrivate"]),n(n.dj.r.absMids["mf0/collections/StringToStringMap"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l,f,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStructuredType=M,e.isPrimitiveType=C,e.makeGetter=function(e,t){var n="_"+t;return e.subsets?(o=m.default.get(e.fqn.slice(0,e.fqn.length-t.length-1)),a=e.hasCustomSubsetsFilter?o[t+"SubsetsFilter"]:function(t){return t.isInstOf(e.type)},s=L(e,!0),u=q(e.subsets.upper)?function(e){if(e)return[e]}:function(e){return e.getAllValues()},e.isSparse?q(e.upper)?function(){void 0===this[n]&&h.default.bind(s,this)();var t=h.default.filter(u(this[e.subsets.name]),a);if(t.length>0)return t[0]}:function(){return void 0===this[n]&&h.default.bind(s,this)(),this[n]._filter=a,this[n]}:q(e.upper)?function(){var t=h.default.filter(u(this[e.subsets.name]),a);if(t.length>0)return t[0]}:function(){return this[n]._filter=a,this[n]}):e.isDerived?(i="get"+P(t),function(){if(T(this),!this[i])throw new Error("Getter "+i+" not found");if(!(this[i]instanceof Function))throw new Error("Getter "+i+" not callable");return this[i]()}):F(e)?(r=m.default.getMetaElement(e.opposite.fqn))?function(){T(this);var e=(0,f.basicContainer)(this);if(e&&this.containerFeature===r)return e}:function(){T(this);var t=(0,f.basicContainer)(this);if(void 0===r&&(r=m.default.getMetaElement(e.opposite.fqn)),t&&this.containerFeature===r)return t}:function(){if(e.isSparse){var t=U(e,!0);return function(){T(this);var e=this[n];return void 0===e?(h.default.bind(t,this)(),this[n]):e}}return function(){return T(this),this[n]}}();var r;var i;var o,a,s,u},e.makeSetter=function(e,t,n){var r="_"+n,i=t.lower>="1"&&t.type!==w.default.JsonValue?function(e){null===e&&p.default.throwErr("EmptyValue",n)}:function(){},o=t.isSetOnce?function(e,t){h.default.isUndefined(e)||p.default.throwErr("CannotSetReadOnlyProperty",n),t&&p.default.throwErr("SealedDatatype")}:function(e,t){t&&p.default.throwErr("SealedDatatype")},a=(c="aboutToSet"+P(n),t.preconditionCheck?function(e,t){e[c]||p.default.throwErr("SetFunction",c),!1===e[c](t)&&p.default.throwErr("InvalidValue")}:function(){}),s=(u="didSet"+P(n),t.postconditionCheck?function(e,t){e[u]||p.default.throwErr("SetFunction",u),e[u](t)}:function(){});var u;var c;if(!q(t.upper))return function(){p.default.throwErr("NoSetterForCollections")};var l=function(e,t){var n=[];return h.default.forEach(e.properties,(function(e){D(t,e)&&n.push(e)})),n}(e,t),d=C(t.type,t.isPrimitive),y=t.isDataType,g=t.isEnumeration,v=F(t),b=H(t.fqn,t.isComposite),_=t.opposite;return t.subsets?q(t.subsets.upper)?function(e){this[t.subsets.name]=e}:function(){return p.default.throwErr("NoSetterForSubsets")}:t.isDerived?(j="set"+P(n),function(e){this[j](e)}):0===l.length?d?y?h.default.partial((function(e,t){t!==this[r]&&(o(this[r],this.__isSealed),i(t),a(this,t),(0,f.notifyModifying)(this,n),t?(t.getMetaClass().qualifiedName!==e&&p.default.throwErr("NoDataTypeSlicing"),this[r]=t,this[r].__isSealed=!0):this[r]=t,s(this,t))}),t.type):g?function(e){if(e!==this[r]){o(this[r],this.__isSealed),i(e),a(this,e),(0,f.notifyModifying)(this,n);var u=void 0;(u=e instanceof Object&&e.getTypeName()===t.type?e:h.default.getObject(t.type).getItem(e))||h.default.isNull(e)?this[r]=u:p.default.throwErr("InvalidValue"),s(this,e)}}:function(e){e!==this[r]&&(o(this[r],this.__isSealed),i(e),a(this,e),(0,f.notifyModifying)(this,n),this[r]=e,s(this,e))}:_?v?function(e){if(e!==this[r]){o(this[r]),R(t),a(this,e),(0,f.checkCircularContainment)(this,e),(0,f.notifyModifying)(this,n),(0,f.isTopLevel)(this)||(0,f.makeUncontained)(this);var i=m.default.getMetaElement(t.opposite.fqn);e&&(0,f.inverseAdd)(e,this,i),(0,f.basicSetContainer)(this,e,i,n),s(this,e)}}:function(e){if(e!==this[r]){o(this[r]),R(t),a(this,e),(0,f.notifyModifying)(this,n);var i=m.default.getMetaElement(t.opposite.fqn);this[r]&&(0,f.inverseRemove)(this[r],this,i),e&&(0,f.inverseAdd)(e,this,i),this[r]=e,s(this,e)}}:b?function(e){e!==this[r]&&(o(this[r]),R(t),a(this,e),(0,f.notifyModifying)(this,n),this[r]=e,e&&(0,f.setContainedByThis)(this,e,m.default.getMetaElement(t.fqn)),s(this,e))}:function(e){e!==this[r]&&(o(this[r]),R(t),a(this,e),(0,f.notifyModifying)(this,n),this[r]=e,s(this,e))}:d?y?h.default.partial((function(e,t,u){u!==this[r]&&(o(this[r],this.__isSealed),i(u),a(this,u),S.call(this,e,u),O(this,e),(0,f.notifyModifying)(this,n),u.getMetaClass().qualifiedName!==t&&p.default.throwErr("NoDataTypeSlicing"),this[r]=u,this[r].__isSealed=!0,A(this,e),s(this,u))}),l,t.type):h.default.partial((function(e,t){t!==this[r]&&(o(this[r],this.__isSealed),i(t),a(this,t),S.call(this,e,t),O(this,e),(0,f.notifyModifying)(this,n),this[r]=t,A(this,e),s(this,t))}),l):_?v?h.default.partial((function(e,i){if(i!==this[r]){o(this[r]),h.default.bind(S,this)(e,i),R(t),a(this,i),(0,f.checkCircularContainment)(this,i),(0,f.notifyModifying)(this,n),(0,f.isTopLevel)(this)||(0,f.makeUncontained)(this),O(this,e);var u=m.default.getMetaElement(t.opposite.fqn);i&&(0,f.inverseAdd)(i,this,u),(0,f.basicSetContainer)(this,i,u,n),A(this,e),s(this,i)}}),l):h.default.partial((function(e,i){if(i!==this[r]){o(this[r]),h.default.bind(S,this)(e,i),R(t),a(this,i),(0,f.notifyModifying)(this,n),O(this,e);var u=m.default.getMetaElement(t.opposite.fqn);this[r]&&(0,f.inverseRemove)(this[r],this,u),this[r]=i,i&&(0,f.inverseAdd)(i,this,u),A(this,e),s(this,i)}}),l):b?h.default.partial((function(e,i){i!==this[r]&&(o(this[r]),h.default.bind(S,this)(e,i),R(t),a(this,i),(0,f.notifyModifying)(this,n),O(this,e),this[r]=i,i&&(0,f.setContainedByThis)(this,i,m.default.getMetaElement(t.fqn)),A(this,e),s(this,i))}),l):h.default.partial((function(e,i){i!==this[r]&&(o(this[r]),h.default.bind(S,this)(e,i),R(t),a(this,i),(0,f.notifyModifying)(this,n),O(this,e),this[r]=i,A(this,e),s(this,i))}),l);var j},e.makePropertyInitializer=U,e.makeSubsettedPropertyInitializer=L,e.isKeyIn=function(e,t){return h.default.some(t.properties,h.default.partial(D,e))},e.isSingleValued=q,e.isOptional=z,e.isDataType=function(e){return k(e,w.default.DataType)},e.isEnumeration=V,e.isAssociation=B,e.isSingleValuedAssociation=function(e,t){return B(e)&&q(t)},e.isMultiValuedAssociation=function(e,t){return B(e)&&!q(t)};var h=E(t),p=E(n),m=E(r),y=E(i),g=E(o),v=E(a),b=E(s),_=E(u),w=E(c),j=E(d);function E(e){return e&&e.__esModule?e:{default:e}}function M(e){return e&&e.getMetaClass&&e.getMetaClass()}function k(e,t){var n=M(m.default.getType(e));return n&&n.qualifiedName===t}function C(e,t){return e||p.default.throwErr("NoQualifiedName"),(0,l.isEmbeddedPrimitiveType)(e)||t||k(e,w.default.PrimitiveType)}function P(e){return e.charAt(0).toUpperCase()+e.slice(1)}function T(e){!1===e.isValid&&p.default.throwErr("InvalidObject",e.uuid,e.getMetaClass().qualifiedName)}function S(e,t){var n=this;h.default.forEach(e,(function(e){var r=e.opposite;r.isQualificationUnique&&(q(e.upper)?n[e.name]&&n[e.name][r.name][t]&&p.default.throwErr("UniquenessConstraint"):n[e.name].forEach((function(e){e&&e[r.name].at(t)&&p.default.throwErr("UniquenessConstraint")})))}))}function x(e,t,n){h.default.forEach(n,(function(n){var r=m.default.getMetaElement(n.opposite.fqn);q(n.upper)?e[n.name]&&t(e[n.name],e,r):e[n.name].forEach((function(n){return t(n,e,r)}))}))}function O(e,t){x(e,f.inverseRemove,t)}function A(e,t){x(e,f.inverseAdd,t)}function R(e,t){if(e.opposite){var n=e.opposite;if(n.isQualificationUnique&&t){var r=n.qualifiedBy,i=this[r.name];z(r.lower)?B(r.type)?t[n.name][i.uuid]&&p.default.throwErr("UniquenessConstraint"):i&&!t[n.name][i]||p.default.throwErr("UniquenessConstraint"):t[n.name][i]&&p.default.throwErr("UniquenessConstraint")}}}function D(e,t){return t.opposite&&t.opposite.qualifiedBy&&t.opposite.qualifiedBy.fqn===e.fqn}function I(e,t,n){switch(e){case w.default.Boolean:return n?t||!1:t;case w.default.Integer:case w.default.Integer8:case w.default.Integer16:case w.default.Integer64:case w.default.UInteger8:case w.default.UInteger16:case w.default.UInteger64:case w.default.Real:case w.default.UnlimitedNatural:return n?t||0:t;case w.default.String:case w.default.StdString:return n?t||"":t;case w.default.JsonValue:return n?t||null:t;case w.default.UUID:return n?t?"random"===t?h.default.generateRandomUuid():t:"00000000-0000-0000-0000-000000000000":t;default:if(V(e)){var r=h.default.getObject(e);return t&&(h.default.isString(t)&&!h.default.isUndefined(r[t])||p.default.throwErr("UnknownEnumeration",e+"."+t),t=r[t]),n?t||r.getDefaultValue():t}if(t||n){var i=m.default.get(e);return i?t?new i(t):new i:t||{}}}}function N(e,t,n){return h.default.forEach(n,(function(n){return e._basicAdd(I(t,n,!0))})),e}function U(e,t){if(e.isDerived&&e.isReadOnly)return function(){};var n="_"+e.name;if(e.isSparse&&!0!==t)return function(){this[n]=void 0};var r=C(e.type,e.isPrimitive);if(q(e.upper)){if(r){var i=!z(e.lower);return e.isDataType?function(){this[n]=I(e.type,e.defaultValue,i),this[n]&&(this[n].__isSealed=!0)}:e.type===w.default.StringToStringMap?function(){var t=m.default.getMetaElement(e.fqn);this[n]=new j.default(this,t)}:function(){this[n]=I(e.type,e.defaultValue,i)}}return function(){this[n]=void 0}}if(e.qualifiedBy){var o=function(t){var n=t[e.qualifiedBy.name],r=t.getMetaClass().getPropertyByName(e.qualifiedBy.name);return r&&r.isAssociation()&&(n=n?n.uuid:""),h.default.isUndefined(n)&&p.default.throwErr("UniquenessConstraint"),n};return e.isQualificationUnique?function(){var t=m.default.getMetaElement(e.fqn),r=e.opposite&&m.default.getMetaElement(e.opposite.fqn);this[n]=new v.default(o,this,t,r)}:function(){var t=m.default.getMetaElement(e.fqn),r=e.opposite&&m.default.getMetaElement(e.opposite.fqn);this[n]=new b.default(o,this,t,r)}}return e.isOrdered?r?function(){var t=m.default.getMetaElement(e.fqn),r=e.opposite&&m.default.getMetaElement(e.opposite.fqn);this[n]=new g.default(this,e.isUnique,t,r),N(this[n],e.type,e.defaultValue)}:function(){var t=m.default.getMetaElement(e.fqn),r=e.opposite&&m.default.getMetaElement(e.opposite.fqn);this[n]=new g.default(this,e.isUnique,t,r)}:r?function(){var t=m.default.getMetaElement(e.fqn),r=e.opposite&&m.default.getMetaElement(e.opposite.fqn);this[n]=new y.default(this,t,r),N(this[n],e.type,e.defaultValue)}:function(){var t=m.default.getMetaElement(e.fqn),r=e.opposite&&m.default.getMetaElement(e.opposite.fqn);this[n]=new y.default(this,t,r)}}function L(e,t){var n="_"+e.name;return e.isSparse&&!0!==t?function(){this[n]=void 0}:q(e.upper)?function(){}:function(){this[n]=new _.default(this[e.subsets.name],this,(function(t){return t.isInstOf(e.type)}))}}function F(e){return B(e.type)&&e.opposite&&H(e.opposite.type,e.opposite.isComposite)}function q(e){return"*"!==e&&(!(e=h.default.isNumber(e)?e:Number.parseInt(e))||1===e)}function z(e){return!(e=h.default.isNumber(e)?e:Number.parseInt(e))||0===e}function V(e){return k(e,w.default.Enum)}function B(e){var t=m.default.getType(e);return!t||t._isInstOfClass()}function H(e,t){return B(e)&&t}}),e,t),e.exports=i},"mf0/util/UmlSyntax":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/util/Mf0Err"]),n(n.dj.r.absMids["mf0/TypeNames"]),n(n.dj.r.absMids["mf0/meta/RegistryTypes"])],i=n.dj.d(r,(function(e,t,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeFqn=d,e.processPackages=h,e.resolveType=v,e.topoSortClasses=_,e.resolveSuperclass=j,e.select=C,e.getTopoSorted=function(e){return t=_(C(e,"classes")),o.default.reduce(t,(function(e,t){return e[t.superclass]&&(t.propertiesInherited=e[t.superclass]),(t.properties||t.propertiesInherited)&&(e[t.fqn]=o.default.merge({},t.properties||{},t.propertiesInherited||{})),e}),{}),t;var t},e.resolveInfo=function(e){var t=e.family||o.default.generateRandomUuid(),n=e.modelVersion||"19700101";return{family:t,version:n,uri:e.uri||P(t,n)}},e.resolve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"family"in e||"uri"in e||console.warn('cdSpec should at least contain "family" or "uri".');t&&l(e,t);var n=e.family||o.default.generateRandomUuid(),r=e.modelVersion||"19700101";e.uri=e.uri||P(n,r),e.primitiveTypes&&e.packages.mf&&o.default.forEach(e.primitiveTypes,o.default.partial(k,e.packages.mf.packages.zero.packages.meta));return h(e,(function(e,t,i){w(e,t,i),o.default.forEach(t.primitiveTypes,o.default.partial(k,t)),o.default.forEach(t.dataTypes,o.default.partial(k,t)),o.default.forEach(t.enumerations,o.default.partial(k,t)),t.uri=t.uri||P(n,r,t.fqn)}),w,(function(e,t,n){w(e,t,n)}),w,w,(function(e,t,n){w(e,t,n),j(e,t)}),o.default.noop,o.default.noop),h(e,o.default.noop,o.default.noop,o.default.noop,o.default.noop,o.default.noop,o.default.noop,(function(t,n,r){w(t,n,r),n.pkgName=n.pkgName.slice(0,n.pkgName.lastIndexOf(".")),E(e,n)}),(function(t,n,r){w(t,n,r),n.pkgName=n.pkgName.slice(0,n.pkgName.lastIndexOf(".")),M(e,n)})),e},e.generateUri=P,e.parseUri=function(e){var t=e.lastIndexOf("/"),n=e.substr(t+1),r=t-1,i=e.lastIndexOf("/",r),o=e.substr(i+1,r-i);return{version:n,family:o}},e.isEmbeddedPrimitiveType=T,e.setLiteralValues=function(e){var t=new Set;o.default.forEach(e.literals,(function(e,n){var r=e.value;if(void 0!==r){var i=r;o.default.isNumber(r)||(i=Number.parseInt(r),e.value=i),o.default.isNumber(i)||a.default.throwErr("ExpectedNumericValue",n),t.add(i)}}));for(var n=Object.keys(e.literals).length-t.size,r=new Set,i=0,s=0;s<n;++s){for(;t.has(i);++i);t.add(i),r.add(i)}var u=Array.from(r),c=0;return o.default.forEach(e.literals,(function(e){void 0===e.value&&(e.value=u[c++])})),Math.min.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(t)))},e.topoSortDataDefinitions=function(e){var t=new Map,n={},r=new Map;function i(e,i){if(i&&-1!==i.indexOf(".")){var o=n[i];if(o){r.has(e)||r.set(e,[]);var a=t.get(o),s=r.get(e);e!==o&&-1===s.indexOf(a)&&s.push(a)}}}return e.forEach((function(e){var r=e.family||o.default.generateRandomUuid(),i=e.modelVersion||"19700101";t.set(e,e.uri||P(r,i)),h(e,o.default.noop,o.default.noop,(function(t,r,i){return n[d(t,i)]=e}),o.default.noop,o.default.noop,(function(t,r,i){return n[d(t,i)]=e}),o.default.noop)})),e.forEach((function(e){return h(e,o.default.noop,o.default.noop,o.default.noop,o.default.noop,o.default.noop,(function(t,n,r){return i(e,n.superclass)}),(function(t,n,r){return i(e,n.type)}))})),o.default.topSort(e,(function(e){return t.get(e)}),(function(e){return r.get(e)||[]}))};var o=c(t),a=c(n),s=c(r),u=c(i);function c(e){return e&&e.__esModule?e:{default:e}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(e,t,n){t(e,n),o.default.forEach(e.packages,(function(e,r){f(e,t,n?n+"."+r:r)}))}function d(e,t){return(e?e+".":"")+t}function h(e,t,n,r,i,a,s,u,c){f(e,(function(e,l){o.default.forEach(e.packages,o.default.partial(t,l)),o.default.forEach(e.primitiveTypes,o.default.partial(n,l)),o.default.forEach(e.dataTypes,(function(e,t){r(l,e,t),o.default.forEach(e.properties,o.default.partial(u,d(l,t)))})),o.default.forEach(e.enumerations,(function(e,t){i(l,e,t),o.default.forEach(e.literals,o.default.partial(a,d(l,t)))})),o.default.forEach(e.classes,(function(e,t){s(l,e,t),o.default.forEach(e.properties,o.default.partial(u,d(l,t))),c&&o.default.forEach(e.events,o.default.partial(c,d(l,t)))}))}))}function p(e,t,n){var r=o.default.fqnToPath(n),i=r[r.length-1],a=r.slice(0,r.length-1);return(r=o.default.map(a,(function(e){return"packages."+e}))).push(e),r.push(i),o.default.get(t,r.join("."))}function m(e,t,n,r,i){var a=["packages",t,i,n,"properties",r].join("."),u=o.default.get(e,a);return u?{result:u,visited:{}}:function(e,t,n){for(var r={};!r[t]&&t!==s.default.ModelElement;){r[t]=!0;var i=p("classes",e,t);if(!i)return{result:void 0,visited:r};if(i&&i.properties&&i.properties[n])return{result:i.properties[n],visited:r};t=i.superclass}return{result:void 0,visited:r}}(e,[t,n].join("."),r)}function y(e,t,n,r){var i=t[n];if(!o.default.isString(i))return{result:i};var s=o.default.fqnToPath(i);if(0>s.length)a.default.throwErr("NoSuchProperty",s[0]);else if(1===s.length)return t[n]=(r||t.type)+"."+s[0],y(e,t,n);var u=s[s.length-1],c=s[s.length-2];return m(e,s.slice(0,s.length-2).join(".")||t.pkgName,c,u,"classes")}function g(e,t){var n=t.qualifiedBy,r=y(e,t,"qualifiedBy"),i=t.qualifiedBy;return r&&r.result||!i?r.result:{fqn:(function(e,t){for(var n=Object.keys(t),r=0,i=n.length;r<i;++r){var o=u.default.getType(n[r]),a=o&&o.getPropertyByName(e);if(a)return a.owningType.qualifiedName}}(n,r.visited)||t.type)+"."+n,name:n}}function v(e,t){return T(t)?t:(-1===t.indexOf(".")?e+".":"")+t}function b(e,t){var n=u.default.getType(t);return n?!(!n.getMetaClass()||n.getMetaClass().qualifiedName!==s.default.Enum)||void 0:!!p("enumerations",e,t)||void 0}function _(e){return o.default.topSort(e,(function(e){return e.fqn}),(function(e){return e.superclass&&e.superclass!==s.default.ModelElement?[e.superclass]:[]}))}function w(e,t,n){t.pkgName=e||"",t.fqn=d(e,n),t.name=n}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];t.superclass=t.superclass?v(e,t.superclass):s.default.ModelElement}function E(e,t){t.type=v(t.pkgName,t.type),t.isDataType=function(e,t){var n=u.default.getType(t);return n?!(!n.getMetaClass()||n.getMetaClass().qualifiedName!==s.default.DataType)||void 0:!!p("dataTypes",e,t)||void 0}(e,t.type),t.isEnumeration=b(e,t.type),t.isPrimitive=t.isDataType||function(e,t){return T(t)||!!p("primitiveTypes",e,t)||void 0||!!b(e,t)||void 0}(e,t.type),t.isQualificationUnique=t.isQualificationUnique||void 0===t.isQualificationUnique,t.isUnique=void 0!==t.isUnique&&t.isUnique,t.qualifiedBy=g(e,t),t.opposite=function(e,t){return y(e,t,"opposite").result}(e,t),t.opposite&&!t.opposite.opposite&&(t.opposite.opposite=t),t.subsets=function(e,t){var n=t.fqn.substr(0,t.fqn.length-t.name.length-1);return y(e,t,"subsets",n).result}(e,t),t.isDerived=Boolean(t.isDerived||t.subsets)}function M(e,t){o.default.forEach(t.parameters,(function(e){e.type=v(t.pkgName,e.type)}))}function k(e,t,n){if(t.generateAttribute){e.classes||(e.classes={});var r=n+"Attribute";e.classes[r]?a.default.throwErr("AttributeClassError",r):e.classes[r]=function(e){return{superclass:s.default.Attribute,isAttributeClass:!0,properties:{value:{type:e,lower:"1",upper:"1"}}}}(n)}}function C(e,t){var n=[];return f(e,(function(e){o.default.forEach(e[t],(function(e){return n.push(e)}))})),n}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"19700101",n=arguments[2],r=n?"/"+n:"";return"http://schema.mathworks.com/mf0/"+e+"/"+t+r}function T(e){return s.default.Boolean===e||s.default.Integer===e||s.default.Integer8===e||s.default.Integer16===e||s.default.Integer64===e||s.default.UInteger8===e||s.default.UInteger16===e||s.default.UInteger64===e||s.default.Real===e||s.default.UnlimitedNatural===e||s.default.String===e||s.default.DateTime===e||s.default.UUID===e||s.default.StdString===e||s.default.Object===e||s.default.JsonValue===e||s.default.MxArray===e||s.default.StringToStringMap===e}}),e,t),e.exports=i},"mf0/util/underscoreExtended":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["lodash/lodash.min"]),n(n.dj.r.absMids["uuid/uuid"]),n(n.dj.r.absMids["mf0/util/Mf0Err"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),o=s(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var u=i.default.noConflict(),c=u.runInContext();c.capitalize=function(e){return(e=null===e?"":String(e)).charAt(0).toUpperCase()+e.slice(1)},c.generateRandomUuid=function(){return o.default.v4()},c.isValidUuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)},c.fqnToPath=function(e){return u.words(e,/[^.]+/g)},c.splitFqn=function(e){if(u.isString(e)){var t=e.lastIndexOf(".");return{path:e.slice(0,t),name:e.slice(t+1)}}return{}},c.when=function(e,t){return e&&"function"==typeof e.then?e.then(t):t(e)},c.setObject=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return u.set(n,e,t)},c.getObject=function(e){return u.get(window,e)},c.loadJSON=function(e){return u.loadFile(e,"application/json")},c.loadFile=function(e,t){var n=new XMLHttpRequest;return t&&n.overrideMimeType(t),n.open("GET",e,!0),new Promise((function(e){n.onreadystatechange=function(){4==n.readyState&&"200"==n.status&&e(n.responseText)},n.send(null)}))},c.mapArrayOrCall=function(e,t,n){return u.isArray(e)?u.map(e,t,n):void 0!==n?u.bind(t,n)(e):t(e)},c.topSort=function(e,t,n){var r={},i={},o=[];function s(e){var t=void 0;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];return delete e[t],n}}function c(e,s){var l=t(e);a.default.assert(!u.has(s,l),"CyclicInheritance",l),u.each(n(e),(function(e){var t;0===i[e]&&((t=u.clone(s))[l]=1,c(r[e],t))})),0===i[l]&&(o.push(e),i[l]=1)}u.forEach(e,(function(e){var n=t(e);r[n]=e,i[n]=0}));for(var l=s(r);l;)c(l,{}),l=s(r);return o},e.default=c}),e,t),e.exports=i},"mf0_sync/ConnectorChannel":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["mw-messageservice/MessageService"]),n(n.dj.r.absMids["mf0/io/SynchronizationChannel"]),n(n.dj.r.absMids["mf0/Log"]),n(n.dj.r.absMids["mf0_sync/HostSyncLoggerBackend"]),n(n.dj.r.absMids["regenerator-runtime/runtime"])],i=n.dj.d(r,(function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startMessageService=void 0;var a=f(t),s=f(n),u=f(r),c=f(i),l=f(o);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=null,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.outChannel=e.outChannel,n.inChannel=e.inChannel,n}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"start",value:(n=d(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.default.start(),e.next=3,g();case 3:if(null!==p){e.next=8;break}return p=new l.default(s.default),c.default.addBackend(p),e.next=8,p.start();case 8:if(this._started||!this.inChannel){e.next=12;break}return e.next=11,s.default.subscribe(this.inChannel,(function(e){return t.receive(e.data)}),this);case 11:this._started=!0;case 12:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"send",value:function(e){s.default.publish(this.outChannel,e)}}]),t}(u.default);e.default=m;var y,g=e.startMessageService=(y=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){s.default.messageService.isConnected()?e():a.default.after(s.default.messageService,"onConnected",e,!1)})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})}),e,t),e.exports=i},"mf0_sync/HostSyncLoggerBackend":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/Log"]),n(n.dj.r.absMids["mf0/util/LogVerbosity"]),n(n.dj.r.absMids["mf0/util/LogSpec"]),n(n.dj.r.absMids["regenerator-runtime/runtime"])],i=n.dj.d(r,(function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.span=t.internalSpan.createChild("HostSyncBackend"),this.messageService=n}var n,r;return u(e,[{key:"start",value:(n=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.messageService.subscribe("/modeling/mf0/log_host/domain_spec",(function(e){return t.handle(e)}),this);case 2:return e.next=4,this.messageService.publish("/modeling/mf0/log_host/startup",{domain:""});case 4:this.span.log(o.info,"Startup message published");case 5:case"end":return e.stop()}}),e,this)})),r=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return r.apply(this,arguments)})},{key:"handle",value:function(e){var t=this.span.createChild();t.addContext(o.info,"spec",e),t.log(o.debug,"Domain spec received"),i.default.setSpec(new a.default(e.data.spec),""===e.data.domain?void 0:e.data.domain)}},{key:"log",value:function(e,t,n,r,i){var o={channel:n,verbosity:e,content:r};""!==t&&(o.domain=t),this.messageService.publish("/modeling/mf0/log_host/log",o)}}]),e}();e.default=c}),e,t),e.exports=i},"mf0_sync/ModelSynchronizer":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["mf0/util/underscoreExtended"]),n(n.dj.r.absMids["mf0/meta/Registry"]),n(n.dj.r.absMids["mf0/meta/RegistryCore"]),n(n.dj.r.absMids["mf0/meta/PropertySerializerRegistry"]),n(n.dj.r.absMids["mf0/Listener"]),n(n.dj.r.absMids["mf0/io/IntermediateFormatOutput"]),n(n.dj.r.absMids["mf0/io/JSONChangeReportSynchronizer"]),n(n.dj.r.absMids["mf0/io/JSONSerializer"]),n(n.dj.r.absMids["mf0/io/JSONParser"]),n(n.dj.r.absMids["mf0/io/PacketTransport"]),n(n.dj.r.absMids["mf0/KnownOriginTransactionFactory"]),n(n.dj.r.absMids["mf0/Value"]),n(n.dj.r.absMids["mf0/util/LogVerbosity"]),n(n.dj.r.absMids["regenerator-runtime/runtime"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l,f,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=C(t),m=C(n),y=C(r),g=C(i),v=C(o),b=C(a),_=C(s),w=C(u),j=C(c),E=C(l),M=C(f),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h);function C(e){return e&&e.__esModule?e:{default:e}}function P(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=Object.freeze({ModelPacket:"mf.zero.Model",ReportDataPacket:"mf.zero.ReportData",FetchModelPacket:"mf.zero.io.ModelSynchronizer.FetchModel",FetchModelWithDataDefinitionPacket:"mf.zero.io.ModelSynchronizer.FetchModelWithDataDefinition",ModelWithDataDefinitionPacket:"mf.zero.io.ModelSynchronizer.ModelWithDataDefinition",LoadDataDefinitionPacket:"mf.zero.io.ModelSynchronizer.LoadDataDefinition",DataDefinitionOKPacket:"mf.zero.io.ModelSynchronizer.DataDefinitionOK",DataDefinitionErrorPacket:"mf.zero.io.ModelSynchronizer.DataDefinitionError",FetchDataDefinitionPacket:"mf.zero.io.ModelSynchronizer.FetchDataDefinition",DataDefinitionPacket:"mf.zero.io.ModelSynchronizer.DataDefinition"}),A=function(e){function t(e,n,r,i,o){var a,s=(a=P(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.promiseLoad(t.content.definitions);case 2:N(l,t.client,t.content,n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)}),u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];T(this,t);var c=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),l=c;function f(t){return E.default.createPacket(O.ModelPacket,{"transaction-factory-ordinals":R(e),model:I(e)},t.client)}function d(e,t){N(l,e.client,e.content,t)}function h(e){return m.default.promiseLoad(e.content).then((function(){return E.default.createPacket(O.DataDefinitionOKPacket)}),(function(){return E.default.createPacket(O.DataDefinitionErrorPacket)}))}function y(e,t){if(l.uuid===e.client)return m.default.promiseLoad(e.content).then((function(e){if(p.default.isArray(e)){var t=!0,n=!1,r=void 0;try{for(var i,o=function(){var e=i.value;l.pendingDataDefinitionRequests=l.pendingDataDefinitionRequests.filter((function(t){return t!==e.uri}))},a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)o()}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}else l.pendingDataDefinitionRequests=l.pendingDataDefinitionRequests.filter((function(t){return t!==e.uri}));if(0!==l.pendingDataDefinitionRequests.length)return l.requestDataDefinition(l.pendingDataDefinitionRequests);for(;l.changeReportsWaitingForDataDefinitions.length>0&&0===U(l,l.changeReportsWaitingForDataDefinitions[0]).length;)l.applyChange(l.changeReportsWaitingForDataDefinitions.shift())}));t.packetIgnored=!0}return c.uuid=p.default.generateRandomUuid(),c.model=e,c.toSend=[],c.marshaller=new _.default(o),c.startCtr=0,c.myChangeReports=new Set,c.packetTransport=new E.default(n),c.interpreter=r||function(e,t){return l.marshaller.parseChangeReportJSON(e,t)},c.freezer=i,c.synchronizerId=p.default.generateRandomUuid(),c.span=e.span.createChild("sync"),c.span.addContext(k.info,"SynchronizerId",c.synchronizerId),c.waitingForModelFetch=u?1:2,c.changeReportsWaitingForModelFetch=[],c.changeReportsWaitingForDataDefinitions=[],c.pendingDataDefinitionRequests=[],c.packetTransport.setPacketHandlers([{packetType:O.FetchModelPacket,handler:f},{packetType:O.FetchModelWithDataDefinitionPacket,handler:function(){}},{packetType:O.ModelPacket,promiseMode:E.default.PacketPromiseMode.Resolve,handler:d},{packetType:O.ModelWithDataDefinitionPacket,promiseMode:E.default.PacketPromiseMode.Resolve,handler:s},{packetType:O.ReportDataPacket,handler:function(e){return l.applyChange(e.content)}},{packetType:O.LoadDataDefinitionPacket,handler:h},{packetType:O.DataDefinitionPacket,promiseMode:E.default.PacketPromiseMode.Resolve,handler:y},{packetType:O.DataDefinitionOKPacket,promiseMode:E.default.PacketPromiseMode.Resolve,handler:function(){}}]),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),S(t,[{key:"destroy",value:function(){this.model.removeListener(this)}},{key:"start",value:function(){++this.startCtr,1===this.startCtr&&this.model.addPriorityShallowListener(this)}},{key:"stop",value:function(){--this.startCtr,this.startCtr<=0&&this.model.removeListener(this)}},{key:"transactionCanceled",value:function(){this.transactionFinished()}},{key:"transactionCommitted",value:function(e){if(this.myChangeReports.has(e.origin.transactionId))this.myChangeReports.delete(e.origin.transactionId);else if(e.origin.synchronizer!==this.synchronizerId){var t=e.origin.model,n=m.default.getType("mf.zero.meta.Language"),r=g.default.getPropertySerializer(n).serializeValue(e.origin.language.literal),i=e.origin.transactionId,o=e.origin.synchronizer||this.synchronizerId,a=e.origin.transactionOrdinal,s=e.origin.transactionFactory,u=new b.default;this.marshaller.serializeChangeReport(e,u),u.out.origin={model:t,language:r,transactionId:i,synchronizer:o,ordinal:a,factory:s},this.sendDelta(u)}this.transactionFinished()}},{key:"sendDelta",value:function(e){var t=this;this.packetTransport.isWaitingForPromise()?this.packetTransport.packetPromise.then((function(){t.sendDelta(e)})):this.packetTransport.sendPacket(E.default.createPacket(O.ReportDataPacket,e.out))}},{key:"transactionFinished",value:function(){}},{key:"applyChange",value:function(e){var t=this;if(0!==this.waitingForModelFetch&&1!==this.waitingForModelFetch){var n=U(this,e);if(this.pendingDataDefinitionRequests.length>0)return this.pendingDataDefinitionRequests=this.pendingDataDefinitionRequests.concat(n),void this.changeReportsWaitingForDataDefinitions.push(e);if(n.length>0)return this.pendingDataDefinitionRequests=this.pendingDataDefinitionRequests.concat(n),this.changeReportsWaitingForDataDefinitions.push(e),void this.fetchDataDefinition(n);var r=e.origin;if(!r)throw new Error("Transaction has no origin");var i=this.span.createChild();i.addContext(k.info,"origin",r);var o=r.ordinal,a=r.factory;i.log(k.debug,"Queueing change");var s=r.model,u=m.default.getType("mf.zero.meta.Language"),c=g.default.getPropertySerializer(u).parseValue(r.language,u),l=r.transactionId,f=r.synchronizer,d=new mf.zero.meta.TransactionOrigin({model:s,language:c,transactionId:l,synchronizer:f,transactionOrdinal:o,transactionFactory:a}),h=this.interpreter(e,new M.default(this.model,d));this.model.addToWorkQueue((function(e){var n=t.model.getLastSeenTransactionOrdinals();i.addContext(k.debug,"lastSeenOrdinals",n),!n.has(a)||n.get(a)<o?(t.myChangeReports.add(l),t._thaw((function(){return h(e)}))):(i.addContext(k.warning,"last-seen-transaction-ordinal",n.get(a)),i.log(k.warning,"Not applying out-of-date transaction"))}))}else this.changeReportsWaitingForModelFetch.push(e)}},{key:"fetchModel",value:function(){if(0===this.waitingForModelFetch)throw new Error("Already waiting for modle fetch");return this.waitingForModelFetch=0,this.packetTransport.sendAndReceivePacket(E.default.createPacket(O.FetchModelPacket,{"transaction-factory-ordinals":R(this.model),model:D(this.model)},this.uuid))}},{key:"fetchModelWithDataDefinition",value:function(){if(0===this.waitingForModelFetch)throw new Error("Already waiting for modle fetch");return this.waitingForModelFetch=0,this.packetTransport.sendAndReceivePacket(E.default.createPacket(O.FetchModelWithDataDefinitionPacket,{"transaction-factory-ordinals":R(this.model),model:D(this.model)},this.uuid))}},{key:"pushDataDefinition",value:function(e){var t=p.default.isString(e)?JSON.parse(e):e;return this.packetTransport.sendAndExpectPacket(E.default.createPacket(O.LoadDataDefinitionPacket,t),O.DataDefinitionOKPacket)}},{key:"fetchDataDefinition",value:function(e){return this.packetTransport.sendAndReceivePacket(E.default.createPacket(O.FetchDataDefinitionPacket,e,this.uuid))}},{key:"requestDataDefinition",value:function(e){return this.packetTransport.sendPacket(E.default.createPacket(O.FetchDataDefinitionPacket,e,this.uuid))}},{key:"_thaw",value:function(e){if(this.model.isFrozen()&&this.freezer){var t=this.freezer.thaw();e(),t.destroy()}else e()}}]),t}(v.default);function R(e){var t={},n=e.getLastSeenTransactionOrdinals(),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;t[u[0]]=u[1]}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t}function D(e){var t=!0;return e.forTopLevel((function(e){return t=!1,!1})),t?void 0:I(e)}function I(e){var t=new b.default;return(new w.default).serialize(e,t),t.out}function N(e,t,n,r){if(e.uuid===t){var i=new M.default(e.model,new mf.zero.meta.TransactionOrigin({model:e.model.modelID,language:mf.zero.meta.Language.JavaScript,transactionId:p.default.generateRandomUuid(),synchronizer:e.synchronizerId,transactionFactory:p.default.generateRandomUuid(),transactionOrdinal:0}));for(e._thaw((function(){var t=e.span.createChild("parseModel");t.addContext(k.debug,"content",n),t.log(k.info,"Parsing model");var r=null;if(n.model){var o=new j.default;o.setModel(e.model),r=o.parseVerbatim(n.model,i)}t.addContext(k.info,"incoming-ordinals",n["transaction-factory-ordinals"]),t.log(k.info,"Updating transaction-factory-ordinals");var a=!0,s=!1,u=void 0;try{for(var c,l=Object.entries(n["transaction-factory-ordinals"])[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;e.model.updateLastSeenTransactionOrdinal(f[0],f[1])}}catch(e){s=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}return t.log(k.info,"Updated transaction-factory-ordinals"),r})),e.waitingForModelFetch=2;e.changeReportsWaitingForModelFetch.length>0;)e.applyChange(e.changeReportsWaitingForModelFetch.shift())}else r.packetIgnored=!0}function U(e,t){if(t.addedElementURIs&&t.addedElementURIs.length>0){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t.addedElementURIs[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;p.default.includes(e.pendingDataDefinitionRequests,u)||y.default.getPackage(u)||n.push(u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return[]}e.default=A}),e,t),e.exports=i},"mw-deprecation-utils/deprecation":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["mw-log/Log"])],i=n.dj.d(r,(function(e,t){var n={deprecated:function(n){var r,i;(!!e.isDebug||!!window.showDeprecationsAsErrors)&&this._isConfigValid(n)&&(i=window.showDeprecationsAsErrors||n.deprecationLevel===this.ERROR?this.ERROR:this.WARN,r="DEPRECATED: ",n.deprecated&&(r+=n.deprecated.module,n.deprecated.method&&(r+="."+n.deprecated.method+"()"),r+="."),n.replacement&&(r+=" Use "+n.replacement.module,n.replacement.method&&(r+="."+n.replacement.method+"()"),r+=" instead."),n.removalVersion&&(r+=" Will be removed in version: "+n.removalVersion+"."),n.geckNumber&&(r+=" Please use g"+n.geckNumber+" to track latest information regarding this deprecation"),n.additionalInformation&&(r+=" "+n.additionalInformation),t[i](r))},_isConfigValid:function(e){var n=!!e.deprecated&&"object"==typeof e.deprecated&&e.deprecated.hasOwnProperty("module");return e.replacement&&(n=n&&"object"==typeof e.replacement&&e.replacement.hasOwnProperty("module")),e.geckNumber&&(n=n&&"number"==typeof e.geckNumber),n||t.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API"),n}};return Object.defineProperties(n,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),n}),e,t),e.exports=i},"mw-filebrowser/actions/Action":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"])],i=n.dj.d(r,(function(e,t){return e(null,{label:"",keyCode:!1,shortcut:"",constructor:function(e){t.mixin(this,e)},isApplicableTo:function(e){return console.log("Please implement isApplicableTo for action"),!1},callback:function(){console.log("Please implement callback for action")},section:{id:"MISC",name:"MISC",allowSubMenu:!1,forceSubMenu:!1}})}),e,t),e.exports=i},"mw-html-utils/HtmlUtils":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/io-query"]),n(n.dj.r.absMids["mw-html-utils/_parseHtml/sanitize"]),n(n.dj.r.absMids["mw-deprecation-utils/deprecation"])],i=n.dj.d(r,(function(e,t,n){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,parseQueryString:function(){var e=window.location.search.substr(1,window.location.search.length);return this._parseQueryString(e)},_parseQueryString:function(t){return e.queryToObject(t)},parseUrl:function(e){var t=document.createElement("a");t.display="none",t.href=e||window.location.href,t.href=t.href;var n={protocol:t.protocol,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,hash:t.hash};return"https:"!==n.protocol&&"http:"!==n.protocol||0===n.pathname.indexOf("/")||(n.pathname="/"+n.pathname),"https:"===n.protocol&&"443"===n.port&&0!==e.indexOf("https://"+n.hostname+":443")&&(n.port=""),n},escapeHtml:function(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML},escapeLinksAndHtml:function(e,t){n.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var r="",i=e.split(this.HYPERLINK_ESCAPE_REGEXP),o=e.match(this.HYPERLINK_ESCAPE_REGEXP),a="",s=this,u=0,c=function(e,t,n,r){var i=s.parseUrl(t).protocol;"http:"!==i&&"https:"!==i&&"matlab:"!==i&&(t="#"),t=s.escapeHtml(t),r=s._strongNotEscaped(r,!0),a='<a href="'+t+'">'+r+"</a>"};if(t)r=this.escapeHtml(e),r=this.escapeWhitespace(r);else if(""!==i[0]&&(r=this._strongNotEscaped(i[0],!0)),null!==o&&0!==o.length)for(u=0;u<o.length;u+=1)o[u].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,c),""!==i[u+1]&&(i[u+1]=this._strongNotEscaped(i[u+1],!0)),r+=a+i[u+1];return r},treatHtmlLikeCommandWindow:function(e,t,n){if("string"!=typeof e)return"";var r="",i=e.split(this.HYPERLINK_ESCAPE_REGEXP),o=e.match(this.HYPERLINK_ESCAPE_REGEXP),a="",s=this,u=0;n=n||{};var c=function(e,t,n,r){var i=s.parseUrl(t).protocol,o="";"http:"!==i&&"https:"!==i&&"matlab:"!==i&&(t="#"),t=s.escapeHtml(t),r=s._strongNotEscaped(r,!1),s.BOLD_LINK_ATTRIBUTE_REGEX.test(n)&&(o=' style="font-weight:bold"'),a='<a href="'+t+'"'+o+">"+r+"</a>"};if(t)r=this.escapeHtml(e);else if(""!==i[0]&&(r=this._strongNotEscaped(i[0],!1)),null!==o&&0!==o.length)for(u=0;u<o.length;u+=1)o[u].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,c),""!==i[u+1]&&(i[u+1]=this._strongNotEscaped(i[u+1],!1)),r+=a+i[u+1];return n.addPreTagToPreserveWhiteSpace&&(r='<span style="white-space: pre">'+r+"</span>"),r},_strongNotEscaped:function(e,t){var n="",r=e.match(this.STRONG_ESCAPE_REGEXP),i=e.split(this.STRONG_ESCAPE_REGEXP),o=function(e){return e};t&&(o=this.escapeWhitespace);var a=0;if(null!==r&&0!==r.length)for(n=o(this.escapeHtml(i[0])),a=0;a<r.length;a+=1)n+=r[a]+o(this.escapeHtml(i[a+1]));else n=o(this.escapeHtml(e));return n},escapeWhitespace:function(e){return n.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use <span style="white-space: pre">...</span>'}}),(e=e||"").replace(/\n/g,"<br>").replace(/ {2}/g,"&nbsp;&nbsp;")},handleAnchors:function(e,t){if(t.target.href){t.preventDefault(),t.stopPropagation();var n=t.target.href;if(-1!==n.indexOf("matlab:")){if("matlab:"===n.substring(0,7)){var r=t.target.href.substring(7);e(window.unescape(r))}}else window.open(t.target.href)}},isElementOverflown:function(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},sanitizeHtmlFromJava:t.sanitizeHtmlFromJava}}),e,t),e.exports=i},"mw-html-utils/_parseHtml/sanitize":function(e,t,n){"use strict";var r,i;r=[],i=n.dj.d(r,(function(){var e,t,n,r=["backgroundColor","borderBottom","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRadius","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderStyle","borderTop","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","borderWidth","color","fontFamily","fontSize","fontStyle","fontWeight","height","lineHeight","margin","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","minHeight","minWidth","overflow","overflowWrap","overflowX","overflowY","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textAnchor","textDecoration","textIndent","textOverflow","textShadow","textTransform","width"];return{sanitizeHtmlFromJava:(e={A:["target","href","title"],ABBR:["title"],ADDRESS:[],AREA:["shape","coords","href","alt"],ARTICLE:[],ASIDE:[],AUDIO:["autoplay","controls","loop","preload","src"],B:[],BDI:["dir"],BDO:["dir"],BIG:[],BLOCKQUOTE:["cite"],BR:[],CAPTION:[],CENTER:[],CITE:[],CODE:[],COL:["align","valign","span","width"],COLGROUP:["align","valign","span","width"],DD:[],DEL:["datetime"],DETAILS:["open"],DIV:[],DL:[],DT:[],EM:[],FONT:["color","size","face"],FOOTER:[],H1:[],H2:[],H3:[],H4:[],H5:[],H6:[],HEADER:[],HR:[],I:[],IMG:["src","alt","title","width","height"],INS:["datetime"],LI:[],MARK:[],NAV:[],OL:[],P:[],PRE:[],S:[],SECTION:[],SMALL:[],SPAN:[],SUB:[],SUP:[],STRONG:[],TABLE:["width","border","align","valign"],TBODY:["align","valign"],TD:["width","rowspan","colspan","align","valign"],TFOOT:["align","valign"],TH:["width","rowspan","colspan","align","valign"],THEAD:["align","valign"],TR:["rowspan","align","valign"],TT:[],U:[],UL:[],VIDEO:["autoplay","controls","loop","preload","src","height","width"]},t={href:{"http:":!0,"https:":!0,"mailto:":!0,"matlab:":!0,relative:{"#":!0,"/":!0}},src:{"http:":!0,"https:":!0,"mailto:":!0,relative:{"#":!0,"/":!0}}},n=!0,function(i){var o=function(e,t){var n=String.prototype.trim.call(t),r=n.indexOf(":");return r<0&&e.relative[n.charAt(0)]||e[n.substring(0,r)+":"]?n:"#"},a=function(i){var a=void 0;return i.nodeType===window.Node.ELEMENT_NODE?e[i.tagName]?(a=document.createElement(i.tagName),function(e,n){for(var r=[],i=0;i<e.length;i+=1){var a=e[i];if(n.hasAttribute(a)){var s=n.getAttribute(a),u="";u=t[a]?o(t[a],s):s,r.push({key:a,value:u})}}return r}(e[i.tagName],i).forEach((function(e){a.setAttribute(e.key,e.value)})),n&&function(e,t){var n=t.getAttribute("style");if(e.style&&null!==n&&""!==n)for(var i=0;i<r.length;i+=1){var o=r[i],a=t.style[o];void 0!==e.style[o]&&(e.style[o]=a)}}(a,i)):a=document.createDocumentFragment():a=i.nodeType===window.Node.TEXT_NODE?document.createTextNode(i.textContent):document.createDocumentFragment(),a},s=(new DOMParser).parseFromString(i,"text/html");return s.body?function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=document.createDocumentFragment();if(n>150||!t)return r;for(var i=t.firstChild;i;i=i.nextSibling){var o=a(i);i.nodeType===window.Node.ELEMENT_NODE&&o.appendChild(e(i,n+1)),r.appendChild(o)}return r}(s.body):document.createDocumentFragment()})}}),e,t),e.exports=i},"mw-log/Log":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mw-log/impl/Modes"]),n(n.dj.r.absMids["mw-log/impl/Levels"]),n(n.dj.r.absMids["mw-log/impl/Backlog"]),n(n.dj.r.absMids["mw-log/util/LogUtils"])],i=n.dj.d(r,(function(e,t,n,r){const i=n.create(100),o=4,a=3,s=3,u=3,c=3,l=3,f=3,d=3,h=3,p=2,m=1,y=0,g=0;let v={},b=0,_=t.DEBUG,w=e.DEVELOPMENT,j=[],E={};class M{constructor(n){null==E[n]?(r.makeReadOnlyProperty(this,"name",n),E[this.name]=this,this._timers={},this._threshold=t.DEBUG,this._showTimestamp=!0,r.makeReadOnlyProperty(this,"modes",e),r.makeReadOnlyProperty(this,"levels",t)):E.DEFAULT.error("a logger with the name '"+n+"' already exists - change the name to prevent interference")}static _sanitizeLevel(e){return"number"==typeof e?e:t.DEBUG}static _sanitizeMode(t){return r.objectValues(e).indexOf(t)>-1?t:e.development}get threshold(){return this._threshold}set threshold(e){this._threshold=M._sanitizeLevel(e)}get showTimestamp(){return this._showTimestamp}set showTimestamp(e){this._showTimestamp=!!e}get globalThreshold(){return _}set globalThreshold(e){_=M._sanitizeLevel(e)}get mode(){return w}set mode(e){w=M._sanitizeMode(e)}_shouldLog(e){return _>e&&this._threshold>e}_nameAndTime(){let e=[];return"DEFAULT"!==this.name&&e.push(this.name),this._showTimestamp&&e.push(r.currentTimeString()),e}table(e){if(this._shouldLog(u)){const t={namespace:this.name,type:"table",message:[e],time:new Date};i.add(t),r.printToConsole("log",this._nameAndTime(),w),r.printToConsole("table",[e],w),r.execCallbacks(v,t)}}trace(){if(this._shouldLog(c)){const e={namespace:this.name,type:"trace",message:null,time:new Date};let t=(new Error).stack.split("\n");for("Error"===t[0]&&t.shift();t[0].includes("Log.js")||t[0].includes("logger.trace")||"trace"===t[0];)t.shift();t=t.join("\n"),e.message=[t],i.add(e),r.printToConsole("log",this._nameAndTime(),w),r.printToConsole("trace",[],w),r.execCallbacks(v,e)}}time(e){this._shouldLog(l)&&(null==this._timers[e]?this._timers[e]=(new Date).getTime():this.warn('timer "'+e+'" already exists.'))}timeEnd(e){if(this._shouldLog(f)){const t={namespace:this.name,type:"timeEnd",message:null,time:new Date};if(null!=this._timers[e]){const n=(new Date).getTime()-this._timers[e];t.message=[e+": "+n+"ms - timer ended"],i.add(t),r.printToConsole("log",this._nameAndTime().concat(t.message),w),r.execCallbacks(v,t),this._timers[e]=null}else this.warn('timer "'+e+"\" doesn't exist.")}}_group(e,t){if(this._shouldLog(d)){const n=t?"groupCollapsed":"group",o={namespace:this.name,type:n,message:[e],time:new Date};j.push(e),i.add(o),r.printToConsole(n,[e],w),r.execCallbacks(v,o)}}groupCollapsed(e){this._group(e,!0)}group(e){this._group(e,!1)}groupEnd(){if(this._shouldLog(h)){const e=j.pop(),t={namespace:this.name,type:"groupEnd",message:[e],time:new Date};i.add(t),r.printToConsole("groupEnd",[],w),r.execCallbacks(v,t)}}assert(e,t){if(this._shouldLog(y)&&!e){const e={namespace:this.name,type:"assert",message:["Assertion failed:",t],time:new Date};i.add(e),e.message.shift();let n=[!1].concat(this._nameAndTime().concat(e.message));r.printToConsole("assert",n,w),r.execCallbacks(v,e)}}_basicLogMethod(e,t,n){if(this._shouldLog(t)){const t={namespace:this.name,type:e,message:n,time:new Date};n=this._nameAndTime().concat(n),i.add(t),r.printToConsole(e,n,w),r.execCallbacks(v,t)}}debug(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("debug",o,t)}log(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("log",a,t)}dir(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("dir",s,t)}info(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("info",p,t)}warn(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("warn",m,t)}error(e){const t=Array.prototype.slice.call(arguments);this._basicLogMethod("error",g,t)}addCallback(e,t){v[b]=e,t&&i.applyCallback(e);let n={};const r=b;return n.remove=()=>{delete v[r]},b++,n}createLogger(e){const t=new M(e);return t.name?t:E[e]}}return new M("DEFAULT")}),e,t),e.exports=i},"mw-log/impl/Backlog":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mw-log/util/LogUtils"])],i=n.dj.d(r,(function(e){let t={create:function(t){let n={},r=[];e.makeReadOnlyProperty(n,"size",t);let i=0;return n.add=function(e){r[i]=e,i=(i+1)%n.size},n.applyCallback=function(e){let o=i+1;void 0===r[o]&&(o=0);let a=0,s=o;for(;a<n.size&&void 0!==r[s];)e(r[s]),s=(s+1)%t,a++},n}};return t}),e,t),e.exports=i},"mw-log/impl/Levels":function(e,t,n){"use strict";var r,i;r=[],i=n.dj.d(r,(function(){const e={DEBUG:5,LOG:4,TABLE:4,TIME:4,DIR:4,INFO:3,WARN:2,ASSERT:1,ERROR:1};return Object.freeze(e),e}),e,t),e.exports=i},"mw-log/impl/Modes":function(e,t,n){"use strict";var r,i;r=[],i=n.dj.d(r,(function(){const e={DEVELOPMENT:"DEVELOPMENT",PRODUCTION:"PRODUCTION"};return Object.freeze(e),e}),e,t),e.exports=i},"mw-log/util/LogUtils":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mw-log/impl/Modes"])],i=n.dj.d(r,(function(e){const t={objectValues:function(e){let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},makeReadOnlyProperty:function(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1})},execCallbacks:function(e,n){const r=t.objectValues(e);for(let e in r)r[e](n)},currentTimeString:function(){const e=new Date;return e.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"})+"."+e.getTime()%1e3},printToConsole:function(t,n,r){r===e.PRODUCTION&&"error"!==t||console[t].apply(console,n)}};return t}),e,t),e.exports=i},"mw-messageservice/MessageService":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceAsync"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceBase"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceReqResp"]),n(n.dj.r.absMids["mw-remote/Remote"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a){let s=new i,u={messageService:s,subscribe:e.hitch(s,"subscribe"),unsubscribe:e.hitch(s,"unsubscribe"),publish:e.hitch(s,"publish"),start:e.hitch(s,"start"),stop:e.hitch(s,"stop"),isRunning:e.hitch(s,"isStarted"),isStarted:e.hitch(s,"isStarted"),isConnected:e.hitch(s,"isConnected"),isFatallyDisconnected:e.hitch(s,"isFatallyDisconnected"),isDisconnected:e.hitch(s,"isDisconnected"),setLatency:e.hitch(s,"setLatency"),setErrorRate:e.hitch(s,"setErrorRate"),getTransport:e.hitch(s,"getTransport"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},on:function(e,t){return n(this.messageService,e,t)},handleMessage:e.hitch(s,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start,this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};t.after(s,"onConnected",e.hitch(u,"onConnected"),!0),t.after(s,"onDisconnected",e.hitch(u,"onDisconnected"),!0),t.after(s,"onReconnected",e.hitch(u,"onReconnected"),!0),t.after(s,"onFatallyDisconnected",e.hitch(u,"onFatallyDisconnected"),!0),t.after(s,"onNotConnected",e.hitch(u,"onNotConnected"),!0);let c=a.enableServerOnWorkerAsync;a.enableServerOnWorkerAsync=function(){c(),s.setDelegate(new r(a))};let l=a.disableServerOnWorkerAsync;return a.disableServerOnWorkerAsync=function(){l(),s.setDelegate(new o(a,s))},a.isServerOnWorkerAsyncEnabled()?a.enableServerOnWorkerAsync():a.disableServerOnWorkerAsync(),u}),e,t),e.exports=i},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/json"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojox/cometd/cometd"]),n(n.dj.r.absMids["dojox/cometd/AckExtension"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c){let l,f=o.Utils.setTimeout;o.JSON.toJSON=r.stringify,o.JSON.fromJSON=r.parse;let d=0,h=0,p={};setInterval((function(){d+=200,Object.keys(p).forEach((function(e){let t=p[e];t.execTime<=d&&(t.func(),delete p[e])}))}),200);let m=function(e,t,n,r,i){let u=new o.LongPollingTransport,l=o.Transport.derive(u);l.xhrSend=function(e){let n;return r.remoteSupportsSendPayload?(e.headers=e.headers||{},e.headers.computeToken=r.computeToken,n=i.sendPayload(e.body,r.endPointName,{headers:e.headers})):n=t.sendMessage(e.body,r.url,{headers:e.headers}),n.then(e.onSuccess,(function(t){e.onError(t,t)})),{abort:function(){n.cancel()}}};let m=new o.Cometd(e);return o.Utils.setTimeout=function(e,t,n){return 0===n?f(e,t,n):(h+=1,p[h]={func:function(){try{t()}catch(e){m._debug("Exception invoking timed function",t,e)}},execTime:d+n},h)},o.Utils.clearTimeout=function(e){delete p[e]},r.remoteSupportsSendPayload?r.endPointAllowsDirectXhr.then((function(e){"ENABLED"!==e.status&&(o.WebSocket=c.WebSocket,c.WebSocket.proxyClient=t)})):(o.WebSocket=c.WebSocket,c.WebSocket.proxyClient=t),m.registerExtension("ack",new a),n[s.WEBSOCKET]&&m.registerTransport(s.WEBSOCKET,new o.WebSocketTransport,0),m.registerTransport(s.LONG_POLLING,l,1),m};const y=function(e,t){e.successful?t.resolve(e):(u.warn("Message failed: ",e),t.reject(e))};return l=e([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(e,r,i,o){this.remote=e,this.constructCometD=r||m,this.cometdProperties=o||{connectTimeout:5e3,maxBackoff:1e4,logLevel:"info",maxNetworkDelay:2e4,appendMessageTypeToURL:!1,autoBatch:!0},this._webSocket={try:!0,connectedAtLeastOnce:!1};let a=["maxNetworkDelay","connectTimeout","logLevel"],s=t.cometdProperties;if(s)for(let e=0;e<a.length;e+=1){let t=a[e];void 0!==s[t]&&(this.cometdProperties[t]=s[t])}this.workerProxyAsyncClient=i||new c("remoteWorkerAsyncProducer");let l=this;n.after(this.workerProxyAsyncClient,"onError",(function(e){l.cometd&&(l.logCometdLifecycle&&u.info("MessageServiceAsync disconnecting cometd due to IFrame error."),l.cometd.disconnect()),l.onConnectionError(e)}),!0),this.subscriptions={},this.recentMessages=[],this._deferredCleanupFunction=function(){l._deferredCleanup=!1,l.recentMessages=[]}},onMessage:function(e){},onConnectionError:function(){},connect:function(){this.routingHost=l.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();let e=this._setUpEndPoint();this.computeToken&&(e.computeToken=this.computeToken),e.remoteSupportsSendPayload||this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);let t={};l.enableWebsocket&&this._webSocket.try?t.websocket=!0:(t.websocket=!1,this._webSocket.try=!1);let n=this.constructCometD("messageService",this.workerProxyAsyncClient,t,e,this.remote);this.cometd=n,this.logCometdLifecycle&&u.info("MessageServiceAsync constructing new cometd instance.");let r=this._createOneShotMessagePromise("/meta/handshake");this._createListenerForUnknownClient();let o=this,a=new i;return r.then((function(e){o.logCometdLifecycle&&u.info("MessageServiceAsync cometd handshake successful.",e,n.getClientId(),n),n.isDisconnected()?(u.error("MessageServiceAsync cometd handshake successful but still disconnected!"),n.disconnect(),a.reject(e)):(n.getTransport().getType()===s.WEBSOCKET&&(o._webSocket.connectedAtLeastOnce=!0),a.resolve(e))}),(function(e){if(o.logCometdLifecycle&&u.info("MessageServiceAsync disconnecting cometd due to handshake failure.",e,n.getClientId(),n),n.disconnect(),e.request&&e.request.supportedConnectionTypes){let t=e.request.supportedConnectionTypes;if(t.length>1){t[0]!==s.WEBSOCKET||o._webSocket.connectedAtLeastOnce||(o._webSocket.try=!1)}}a.reject(e)})),this.cometdProperties.url=e.url,n.init(this.cometdProperties),a.promise},disconnect:function(){this.logCometdLifecycle&&u.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());let e=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(),e},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&u.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return!!this.cometd&&!this.cometd.isDisconnected()},doPublish:function(e,t){let n=new i;return this.cometd.publish(this._getRequestChannel(e),t,{},(function(e){y(e,n)})),n.promise},doSubscribe:function(e){this.logCometdSubscriptions&&u.info("MessageServiceAsync subscribing cometd to channel: "+e);let t=this._createOneShotMessagePromise("/meta/subscribe");return this.subscriptions[e]=this.cometd.subscribe(this._getRequestChannel(e),this,this._handleCometResponse),t},doUnsubscribe:function(e){if(this.subscriptions[e]){this.logCometdSubscriptions&&u.info("MessageServiceAsync unsubscribing cometd from channel: "+e);let t=this._createOneShotMessagePromise("/meta/unsubscribe");return this.cometd.unsubscribe(this.subscriptions[e]),delete this.subscriptions[e],t}return(new i).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(e){this.workerProxyAsyncClient.setLatency(e)},doSetErrorRate:function(e){this.workerProxyAsyncClient.setErrorRate(e)},getTransport:function(){return this.cometd&&!this.cometd.isDisconnected()?this.cometd.getTransport().getType():s.UNKNOWN},_handleCometResponse:function(e){this._shouldHandleMessage(e)&&this.onMessage(this._stripBasePrefixAndConvertToJson(e))},_shouldHandleMessage:function(e){return!e.id&&(this.recentMessages.indexOf(e)<0&&(this.recentMessages.push(e),this._deferRecentMessagesCleanup(),!0))},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(e){let t=new i;return this._addOneShotListener(e,(function(e){y(e,t)})),t.promise},_addOneShotListener:function(e,t){let n,r=this,i=this.cometd;n=this.cometd.addListener(e,(function(e){i.removeListener(n),t.apply(r,arguments)}))},_createListenerForUnknownClient:function(){let e=this.cometd,t=this;e.addListener("/meta/connect",(function(n){!n.successful&&n.advice&&"handshake"===n.advice.reconnect&&(e.disconnect(),t.onConnectionError(n.error))}))},_setUpEndPoint:function(){let e,t,n=!1,r="MESSAGE_SERVICE_ASYNC_ENDPOINT";return e=this.routingHost+this.BASE_END_POINT,this.routingKey&&(e+="?routingkey="+this.routingKey),{remoteSupportsSendPayload:n,url:e,endPointName:r,endPointAllowsDirectXhr:t}},_getRequestChannel:function(e){return this.BASE_PREFIX+e},_stripBasePrefixAndConvertToJson:function(e){return{channel:e.channel.substring(this.BASE_PREFIX.length),data:e.data}}}),l.enableWebsocket=!1,l.workerHostOverride=!1,window.location.search.indexOf("websocket=on")>=0&&(l.enableWebsocket=!0),l}),e,t),e.exports=i},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceState"]),n(n.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a){return e([o],{logSubscriptions:!1,constructor:function(){this.batching=!0,this.typeSerializers=[],this.typeDeserializers={},this.channelSubscriptions={}},setDelegate:function(e){this.inherited("setDelegate",arguments),n.after(this._delegate,"onMessage",t.hitch(this,this.handleMessage),!0)},publish:function(e,t){if(this.isConnected()||"resubscribing"===this._currentState){let n=this._queuePublish(e,this.serialize(t));return this._deferProcessQueue(),n}return this._queuePublish(e,this.serialize(t))},subscribe:function(e,t,n){if(this.logSubscriptions&&i.info("MessageService subscribe: "+e,t,n),this._addHandler(this.channelSubscriptions,e,t,n),this.isConnected()||"resubscribing"===this._currentState){let r=this._queueSubscribe(e,t,n);return this._deferProcessQueue(),r}return this._queueSubscribe(e,t,n)},unsubscribe:function(e,t,n){if(this.logSubscriptions&&i.info("MessageService unsubscribe: "+e,t,n),this._removeHandler(this.channelSubscriptions,e,t,n)){if(this._removeQueuedMatchingSubscribe(e,t,n))return(new r).resolve();if(this.isConnected()||"resubscribing"===this._currentState){let r=this._queueUnsubscribe(e,t,n);return this._deferProcessQueue(),r}return(new r).resolve()}return i.error("Not subscribed to channel: "+e+", can't unsubscribe."),(new r).reject("Not subscribed to channel: "+e+", can't unsubscribe.")},flush:function(){if(!this.isConnected())throw new Error("Can only manually flush the queue when connected.");this._processQueue()},setLatency:function(e){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(e)},setErrorRate:function(e){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(e)},getTransport:function(){return this._delegate&&this._delegate.getTransport?this._delegate.getTransport():a.UNKNOWN},_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments),this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments),Object.keys(this.channelSubscriptions).forEach((function(e){e.subscribed=!1}))},_enterConnected:function(){this.inherited("_enterConnected",arguments),this._processQueue()},_enterDisconnecting:function(){this._processQueue(),this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(e,t){let n=new r;return this._queuedOps.push({type:"publish",channel:e,data:t,deferred:n}),n.promise},_queueSubscribe:function(e,t,n){let i=new r;return this._queuedOps.push({type:"subscribe",channel:e,handler:t,scope:n,deferred:i}),i.promise},_removeQueuedMatchingSubscribe:function(e,t,n){let r;for(let i=this._queuedOps.length-1;i>=0;i-=1)if(r=this._queuedOps[i],"subscribe"===r.type&&r.channel===e&&r.handler===t&&r.scope===n){this._queuedOps.splice(i,1);let e=this._delegate&&this._delegate.delegateConnected();return this.isConnected()&&e&&r.deferred.resolve(),!0}},_queueUnsubscribe:function(e,t,n){let i=new r;return this._queuedOps.push({type:"unsubscribe",channel:e,handler:t,scope:n,deferred:i}),i.promise},_processQueue:function(){let e=this._delegate&&this._delegate.delegateConnected();if(!(this.isConnected()&&e)&&"disconnecting"!==this._currentState)return;this._delegate.doStartBatch();let t=this._queuedOps;this._queuedOps=[],t.forEach((function(e){let t;"publish"===e.type?t=this._delegate.doPublish(e.channel,e.data):"subscribe"===e.type?t=this._doSubscribe(e.channel,e.handler,e.scope):"unsubscribe"===e.type&&(t=this._doUnsubscribe(e.channel,e.handler,e.scope)),t.then(e.deferred.resolve,e.deferred.reject)}),this),this._delegate.doEndBatch()},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){let e=this;this._deferredTimeout=setTimeout((function(){e._deferredTimeout=!1,e._processQueue()}),0)}else this.batching||this._processQueue()},_doSubscribe:function(e){if(this.channelSubscriptions[e].subscribed)return(new r).resolve();{let t=this._delegate.doSubscribe(e);return this.channelSubscriptions[e].subscribed=!0,t}},_doUnsubscribe:function(e){return this.channelSubscriptions[e]?(new r).resolve():this._delegate.doUnsubscribe(e)},handleMessage:function(e){let t;if(e&&e.channel){e.data&&(e.data=this.deserialize(e.data));let n=e.channel.split("/");for(t=1;t<=n.length;t+=1)this._callHandlers(this.channelSubscriptions,n.slice(0,t).concat("**").join("/"),e);this._callHandlers(this.channelSubscriptions,n.slice(0,n.length-1).concat("*").join("/"),e),this._callHandlers(this.channelSubscriptions,n.concat("*").join("/"),e),this._callHandlers(this.channelSubscriptions,e.channel,e)}},registerMessageHandler:function(e,t,n){i.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(e,t,n){i.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(e,t,n){this.typeSerializers.push({typeMatcher:e,type:t,serializer:n})},registerTypeDeserializer:function(e,t){this.typeDeserializers[e]=t},serialize:function(e){return t.isArray(e)?this._serializeArray(e):e instanceof Number||e instanceof Boolean||t.isString(e)?e:this._serializeObject(e)},deserialize:function(e){return t.isArray(e)?this._deserializeArray(e):e instanceof Number||e instanceof Boolean||t.isString(e)?e:this._deserializeObject(e)},_addHandler:function(e,t,n,r){let o,a;r=r||this,"string"!=typeof n||"function"==typeof r[n]?(o=e[t],o||(o=[],e[t]=o),a={channel:t,handler:n,scope:r},o.push(a),o.sort((function(e){return e.exclusive?-1:0}))):i.warn("Not adding invalid handler: "+n)},_removeHandler:function(e,t,n,r){let i;r=r||this,i=e[t];let o=this._getHandlerIndex(i,{handler:n,scope:r});return o>=0&&i.splice(o,1),i&&0!==i.length||delete e[t],o>=0},_callHandlers:function(e,t,n){let r,o;if(e.hasOwnProperty(t))for(r=e[t],o=0;o<r.length;o+=1)try{"string"==typeof r[o].handler?r[o].scope[r[o].handler].call(r[o].scope,n):r[o].handler.call(r[o].scope,n)}catch(e){let r=2;i.error("Error while executing message handler on channel: "+t+", message: "+JSON.stringify(n,null,r)+", error: ",e)}},_getHandlerIndex:function(e,t){if(!e)return-1;let n;for(n=0;n<e.length;n+=1)if(t.handler===e[n].handler&&t.scope===e[n].scope)return n;return-1},_serializeObject:function(e){let t,n;for(n=0;n<this.typeSerializers.length;n+=1){let t=this.typeSerializers[n];if(t.typeMatcher(e))return{__type__:t.type,__value__:t.serializer.call(this,e)}}if(e instanceof window.Image)return e;for(t in e)e.hasOwnProperty(t)&&(e[t]=this.serialize(e[t]));return e},_serializeArray:function(e){let t,n=e.length;for(t=0;t<n;t+=1)e[t]=this.serialize(e[t]);return e},_deserializeObject:function(e){let t;if(null==e)return null;if(e.hasOwnProperty("__type__")&&e.hasOwnProperty("__value__"))try{return this.typeDeserializers[e.__type__].call(this,e.__value__)}catch(t){i.error("Error while trying to deserialize: ",e,"Error: ",t)}for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(e[t]=this.deserialize(e[t]));return e},_deserializeArray:function(e){let t,n=e.length;for(t=0;t<n;t+=1)e[t]=this.deserialize(e[t]);return e}})}),e,t),e.exports=i},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["mw-log/Log"])],i=n.dj.d(r,(function(e,t,n){return e([],{pollDelay:50,constructor:function(e,t){this.remote=e,this.messageService=t,this.pending=0,e.registerDefaultMessageFactory("OpaqueMessage",(function(){return this.pending+=1,{opaqueMessageDOs:[]}}),this),e.registerResponseHandler("OpaqueMessageResponse",(function(e){this.pending-=1,e.forEach((function(e){try{e.opaqueMessageDOs&&e.opaqueMessageDOs.forEach(t.handleMessage,t)}catch(e){n.error("Error while handling message: "+e)}})),this.poll()}),this)},onMessage:function(e){},onConnectionError:function(){},connect:function(){return this.enabled=!0,this.poll(),(new t).resolve()},disconnect:function(){return this.enabled=!1,this.timeout&&(clearTimeout(this.timeout),this.timeout=null),(new t).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){let e=this;this.timeout=setTimeout((function(){e.pending+=1,e.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}}),e.timeout=null}),this.pollDelay)}},doPublish:function(e,t){clearTimeout(this.timeout),this.timeout=null,this.pending+=1,this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:e,data:t}]}})},doSubscribe:function(e){},doUnsubscribe:function(e){},doStartBatch:function(){},doEndBatch:function(){}})}),e,t),e.exports=i},"mw-messageservice/messageserviceimpl/MessageServiceState":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Evented"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/promise/all"]),n(n.dj.r.absMids["mw-statemachine/StateMachine"]),n(n.dj.r.absMids["mw-log/Log"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s){return e([t],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(e){if(this._delegate!==e){this._delegate=e;let t=this;r.after(e,"onConnectionError",(function(){s.warn("MessageService received connection error, reconnecting"),t._reconnect()}),!0),this._states=new a(this._stateOptions),r.after(this._states,"onEnterState",n.hitch(this,this._enterState),!0),this._states.start()}},onConnected:function(){this.emit("connected")},onNewlyConnected:function(){},onDisconnected:function(){this.emit("disconnected")},onReconnected:function(){this.emit("reconnected")},onFatallyDisconnected:function(){this.emit("fatallyDisconnected")},onNotConnected:function(){this.emit("notConnected")},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(e){let t=this._currentState;this._currentState=e,this.logStateChanges&&s.info("MessageService state change: "+t+" -> "+e),"connected"===t&&this.onNotConnected(),"connected"===e&&this._previouslyConnected?this.onReconnected():"connected"!==e||this._previouslyConnected||this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1,this._delegate.cleanup(),this.onDisconnected()},_enterConnecting:function(){this._retryCount=0,this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1,s.info("Reconnecting message service. Attempt "+this._retryCount,arguments),this._delegate.cleanup(),this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&s.info("MessageService timeout:",arguments)},_retryFailure:function(){let e;return this._retryCount>=this._MAX_RETRIES&&(s.error("Message service fatally disconnected."),e="fatallyDisconnected"),e},_enterResubscribing:function(){let e,t,n=[];for(e in this._delegate.doStartBatch(),this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(e)&&(t=this.channelSubscriptions[e],n.push(this._delegate.doSubscribe(e)),t.subscribed=!0);this._delegate.doEndBatch(),o(n).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&s.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})}),e,t),e.exports=i},"mw-messageservice/messageserviceimpl/transportEnums":function(e,t,n){var r,i;r=[],i=n.dj.d(r,(function(){return{UNKNOWN:"unknown",LONG_POLLING:"long-polling",WEBSOCKET:"websocket"}}),e,t),e.exports=i},"mw-mvm/ExecutionStatus":function(e,t,n){"use strict";var r,i;r=[],i=n.dj.d(r,(function(){var e={inEXECUTION_SUCCESS:0,inCOMPILE_ERROR:1,inRUNTIME_ERROR:2,inEXECUTION_DBQUIT:3,inEXECUTION_CTRLC:4,inCOMM_ERROR:5,inEXECUTION_STATUS_MAX:5};return e}),e,t),e.exports=i},"mw-mvm/InputRequester":function(e,t,n){"use strict";var r,i;r=[],i=n.dj.d(r,(function(){return{mnNO_PROMPT:"NO_PROMPT",mnBASE_PROMPT:"BASE_PROMPT",mnDEBUG_PROMPT:"DEBUG_PROMPT",mnINPUT_PROMPT:"INPUT_PROMPT",mnKEYBOARD_PROMPT:"KEYBOARD_PROMPT",mnPAUSE_PROMPT:"PAUSE_PROMPT",mnBANG_PROMPT:"BANG_PROMPT",mnSIMULINK_DEBUG_PROMPT:"SIMULINK_DEBUG_PROMPT",mnINCOMPLETE_BLOCK_PROMPT:"INCOMPLETE_BLOCK_PROMPT",mnMORE_PROMPT:"MORE_PROMPT",mnEMERGENCY_EXIT_PROMPT:"EMERGENCY_EXIT_PROMPT",mnSIMEVENTS_DEBUG_PROMPT:"SIMEVENTS_DEBUG_PROMPT",mnSF_EML_DEBUG_PROMPT:"SF_EML_DEBUG_PROMPT",mnINPUT_REQUESTER_MAX:"INPUT_REQUESTER_MAX"}}),e,t),e.exports=i},"mw-mvm/UserMvm":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mw-mvm/impl/MVM"])],i=n.dj.d(r,(function(e){return{getMVM:function(){return e.get("user-mvm")}}}),e,t),e.exports=i},"mw-mvm/impl/Connection":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"])],i=n.dj.d(r,(function(e){return e(null,{constructor:function(e,t,n){this._isValidDeferred=e,this._uId=t,this._eventMgr=n},destroy:function(){this.disconnect()},isValid:function(){return this._eventMgr._isConnected(this._uId)||this._isValidDeferred.cancel("Disconnected"),this._isValidDeferred},disconnect:function(){return this._eventMgr._disconnect(this._uId)}})}),e,t),e.exports=i},"mw-mvm/impl/Debugger":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["mw-messageservice/MessageService"]),n(n.dj.r.absMids["mw-mvm/impl/RuntimeException"])],i=n.dj.d(r,(function(e,t,n,r){return e(null,{_SETLINEBREAKPOINT_CHANNEL:"/mvm/debugger/lineBreakpoint/set",_SETGLOBALBREAKPOINT_CHANNEL:"/mvm/debugger/globalBreakpoint/set",_CLEARLINEBREAKPOINT_CHANNEL:"/mvm/debugger/lineBreakpoint/clear",_CLEARGLOBALBREAKPOINT_CHANNEL:"/mvm/debugger/globalBreakpoint/clear",_BREAKINDEBUGGER_CHANNEL:"/mvm/debugger/breakInDebugger",_DEBUGGER_REPLY_CHANNEL:"/mvm/debugger/response/",constructor:function(e){this._activeRequests={},this._attachID=e,this._requestCounter=0,n.subscribe(this._DEBUGGER_REPLY_CHANNEL+this._attachID,this._handleResponse,this)},setLineBreakpoint:function(e){var r=new t;return this._requestCounter++,this._activeRequests[this._requestCounter]=r,n.publish(this._SETLINEBREAKPOINT_CHANNEL,{requestID:this._requestCounter,breakpoint:e,attachID:this._attachID}),r},setGlobalBreakpoint:function(e){var r=new t;return this._requestCounter++,this._activeRequests[this._requestCounter]=r,n.publish(this._SETGLOBALBREAKPOINT_CHANNEL,{requestID:this._requestCounter,breakpoint:e,attachID:this._attachID}),r},clearLineBreakpoint:function(e){var r=new t;return this._requestCounter++,this._activeRequests[this._requestCounter]=r,n.publish(this._CLEARLINEBREAKPOINT_CHANNEL,{requestID:this._requestCounter,breakpoint:e,attachID:this._attachID}),r},clearGlobalBreakpoint:function(e){var r=new t;return this._requestCounter++,this._activeRequests[this._requestCounter]=r,n.publish(this._CLEARGLOBALBREAKPOINT_CHANNEL,{requestID:this._requestCounter,breakpoint:e,attachID:this._attachID}),r},breakInDebugger:function(){n.publish(this._BREAKINDEBUGGER_CHANNEL,{})},_handleResponse:function(e){var t=e.data,n=this._activeRequests[t.requestID];if(n){if(t.hasOwnProperty("error")){var i=t.error,o=new r(i.status,i.msg,i.id,i.functionName,i.frames,i.causes);n.reject(o)}n.resolve()}delete this._activeRequests[t.requestID]},destroy:function(){var e=new r("runtimeError","MVM is being destroyed");Object.values(this._activeRequests).forEach((function(t,n){t.reject(e)})),delete this._activeRequests,n.unsubscribe(this._DEBUGGER_REPLY_CHANNEL+this._attachID,this._handleResponse,this)}})}),e,t),e.exports=i},"mw-mvm/impl/EventManager":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-mvm/impl/Connection"]),n(n.dj.r.absMids["mw-mvm/impl/MVMConnection"]),n(n.dj.r.absMids["mw-mvm/impl/Payload"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-utils/Utils"])],i=n.dj.d(r,(function(e,t,n,r,i,o){return e(null,{constructor:function(e,t,r,o){i.assert("user-mvm"===t,"Only user-mvm is supported at this time"),this._mvmConnection=new n(e,"/mvm/eventMgr",r,o),this._mvmConnection.subscribe("event","_handleEvent",this),this._callbackMap={}},subscribe:function(e,t){const n=o.generateUuid(),i=r.makeEventSubscribeRequest(n,e);return this._subscribeHelper(i,t)},destroy:function(){for(const e in this._callbackMap)this._disconnect(e);this._mvmConnection.destroy()},_disconnect:function(e){if(!this._isConnected(e))return;this._callbackMap[e]=function(){};const t=r.makeEventDisconnectRequest(e);return this._mvmConnection.makeRequest(t).then(function(){delete this._callbackMap[e]}.bind(this))},_runOptionsSubscribe:function(e,t){const n=o.generateUuid(),i=r.makeRunOptionsEventSubscribeRequest(n,e);return this._subscribeHelper(i,t)},_subscribeHelper:function(e,n){this._callbackMap[e.uId]=n;const r=this._mvmConnection.makeRequest(e);return new t(r,e.uId,this)},_handleEvent:function(e){const t=e.data;if(!this._isConnected(t.uId))return;(0,this._callbackMap[t.uId])(t.eventData)},_isConnected:function(e){return e in this._callbackMap}})}),e,t),e.exports=i},"mw-mvm/impl/Fileinfo":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-mvm/impl/MVMCache"])],i=n.dj.d(r,(function(e,t){return e(null,{constructor:function(e,t,n,r,i,o){this._writable=e,this._isDirectory=t,this._location=n,this._modifiedUTC=r,this._name=i,this._separator=o},isWritable:function(){return this._writable},isDirectory:function(){return this._isDirectory},getLocation:function(){return this._location},getModifiedUTC:function(){return this._modifiedUTC},getSeparator:function(){return this._separator},getName:function(){return this._name}})}),e,t),e.exports=i},"mw-mvm/impl/IdleBusyService":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-messageservice/MessageService"])],i=n.dj.d(r,(function(e,t){return e(null,{_IDLEBUSYSERVICE_CHANNEL:"/mvm/idlebusyservice/",constructor:function(){this._subscribers={}},subscribe:function(e,t){Array.isArray(this._subscribers[e])||(this._subscribers[e]=[]),this._subscribers[e].push(t),1===this._subscribers[e].length&&this.subscribeImpl_(e)},unsubscribe:function(e,t){var n=this._subscribers[e];if(n){var r=n.findIndex((function(e){return e===t}));n.splice(r,1),0===n.length&&(delete this._subscribers[e],this.unsubscribeImpl_(e))}},handleIdleBusyEvent_:function(e){if(e.data){var t=e.data.groupName;t&&this._subscribers[t].forEach((function(t){var n={};e.data.error?n.error=e.data.error:void 0!==e.data.state?n.state=e.data.state:n.error="Unknown Error",t(n)}))}},subscribeImpl_:function(e){return t.subscribe(this._IDLEBUSYSERVICE_CHANNEL+e,this.handleIdleBusyEvent_,this)},unsubscribeImpl_:function(e){return t.unsubscribe(this._IDLEBUSYSERVICE_CHANNEL+e,this.handleIdleBusyEvent_,this)},destroy:function(){Object.keys(this._subscribers).forEach(function(e){this.unsubscribeImpl_(e)}.bind(this)),this._subscribers={}}})}),e,t),e.exports=i},"mw-mvm/impl/Listener":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mf0/Listener"]),n(n.dj.r.absMids["dojo/topic"])],i=n.dj.d(r,(function(e,t,n){return e(t=t.default,{constructor:function(){},transactionCommitted:function(e){e.processModified((function(t){e.isChanged(t,t.getMetaClass().getPropertyByName("currentWorkingDirectory"))||e.isChanged(t,t.getMetaClass().getPropertyByName("cwdFileinfo"))?n.publish("cwd",{cwd:t.currentWorkingDirectory,cwdFileInfo:t.cwdFileinfo}):e.isChanged(t,t.getMetaClass().getPropertyByName("matlabPath"))?n.publish("path",t.matlabPath):e.isChanged(t,t.getMetaClass().getPropertyByName("workspaceVarNames"))?n.publish("workspaceVars",t.workspaceVarNames._collection):e.isChanged(t,t.getMetaClass().getPropertyByName("mvmCapabilities"))?n.publish("mvmCapabilities",t.mvmCapabilities._collection):e.isChanged(t,t.getMetaClass().getPropertyByName("clientCapabilities"))&&n.publish("clientCapabilities",t.clientCapabilities._collection)}))}})}),e,t),e.exports=i},"mw-mvm/impl/MVM":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["mw-messageservice/MessageService"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-mvm/impl/RuntimeException"]),n(n.dj.r.absMids["mw-mvm/impl/EventManager"]),n(n.dj.r.absMids["mw-utils/Utils"]),n(n.dj.r.absMids["mw-mvm/impl/State"]),n(n.dj.r.absMids["mw-mvm/impl/RequestTracker"]),n(n.dj.r.absMids["mw-mvm/impl/PromptService"]),n(n.dj.r.absMids["mw-mvm/impl/IdleBusyService"]),n(n.dj.r.absMids["mw-mvm/ExecutionStatus"]),n(n.dj.r.absMids["mw-mvm/impl/Debugger"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l,f,d){var h=e(null,{_RESULT_PROPERTY:"result",_ERROR_PROPERTY:"error",_FEVAL_CHANNEL:"/mvm/request/feval",_EVAL_CHANNEL:"/mvm/request/eval",_CANCEL_CHANNEL:"/mvm/cancel",_RESPONSE_CHANNEL:"/mvm/response/",_ATTACH_RESPONSE_CHANNEL:"/mvm/attach/response/",_ATTACH_CHANNEL:"/mvm/attach",_MVM_DESTROY:"mvm is being destroyed",_OUTPUT_CHANNEL:"/mvm/output/",_ERROR_CHANNEL:"/mvm/error/",_SETSINK_CHANNEL:"/mvm/sinks/set",_RESPONSESINK_CHANNEL:"/mvm/sinks/response",constructor:function(e,i){r.assert("user-mvm"===e,"Only user-mvm is supported at this time"),n.isStarted()||n.start(),this._MVMid=e,this._destroyCallback=i,this._refCount=0,this._activeRequests={},this._attachID=a.generateUuid(),this._requestCounter=0,this._mvmReady=new t((function(e,t){})),n.subscribe(this._ATTACH_RESPONSE_CHANNEL+this._attachID,"_handleMVMReady",this),n.publish(this._ATTACH_CHANNEL,{mvmID:this._MVMid,attachID:this._attachID}),this._promptService=new c(this._MVMid),this._idleBusyService=new l(this._MVMid),this._eventManager=new o(n,this._MVMid,this._attachID,this._mvmReady),this._outputCallback={},this._errorCallback={},this._debugger=new d(this._attachID)},_handleMVMReady:function(){n.unsubscribe(this._ATTACH_RESPONSE_CHANNEL+this._attachID,"_handleMVMReady",this),this._mvmReady.isCanceled()||(n.subscribe(this._RESPONSE_CHANNEL+this._attachID,"_handleResponse",this),n.subscribe(this._OUTPUT_CHANNEL+this._attachID,"_handleOutput",this),n.subscribe(this._ERROR_CHANNEL+this._attachID,"_handleError",this),n.subscribe(this._RESPONSESINK_CHANNEL,"_handleTextEvent",this),this._mvmReady.resolve())},_handleFEvalResponse:function(e,t){if(e.hasOwnProperty("result"))t.resolve(e.result);else if(e.hasOwnProperty("error")){var n=e.error,r=new i(n.status,n.msg,n.id,n.functionName,n.frames,n.causes);t.reject(r)}},_handleEvalResponse:function(e,t){if(e.hasOwnProperty("error")){var n=e.error,r=new i(n.status,n.msg,n.id,n.functionName,n.frames,n.causes);t.reject(r)}t.resolve()},_handleResponse:function(e){var t=e.data,n=this._activeRequests[t.requestID];n&&(n.getTimeOut()&&clearTimeout(n.getTimeOut()),n.getResponseHandler()(t,n.getDeferred())),delete this._activeRequests[t.requestID]},_handleTimeout:function(e){var t=this._activeRequests[e];t&&t.getDeferred()&&t.getDeferred().cancel("Canceled because of timeout",!0,!0)},_createRequestPromise:function(e){return new t(function(t,r,i){var o=this._activeRequests[e];o&&o.getTimeOut()&&clearTimeout(o.getTimeOut()),delete this._activeRequests[e],void 0===i&&(i=!0),this._mvmReady.then(function(){n.publish(this._CANCEL_CHANNEL,{attachID:this._attachID,requestID:e,interrupt:i})}.bind(this))}.bind(this))},_setTimeOut:function(e,t){if(e&&void 0!==e.getTimeOut())var n=setTimeout(this._handleTimeout.bind(this,t),e.getTimeOut());return n},feval:function(e,t,r,o){var a=this._requestCounter++,s=this._createRequestPromise(a);if(null==e||!("string"==typeof e||e instanceof String))return s.reject(new i(f.inCOMPILE_ERROR,"Invalid function name.",1)),s;if(null==t||!("number"==typeof t||t instanceof Number)||t<0)return s.reject(new i(f.inCOMPILE_ERROR,"Invalid numberOfOutput.",1)),s;if(o){var c=o._serializeAndVerifyRunOptions();if(c.error)return s.reject(new i(f.inCOMPILE_ERROR,c.error,1)),s;c.runOptions.eventConnections=this._prepareRunOptionEvents(o,s)}var l=this._setTimeOut(o,a);return this._activeRequests[a]=new u(s,this._handleFEvalResponse,l,o),this._mvmReady.then(function(){n.publish(this._FEVAL_CHANNEL,{attachID:this._attachID,requestID:a,function:e,rhsArgs:r,numOutputsExpected:t,runOptions:c?c.runOptions:void 0})}.bind(this),(function(e){})),s},eval:function(e,t,r){void 0===r&&(r=!1);var o=this._requestCounter++,a=this._createRequestPromise(o);if(null==e||!("string"==typeof e||e instanceof String))return a.reject(new i(f.inCOMPILE_ERROR,"Invalid function name.",1)),a;if(t){var s=t._serializeAndVerifyRunOptions();if(s.error)return a.reject(new i(f.inCOMPILE_ERROR,s.error,1)),a;s.runOptions.eventConnections=this._prepareRunOptionEvents(t,a)}var c=this._setTimeOut(t,o);return this._activeRequests[o]=new u(a,this._handleEvalResponse,c,t),this._mvmReady.then(function(){n.publish(this._EVAL_CHANNEL,{attachID:this._attachID,requestID:o,command:e,runOptions:s?s.runOptions:void 0,isUserEval:r})}.bind(this),(function(e){})),a},_prepareRunOptionEvents:function(e,t){const n=e.getEventCallbacks();let r={};return void 0!==n&&Object.keys(n).forEach(function(e){const i=this.getEventManager()._runOptionsSubscribe(e,n[e]);r[i._uId]=e,t.then((function(){i.destroy()}),(function(){i.destroy()}))}.bind(this)),r},destroy:function(){--this._refCount,this._refCount>0||(this._mvmReady.isResolved()&&(n.unsubscribe(this._RESPONSE_CHANNEL+this._attachID,"_handleResponse",this),n.unsubscribe(this._OUTPUT_CHANNEL+this._attachID,"_handleOutput",this),n.unsubscribe(this._ERROR_CHANNEL+this._attachID,"_handleError",this),n.unsubscribe(this._RESPONSESINK_CHANNEL,"_handleTextEvent",this)),this._mvmReady.then((function(e){}),(function(e){})),this._mvmReady.cancel(this._MVM_DESTROY,!1),Object.keys(this._activeRequests).forEach((function(e){var t=this._activeRequests[e];t.getDeferred().cancel(this._MVM_DESTROY,!1),clearTimeout(t.getTimeOut())}),this),this._activeRequests={},this._promptService&&this._promptService.destroy(),this._idleBusyService&&this._idleBusyService.destroy(),this._eventManager&&this._eventManager.destroy(),this._debugger&&this._debugger.destroy(),this._destroyCallback())},getState:function(){return s},getPromptService:function(){return this._promptService},getIdleBusyService:function(){return this._idleBusyService},_handleOutput:function(e){var t=e.data;if(void 0!==t.requestID){var n=this._activeRequests[t.requestID];if(n&&n.getOutSink()){var r=n.getOutSink();r&&r(t.text)}}else this.outSink&&this.outSink(t.text)},_handleError:function(e){var t=e.data;if(void 0!==t.requestID){var n=this._activeRequests[t.requestID];if(n&&n.getErrSink()){var r=n.getErrSink();r&&r(t.text)}}else this.errSink&&this.errSink(t.text)},whenMVMReady:function(){return this._mvmReady.then((function(e){return e}))},setTextCallbacks:function(e,t){this._outputCallback=e,this._errorCallback=t,this._mvmReady.then(function(){n.publish(this._SETSINK_CHANNEL,{attachID:this._attachID})}.bind(this),(function(e){}))},_handleTextEvent:function(e){var t=e.data;t&&(0===t.stream?this._outputCallback(t.text):1===t.stream&&this._errorCallback(t.text))},getEventManager:function(){return this._eventManager},getDebugger:function(){return this._debugger}});return{get:function(e){let t=this._mvmMap[e];return void 0===t&&(t=new h(e,function(){delete this._mvmMap[e]}.bind(this)),this._mvmMap[e]=t),++t._refCount,t},_mvmMap:{}}}),e,t),e.exports=i},"mw-mvm/impl/MVMCache":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mf0_sync/ConnectorChannel"]),n(n.dj.r.absMids["mf0_sync/ModelSynchronizer"]),n(n.dj.r.absMids["mw-mvm/impl/Listener"]),n(n.dj.r.absMids["mw-mvm/impl/SharedPathEntryVectorPtrSerializer"])],i=n.dj.d(r,(function(e,t,n,r){return{_cache:null,getCache:function(){return null===this._cache&&(this._cache=this._initCache()),this._cache},_initCache:function(){e=e.default,t=t.default;var i=new mf.zero.Model;i.addShallowListener(new n);var o=new e({inChannel:"/mvm/cache",outChannel:"/mvm/cache"});return o.start().then((function(){var e=new t(i,o);return e.fetchDataDefinition("http://schema.mathworks.com/mf0/mvm_cache_model/R2020a").then((function(){return r.registerSerializer(),e.fetchModel().then((function(){return e.start(),i}))}))})).then((function(e){var t;return e.getModel().topLevelElements.forEach((function(e){"MVMCache"===e.getMetaClass().name&&(t=e)})),t}))}}}),e,t),e.exports=i},"mw-mvm/impl/MVMConnection":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/promise/all"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-utils/Utils"])],i=n.dj.d(r,(function(e,t,n,r,i){return e(null,{constructor:function(e,n,r,o){this._messageService=e,this._channelBasename=n,this._requestChannel=this._channelBasename+"/request",this._connectionId=void 0===r?i.generateUuid():r,void 0===o?(this._readyPromise=new t,this._readyPromise.resolve()):this._readyPromise=o,this._subscriptionPromises=[],this._subscribeArgs=[],this.subscribe("response","_handleResponse",this),this._requestPromiseMap={}},subscribe:function(e,t,n){const r=[this._channelBasename+"/"+e+"/"+this._connectionId,t,n],i=this._messageService.subscribe(...r);return this._subscriptionPromises.push(i),this._subscribeArgs.push(r),i},makeRequest:function(e){const r=i.generateUuid(),o=function(){r in this._requestPromiseMap&&delete this._requestPromiseMap[r]}.bind(this),a=new t,s=a.then((function(){o()}),(function(e){throw o(),e}));return this._requestPromiseMap[r]=a,e.requestId=r,e.connectionId=this._connectionId,n(this._subscriptionPromises,this._readyPromise).then(function(){this._messageService.publish(this._requestChannel,e)}.bind(this)),s},destroy:function(){return n(this._subscriptionPromises).then(function(){for(;this._subscribeArgs.length>0;){const e=this._subscribeArgs.shift();this._messageService.unsubscribe(...e)}}.bind(this))},_handleResponse:function(e){const t=e.data;t.requestId in this._requestPromiseMap&&(t.success?this._requestPromiseMap[t.requestId].resolve():this._requestPromiseMap[t.requestId].reject(new Error(t.error)))}})}),e,t),e.exports=i},"mw-mvm/impl/Payload":function(e,t,n){"use strict";var r,i;r=[],i=n.dj.d(r,(function(){return{makeEventSubscribeRequest:function(e,t){return{type:"subscribe",uId:e,eventName:t}},makeRunOptionsEventSubscribeRequest:function(e,t){return{type:"subscribeRunOptionsEvent",uId:e,eventName:t}},makeEventDisconnectRequest:function(e){return{type:"disconnect",uId:e}}}}),e,t),e.exports=i},"mw-mvm/impl/PromptService":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-messageservice/MessageService"]),n(n.dj.r.absMids["mw-mvm/InputRequester"])],i=n.dj.d(r,(function(e,t,n){return e(null,{_PROMPTSERVICE_CHANNEL:"/mvm/promptservice/",_PROMPT_KEYS:Object.keys(n),constructor:function(){this._subscribers={}},subscribe:function(e,t){Array.isArray(this._subscribers[e])||(this._subscribers[e]=[]),this._subscribers[e].push(t),1===this._subscribers[e].length&&this.subscribeImpl_(e)},unsubscribe:function(e,t){var n=this._subscribers[e];if(n){var r=n.findIndex((function(e){return e===t}));n.splice(r,1),0===n.length&&(delete this._subscribers[e],this.unsubscribeImpl_(e))}},handlePromptEvent:function(e){if(e.data){var t=e.data.groupName;t&&this._subscribers[t].forEach(function(t){var r={};e.data.error?r.error=e.data.error:void 0!==e.data.prompt&&void 0!==e.data.state?(r.prompt=n[this._PROMPT_KEYS[e.data.prompt+1]],r.state=e.data.state):r.error="Unknown Error",t(r)}.bind(this))}},subscribeImpl_:function(e){return t.subscribe(this._PROMPTSERVICE_CHANNEL+e,this.handlePromptEvent,this)},unsubscribeImpl_:function(e){return t.unsubscribe(this._PROMPTSERVICE_CHANNEL+e,this.handlePromptEvent,this)},destroy:function(){Object.keys(this._subscribers).forEach(function(e){this.unsubscribeImpl_(e)}.bind(this)),this._subscribers={}}})}),e,t),e.exports=i},"mw-mvm/impl/RequestTracker":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"])],i=n.dj.d(r,(function(e,t){return e(null,{constructor:function(e,t,n,r){if(this._timeout=n,this._deferred=e,this._responseCallback=t,this._eventCallbackMap={},r){if(r.getEventCallbacks()){var i=r.getEventCallbacks();for(var o in i)this._eventCallbackMap[o]=i[o]}this.outSink=r.getOutTextCallback(),this.errSink=r.getErrTextCallback()}},getTimeOut:function(){return this._timeout},getDeferred:function(){return this._deferred},getResponseHandler:function(){return this._responseCallback},getEventCallback:function(e){return this._eventCallbackMap[e]},getOutSink:function(){return this.outSink},getErrSink:function(){return this.errSink}})}),e,t),e.exports=i},"mw-mvm/impl/RuntimeException":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-mvm/impl/StackFrame"])],i=n.dj.d(r,(function(e,t){var n=e(null,{constructor:function(e,r,i,o,a,s){this._status=e,this._msg=r,this._id=i,this._functionName=o,this._frames=[],this._causes=[],a&&a.forEach((function(e){this._frames.push(new t(e.file,e.func,e.line))}),this),s&&s.forEach((function(e){this._causes.push(new n(e.status,e.msg,e.id,e.functionName,e.frames,e.causes))}),this)},getID:function(){return this._id},getMsg:function(){return this._msg},getExecutionStatus:function(){return this._status},getFunctionName:function(){return this._functionName},getStackFrames:function(){return this._frames},getCauses:function(){return this._causes}});return n}),e,t),e.exports=i},"mw-mvm/impl/SharedPathEntryVectorPtrSerializer":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mf0/meta/DefaultPropertySerializer"]),n(n.dj.r.absMids["mf0/meta/PropertySerializerRegistry"]),n(n.dj.r.absMids["mf0/meta/RegistryTypes"])],i=n.dj.d(r,(function(e,t,n){return{registerSerializer:function(r){var i=n.default.getType("mvm.services.SharedPathEntryVectorPtr"),o=new e.default(i);o._doSerializeValue=function(e){throw new Error("doSerializeValue has not been implemented yet")},o._doParseValue=function(e){return JSON.parse(e)},t.default.registerPropertySerializer(i,o)}}}),e,t),e.exports=i},"mw-mvm/impl/StackFrame":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"])],i=n.dj.d(r,(function(e){return e(null,{constructor:function(e,t,n){this._file=e,this._func=t,this._line=n},getFileName:function(){return this._file},getFunctionName:function(){return this._func},getLineNumber:function(){return this._line}})}),e,t),e.exports=i},"mw-mvm/impl/State":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-mvm/impl/MVMCache"]),n(n.dj.r.absMids["mw-mvm/impl/Fileinfo"]),n(n.dj.r.absMids["dojo/topic"])],i=n.dj.d(r,(function(e,t,n,r){return{getCWD:function(){return t.getCache().then((function(e){return e._currentWorkingDirectory}))},getCWDFileinfo:function(){return t.getCache().then((function(e){var t=e._cwdFileinfo;return new n(t.writable,t.isDirectory,t.location,t.modifiedUTC,t.name,t.separator)}))},getMatlabPath:function(){return t.getCache().then((function(e){return e.matlabPath}))},getWorkSpaceVarNames:function(){return t.getCache().then((function(e){return e.workspaceVarNames._collection}))},getMVMCapabilities:function(){return t.getCache().then((function(e){var t=new Set;return e.mvmCapabilities._collection.forEach((function(e){t.add(e.literal)})),t}))},getClientCapabilities:function(){return t.getCache().then((function(e){var t=new Set;return e.clientCapabilities._collection.forEach((function(e){t.add(e.literal)})),t}))},subscribe:function(e,t){return r.subscribe(e,t)}}}),e,t),e.exports=i},"mw-remote/EndPointsManager":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],i=n.dj.d(r,(function(e,t,n,r,i){return e([],{constructor:function(){this.DirectXhrConstants={ENABLED:"ENABLED",DISABLED:"DISABLED",UNRESOLVED:"UNRESOLVED"},this._setDirectXhrCommunicationState(!1),this._directXhrChecks={},this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:["RouterLogin","CreateAccount","CurrentUser","Login","UpdateAccount","ServiceRegistry","ClientType","AuthorizationDetails","AcquireMatlab"],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],iframeProxyName:"remoteWorkerAsyncProducer",acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1,directXhr:this.DirectXhrConstants.UNRESOLVED},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1,directXhr:this.DirectXhrConstants.UNRESOLVED}}},_setDirectXhrCommunicationState:function(e){this._useDirectXhrForCommunication=e},reset:function(){this._initializeEndPointsCollection(),this._directXhrChecks={}},setUpNewEndPoint:function(e,t,n,r,i){this.endPointsCollection[e]={routingHost:"",routingKey:"",pathSuffix:n,enabled:t,messages:[],iframeProxy:null,iframeProxyName:r,acceptsMessageContainerMessages:i,directXhr:this.DirectXhrConstants.UNRESOLVED}},getPathSuffixForEndPoint:function(e){return this.endPointsCollection[e].pathSuffix},setPathSuffixForEndPoint:function(e,t){this.endPointsCollection[e].pathSuffix=t},getEndPointNames:function(){var e,t={};for(e in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(e)&&(t[e]=e);return t},setRoutingHostAndRoutingKey:function(e,t,n){t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),this.endPointsCollection[e].routingHost=t,n&&(this.endPointsCollection[e].routingKey=n),this._checkIfEndpointAllowsDirectXhr(e,!0).then(r.hitch(this,this._processEndPointAllowsXhrResponse,e,t))},_processEndPointAllowsXhrResponse:function(e,t,n){this._setEndpointAllowsDirectXhr(n),n.status!==this.DirectXhrConstants.ENABLED&&t&&this._setIframeRoutingHostAndRoutingkey(e)},_setEndpointAllowsDirectXhr:function(e){this.endPointsCollection[e.endPointName]&&e.status in this.DirectXhrConstants&&(this.endPointsCollection[e.endPointName].directXhr=e.status)},_setIframeRoutingHostAndRoutingkey:function(e){var t=this.getIframeProxyClientForEndPoint(e);t&&t.setRemotePageHost(this.endPointsCollection[e].routingHost,this.endPointsCollection[e].routingKey,null,this.endPointsCollection[e].iframeProxyUrl)},getEndPointAllowsDirectXhr:function(e){return this._checkIfEndpointAllowsDirectXhr(e,!1)},_checkIfEndpointAllowsDirectXhr:function(e,t){if(this._directXhrChecks[e]&&!t)return this._directXhrChecks[e];var r=new n;this._directXhrChecks[e]=r;var i,o=this.getDirectXhrAllowed(e),a=this.DirectXhrConstants,s={endPointName:e,status:a.UNRESOLVED};if("function"==typeof URL)try{i=new URL(this.getRoutingHost(e))}catch(e){return s.status=a.DISABLED,r.resolve(s),r.promise}else(i=document.createElement("a")).href=this.getRoutingHost(e);if(this._useDirectXhrForCommunication)if(i.origin===window.location.origin)s.status=a.ENABLED,r.resolve(s);else if(o===a.UNRESOLVED){var u=new XMLHttpRequest,c=this.getRemoteUrlForEndPoint(e);u.open("OPTIONS",c),u.send(),u.onload=function(){200===u.status?(s.status=a.ENABLED,r.resolve(s)):(s.status=a.DISABLED,r.resolve(s))},u.onerror=function(){s.status=a.DISABLED,r.resolve(s)}}else s.status=o,r.resolve(s);else s.status=a.DISABLED,r.resolve(s);return r.promise},getRoutingHost:function(e){return this.endPointsCollection[e].routingHost},getRoutingKey:function(e){return this.endPointsCollection[e].routingKey},getMessageTypesMappedToEndPoint:function(e){return this.endPointsCollection[e].messages},isEndPointEnabled:function(e){return this.endPointsCollection[e].enabled},setMessageTypesToEndPoint:function(e,t){this.endPointsCollection[e].messages=t},enableEndPoint:function(e){this.endPointsCollection[e].enabled=!0},getDirectXhrAllowed:function(e){return this.endPointsCollection[e].directXhr},disableEndPoint:function(e){this.endPointsCollection[e].enabled=!1},getEndPointForMessageType:function(e){var n,r=null;for(n in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(n)&&(r=t.lastIndexOf(this.endPointsCollection[n].messages,e)>-1?n:r)){if(this.isEndPointEnabled(r))break;r=null}return r||this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(e){var t=this.endPointsCollection[e].routingHost+this.endPointsCollection[e].pathSuffix;return this.endPointsCollection[e].routingKey&&(t=t+"?routingkey="+this.endPointsCollection[e].routingKey),t},setIframeProxyClientForEndPoint:function(e,t){this.endPointsCollection[e].iframeProxy=t},getIframeProxyClientForEndPoint:function(e){var t=this.endPointsCollection[e].iframeProxy;return t||(t=new i(this.endPointsCollection[e].iframeProxyName),this.endPointsCollection[e].iframeProxy=t),t},isEndpointMessageContainerBased:function(e){return!e||!this.endPointsCollection[e]||this.endPointsCollection[e].acceptsMessageContainerMessages},addMessagesTypesToEndPoint:function(e,t){this.endPointsCollection[e]&&-1===this.endPointsCollection[e].messages.indexOf(t)&&this.endPointsCollection[e].messages.push(t)},removeMessageTypesFromEndPoint:function(e,t){if(this.endPointsCollection[e]){var n=this.endPointsCollection[e].messages.indexOf(t);n>-1&&this.endPointsCollection[e].messages.splice(n,1)}}})}),e,t),e.exports=i},"mw-remote/Remote":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),n(n.dj.r.absMids["mw-remote/impl/FaultManager"]),n(n.dj.r.absMids["mw-remote/impl/RequestManager"]),n(n.dj.r.absMids["mw-remote/impl/ResponseManager"]),n(n.dj.r.absMids["mw-remote/impl/Transaction"]),n(n.dj.r.absMids["mw-remote/impl/AutoDetectedTransaction"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),n(n.dj.r.absMids["mw-remote/UploadToWorker"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/utils/RemoteUrlUtils"]),n(n.dj.r.absMids["mw-remote/serviceRegistryLookup!"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u,c,l,f,d,h){var p;return(p={reset:function(){var m=[],y=new r,g=new o({faultManager:y}),v=new i({responseManager:g});p.faultManager=y,p.responseManager=g,p.requestManager=v,p._serviceRegistryLookup=h,p._uploadIframeProxyUrlParameters=["?computeToken=","","&routingkey=",""];var b=p.proxyClient=new n;p.createUploadIframeTarget=e.hitch(b,b.createUploadIframeTarget),p.cancelUpload=e.hitch(b,b.cancelUpload),u.setIframeProxyClientForEndPoint(u.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,b),u.setIframeProxyClientForEndPoint(u.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,b),a.construct=function(e){return e=e||{},u.getRoutingHost(u.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||p.setEndpoint(),e.allowedMessages=m,e.sendMessage=p.sendMessage,e.computeSessionId=p.getComputeSessionId,new s(e)},p.registerEndpointLevelFaultHandler=e.hitch(y,y.registerEndpointLevelFaultHandler),p.sendMessage=e.hitch(v,v.sendMessage),p.sendPayload=c.sendPayload,p.registerDefaultMessageFactory=e.hitch(v,v.registerDefaultMessageFactory),p.deregisterDefaultMessageFactory=e.hitch(v,v.deregisterDefaultMessageFactory),p.registerResponseHandler=e.hitch(g,g.registerResponseHandler),p.deregisterResponseHandler=e.hitch(g,g.deregisterResponseHandler),p.registerFaultHandler=e.hitch(y,y.registerFaultHandler),p.deregisterFaultHandler=e.hitch(y,y.deregisterFaultHandler),p.registerTopLevelFaultHandler=e.hitch(y,y.registerTopLevelFaultHandler),p.deregisterTopLevelFaultHandler=e.hitch(y,y.deregisterTopLevelFaultHandler),p.setServiceEndPoint=function(e,t,n){u.setRoutingHostAndRoutingKey(e,t,n)},p.setDirectXhrCommunicationState=function(e){u._setDirectXhrCommunicationState(e)},p.setServicePathSuffixForEndPoint=function(e,t){u.setPathSuffixForEndPoint(e,t)},p.ignoreTopLevelFault=p.registerTopLevelFaultHandler,p.setComputeToken=function(e){p._uploadIframeProxyUrlParameters[1]=e.computeSessionId,v.computeToken=e},p.setWorkerEndpoint=function(e,t){p._uploadIframeProxyUrlParameters[3]=t,u.setRoutingHostAndRoutingKey(u.getEndPointNames().WORKER_ENDPOINT,e,t)},p.setEndpoint=function(e){if(!e){var t=p._serviceRegistryLookup.getServiceRegistryEndpoint("primary");t?e=t:(f.info("ServiceRegistryLookup is empty, falling back to localhost"),e="/")}if(!e||"/"===e){var n=(document.getElementsByTagName("base")[0]||{}).href;if(void 0!==n){var r=document.createElement("a");r.display="none",r.href=n,e=r.protocol+"//"+r.hostname+(r.port?":"+r.port:"")+"/"}else e=window.location.protocol+"//"+window.location.host+"/"}u.setRoutingHostAndRoutingKey(u.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,e),u.setRoutingHostAndRoutingKey(u.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,e),b.setRemotePageHost(e)},p.setAllowedMessages=function(e){m=e},p.allowAllMessages=function(){m=[]},p.getEndPoint=function(){return u.getRoutingHost(u.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)},p.getUploadIframeProxyUrl=function(){var e=p.getWorkerRoutingHost();return"/"===e.slice(-1)&&(e=e.slice(0,-1)),e+b.getUploadIframeProxyUrlPath()+p._uploadIframeProxyUrlParameters.join("")},p.getComputeSessionId=function(){return v.computeToken?v.computeToken.computeSessionId:null},p.getWorkerRoutingHost=function(){var e=u.getRoutingHost(u.getEndPointNames().WORKER_ENDPOINT);if(e)return e;if(!(e=p._serviceRegistryLookup.getServiceRegistryEndpoint("primary"))||"/"===e){var t=(document.getElementsByTagName("base")[0]||{}).href;if(void 0!==t){var n=document.createElement("a");n.display="none",n.href=t,e=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")+"/"}else e=window.location.protocol+"//"+window.location.host+"/"}return e},p.getWorkerRoutingKey=function(){return u.getRoutingKey(u.getEndPointNames().WORKER_ENDPOINT)},p.upload=function(e,t){return(new l).upload(e,t,{endpoint:p.getWorkerRoutingHost(),uploadIframeProxyUrl:p.getUploadIframeProxyUrl()})},p.createWorkerRoutingHostUrl=function(e){return d.createWorkerRoutingHostUrl(e,{host:p.getWorkerRoutingHost(),sessionId:p.getComputeSessionId(),routingKey:p.getWorkerRoutingKey()})},p.getServiceRegistryEndpoint=function(e){return p._serviceRegistryLookup.getServiceRegistryEndpoint(e)},p.enableServerOnWorkerAsync=function(){u.enableEndPoint(u.getEndPointNames().WORKER_ASYNC_ENDPOINT)},p.disableServerOnWorkerAsync=function(){u.disableEndPoint(u.getEndPointNames().WORKER_ASYNC_ENDPOINT)},p.isServerOnWorkerAsyncEnabled=function(){return u.isEndPointEnabled(u.getEndPointNames().WORKER_ASYNC_ENDPOINT)},p.enableServerOnWorker=function(){u.enableEndPoint(u.getEndPointNames().WORKER_ENDPOINT)},p.disableServerOnWorker=function(){u.disableEndPoint(u.getEndPointNames().WORKER_ENDPOINT)},p.isWorkerEndpointEnabled=function(){return u.isEndPointEnabled(u.getEndPointNames().WORKER_ENDPOINT)},p.setWorkerOnlyMessageTypes=function(e){u.setMessageTypesToEndPoint(u.getEndPointNames().WORKER_ENDPOINT,e)},t.after(b,"onError",(function(e){e&&y.handleNonTransactionFault(e)}),!0),p.createNewEndPoint=function(e,t,n,r,i){this.getEndPointByName(e)||u.setUpNewEndPoint(e,t,n,r,i)},p.getUrlForEndPoint=function(e){return u.getRemoteUrlForEndPoint(e)},p.getEndPointByName=function(e){return u.getEndPointNames()[e]},p.getEndPointAllowsDirectXhr=function(e){return u.getEndPointAllowsDirectXhr(e)}}}).reset(),p}),e,t),e.exports=i},"mw-remote/RemoteEndPointsManager":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mw-remote/EndPointsManager"])],i=n.dj.d(r,(function(e){var t=null;return null===t&&(t=new e),t}),e,t),e.exports=i},"mw-remote/ReplaceUploadIframe":function(e,t,n){"use strict";var r,i;function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r=[],i=n.dj.d(r,(function(){return function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._xhr=null,this._uploadDestinationUrl=t.uploadDestinationUrl,this._computeToken=t.computeToken,this._routingkey=t.routingkey,this._fileDestination=t.fileDestination,this._csrfToken=t.csrfToken,this._postMessage=function(e){t.postMessage(e)}}var t,n,r;return t=e,(n=[{key:"_postMessageToParent",value:function(e){this._postMessage({data:e})}},{key:"_createFormDataFromFileList",value:function(e){for(var t=new window.FormData,n=0;n<e.length;n++){var r=e[n];t.append("uploadFileName",r,r.name)}return t}},{key:"_createAndSendXhr",value:function(e){var t=this;this._xhr=new XMLHttpRequest,this._xhr.upload.onprogress=function(e){t._postMessageToParent({type:"updateProgress",loaded:e.loaded,total:e.total})},this._xhr.onload=function(){t._postMessageToParent({type:"uploadFinished",status:t._xhr.status,response:t._xhr.response})},this._xhr.onerror=function(){t._postMessageToParent({type:"uploadError",status:t._xhr.status,response:t._xhr.response})},this._xhr.open("POST","".concat(this._uploadDestinationUrl,"?dest=").concat(this._fileDestination,"&computeToken=").concat(this._computeToken,"&routingKey=").concat(this._routingkey,"&csrfToken=").concat(this._csrfToken),!0),this._xhr.send(e)}},{key:"handleMessage",value:function(e){if(e.data instanceof FileList){var t=this._createFormDataFromFileList(e.data);this._createAndSendXhr(t)}else"cancelUpload"===e.data&&(this._xhr&&this._xhr.abort(),this._postMessageToParent({type:"uploadCanceled"}))}}])&&o(t.prototype,n),r&&o(t,r),e}()}),e,t),e.exports=i},"mw-remote/UploadToWorker":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/Deferred"]),n(n.dj.r.absMids["dojo/dom-construct"]),n(n.dj.r.absMids["mw-html-utils/HtmlUtils"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),n(n.dj.r.absMids["mw-remote/ReplaceUploadIframe"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a){return e([],{constructor:function(){},upload:function(e,n,r){var a=this;if(this._uploadHandler=new t((function(){a.postMessageToUploadIframe("cancelUpload"),a._unloadIframe()})),this._workerEndpoint=r.endpoint,e instanceof FileList){var s={csrfToken:void 0,validForMs:void 0};return o.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),i.getEndPointNames().WORKER_ENDPOINT).then((function(t){if(t.messages.CreateCsrfTokenResponse.forEach((function(e){e.messageFaults&&e.messageFaults.length>0||(s={csrfToken:e.csrfToken,validForMs:e.validForMs})})),window.MW_USE_IFRAME_OUT_OF_MODEL){var i=encodeURI(r.uploadIframeProxyUrl)+"&uploadDestinationUrl="+a._workerEndpoint+"upload?dest="+encodeURIComponent(n)+"&csrfToken="+encodeURIComponent(s.csrfToken);a._createUploadIframe(e,i)}else{var o=new URL(r.uploadIframeProxyUrl).searchParams,u=o.get("computeToken"),c=o.get("routingkey");a._createUploadIframeNew(e,{uploadDestinationUrl:a._workerEndpoint+"upload",computeToken:u,routingkey:c,fileDestination:encodeURIComponent(n),csrfToken:encodeURIComponent(s.csrfToken)})}})),this._uploadHandler}},_createUploadIframe:function(e,t){var r=this;this._eventCallBack=function(t){if(r.getHostName(t.origin)===r.getHostName(r._workerEndpoint))switch(t.data.type){case"iframeIsReady":r.postMessageToUploadIframe(e);break;case"updateProgress":r._uploadHandler.progress({loaded:t.data.loaded,total:t.data.total});break;case"uploadFinished":r._uploadHandler.resolve({status:t.data.status,response:t.data.response}),r._unloadIframe();break;case"uploadError":r._uploadHandler.reject({status:t.data.status,response:t.data.response})}},this._uploadIframe=n.create("iframe",{id:"uploadIframe",src:t,width:0,height:0,style:"visibility: hidden; display: none;"}),document.body.appendChild(this._uploadIframe),window.addEventListener("message",this._eventCallBack,!1)},_createUploadIframeNew:function(e,t){var n=this;this._eventCallBack=function(e){switch(e.data.type){case"updateProgress":n._uploadHandler.progress({loaded:e.data.loaded,total:e.data.total});break;case"uploadFinished":n._uploadHandler.resolve({status:e.data.status,response:e.data.response}),n._unloadIframe();break;case"uploadError":n._uploadHandler.reject({status:e.data.status,response:e.data.response})}},t.postMessage=this._eventCallBack,this._ReplaceUploadIframe=new a(t),this.postMessageToUploadIframe(e)},_unloadIframe:function(){window.MW_USE_IFRAME_OUT_OF_MODEL?this._uploadIframe&&(window.removeEventListener("message",this._eventCallBack,!1),this._uploadIframe.parentNode.removeChild(this._uploadIframe),n.destroy(this._uploadIframe),this._uploadIframe=void 0):this._ReplaceUploadIframe=null},getHostName:function(e){return r.parseUrl(e).hostname},postMessageToUploadIframe:function(e){window.MW_USE_IFRAME_OUT_OF_MODEL?this._uploadIframe.contentWindow.postMessage(e,this._workerEndpoint):this._ReplaceUploadIframe&&this._ReplaceUploadIframe.handleMessage({data:e})}})}),e,t),e.exports=i},"mw-remote/defaultMessageMapping":function(e,t,n){"use strict";var r,i;r=[],i=n.dj.d(r,(function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],SaveSessionState:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"],AcquireMatlab:["ServiceRegistry"]}}),e,t),e.exports=i},"mw-remote/iframeproxy/CheckUrlService":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/dom"]),n(n.dj.r.absMids["dojo/on"]),n(n.dj.r.absMids["dojo/request/script"]),n(n.dj.r.absMids["mw-log/Log"])],i=n.dj.d(r,(function(e,t,n,r){return function(i){var o,a,s,u;if(!i)throw new Error("Expected a valid url in urlToEmptyJsFile");return(o={}).framedoc=null,"error",a=n.get(i,o,!0),s=e.byId(a.id,o.frameDoc),u=t(s,"error",(function(e){r.info("CheckUrlService detected an error accessing url: "+i),a.handleResponse(null,e),u.remove()})),a.promise}}),e,t),e.exports=i},"mw-remote/iframeproxy/IframeProxyClient":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/connect"]),n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["dojo/dom-construct"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/iframeproxy/CheckUrlService"]),n(n.dj.r.absMids["mw-remote/iframeproxy/IframeProxyReplace"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s,u){var c=t([],{IFRAME_TIMEOUT:2e4,LATEST_VERSION:"1.6",REMOTE_PROXY:"/remote/proxy/",constructor:function(e){this.iframeId=e||"remoteProducer",this._version=null,this._messageId=0,this._loaded=!1,this._pendingQueue=[],this._transactions={},this._uploadTargetCallbacks={},this._checkUrl=null,this._loadTimeoutHandle=null,this._checkUrlTimeout=null,this._errorRate=0},setRemotePageHost:function(e,t,n,r){var i=this;e=this._combineUriPaths(e||"","/"),t=t||"",r=r||"",this.computeToken=n,e===this._host&&t===this._key&&r===this._proxyUrl||(this._loaded=!1,this._errorLoading=!1,this._host=e,this._key=t,this._proxyUrl=r,window.MW_USE_IFRAME_OUT_OF_MODEL?(this._version=null,this._setVersion("use_latest")):(this._version="use_latest",this._iframeProxyReplace=new u({parent:{postMessage:function(e){i._handleMessage({data:e})}}})))},_setVersion:function(e){if(e&&"use_latest"!==e||(e=this.LATEST_VERSION),!this._loaded&&e!==this._version){this._version=e;var t=this._calculateUrls(this._host,this._key,e,this._proxyUrl);this._createIframe(t)}},_calculateUrls:function(e,t,n,r){var i=this.REMOTE_PROXY+n+"/iframeProxyRelease.html",o=this.REMOTE_PROXY+n+"/CheckJsFile.js";return r&&(i=r),i=this._combineUriPaths(e,i).split("?")[0],i+=t?"?routingkey="+t:"",o=this._combineUriPaths(e,o),{fastFailUrl:o+=t?"?routingkey="+t:"?time="+(new Date).getTime(),iFrameUrl:i}},_createIframe:function(t){var n=t.fastFailUrl,r=this;this._url=t.iFrameUrl,this.remoteIframe&&o.destroy(this.remoteIframe),this.remoteIframe=o.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"}),document.body.appendChild(this.remoteIframe),this._checkUrl=null,this._checkUrlTimeout=setTimeout((function(){r._checkUrl=new s(n).then((function(){r._checkUrl=null}),(function(e){r._checkUrl=null,"cancel"!==e.dojoType&&"CancelError"!==e.name&&r._handleLoadTimeoutHitch()}))}),.15*this.IFRAME_TIMEOUT),this._loadTimeoutHandle=setTimeout((function(){r._handleLoadTimeoutHitch()}),this.IFRAME_TIMEOUT),this._messageConnection||(this._messageConnection=e.connect(window,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(this._cleanupFailureChecks(),!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{var e=(parseFloat(this._version)-.1).toFixed(1).toString();a.info("Unable to load proxy version "+this._version+", trying "+e+"."),this._setVersion(e)}},createUploadIframeTarget:function(e,t,n){this._uploadTargetCallbacks[e]=r.hitch(n||this,t),this._postMessage("createUploadIframe;"+e)},cancelUpload:function(e){this._postMessage("cancelUpload;"+e)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(e,t,r){var i,o,s,u=this;return this.computeToken&&((r=r||{}).headers=r.headers||{},r.headers.computeToken=this.computeToken),o="sendMessage;"+(i=this._getNewMessageId())+";"+t+";",o+=r?JSON.stringify(r,null,0):"{}",o+=";"+e,s={deferred:new n((function(){"1.0"===u._version?a.warn("Cancelling is not supported by the 1.0 remote proxy."):u._postMessage("abort;"+i)})),id:i},this._errorLoading?s.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[i]=s,this._postMessage(o)),s.deferred},setLatency:function(e){this._latency=e},setErrorRate:function(e){this._errorRate=e},_postMessage:function(e){this._loaded?this._postMessageNow(e):this._pendingQueue.push(e)},_handleMessage:function(e){var t,n,r,i,o,a,s,u,c,l=!0;if(window.MW_USE_IFRAME_OUT_OF_MODEL&&(l=e.source===this.remoteIframe.contentWindow),l){if(n=e.data.indexOf(";"),!(r=e.data.substring(0,n)))throw new Error("Client unable to parse message, no action specified: "+e.data);switch(r){case"ready":this._cleanupFailureChecks(),this._loaded=!0,this._flushPending();break;case"sendMessageResponse":this._sendMessageResponse(e,n);break;case"uploadIframeMessage":t=e.data.indexOf(";",n+1),i=e.data.substring(n+1,t),o=e.data.substring(t+1,e.data.length),this._uploadTargetCallbacks[i](o);break;case"websocketOpened":this.onWebsocketOpen();break;case"websocketClosed":a=e.data.substring(n+1,e.data.length),s=JSON.parse(a),this.onWebsocketClose(s);break;case"websocketMsg":u=e.data.substring(n+1,e.data.length),c=JSON.parse(u),this.onWebsocketMsg(c);break;case"websocketError":this.onWebsocketError();break;default:throw new Error("Unknown action: "+r+", data: "+e.data)}}},_sendMessageResponse:function(e,t){var n,r,i=e.data.indexOf(";",t+1),o=e.data.indexOf(";",i+1),a=e.data.substring(t+1,i),s=e.data.substring(i+1,o),u=e.data.substring(o+1,e.data.length);if(!a||!s)throw new Error("Invalid message from remote iframe: "+e.data);if(!(n=this._transactions[a]))throw new Error("Unknown transaction id: "+a+", from remote iframe: "+e.data);if(delete this._transactions[a],!n.deferred.isCanceled()){if("success"===s){try{r=u&&JSON.parse(u)}catch(e){r=u}return r=""===r?{}:r,void n.deferred.resolve(r)}this.onError(u),n.deferred.reject(u)}},_cleanupFailureChecks:function(){this._checkUrlTimeout&&clearTimeout(this._checkUrlTimeout),this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle),this._checkUrl&&!this._checkUrl.isFulfilled()&&this._checkUrl.cancel("Timeout Occurred or iFrame Was Loaded before CheckUrl",!1),this._checkUrlTimeout=null,this._loadTimeoutHandle=null,this._checkUrl=null},_handleLoadTimeout:function(){var e,t,n;if(!this._loaded){for(t in e={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},n=this._transactions,this._transactions={},this._pendingQueue=[],n)n.hasOwnProperty(t)&&n[t].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date);this._errorLoading=!0,this.onError(e)}},_postMessageNow:function(e){var t,n,r=this;function i(){if(r._errorRate>0&&Math.random()<r._errorRate&&0===e.indexOf("sendMessage;")){if(t=e.split(";",2)[1],n=r._transactions[t]){delete r._transactions[t],a.error("Generating simulated error. Request was: ",e);var i="403 Forbidden;403";r.onError(i),n.deferred.reject(i)}}else window.MW_USE_IFRAME_OUT_OF_MODEL?r.remoteIframe.contentWindow.postMessage(e,r._url):r._iframeProxyReplace.handleMessage({data:e})}this._latency?setTimeout(i,this._latency):i()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this),this._pendingQueue=[]},_getNewMessageId:function(){return this._messageId+=1,this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){var e=Array.prototype.slice.call(arguments),t=e.reduce((function(e,t){return 0===e.length?t:(t.length>0&&("/"===t[0]&&e.lastIndexOf("/")===e.length-1?t=t.substring(1):"/"!==t[0]&&e.lastIndexOf("/")!==e.length-1&&(e+="/")),e+t)}));return t}});return c.WebSocket=t([],{constructor:function(e){var t=this;this.proxyClient=c.WebSocket.proxyClient,this.proxyClient.computeToken&&e.indexOf("?")>=0&&(e=e+"&computeToken="+this.proxyClient.computeToken),this.proxyClient._postMessage("connectWebsocket;"+e),i.after(this.proxyClient,"onWebsocketOpen",(function(){t.onopen.apply(t,arguments)}),!0),i.after(this.proxyClient,"onWebsocketMsg",(function(){t.onmessage.apply(t,arguments)}),!0),i.after(this.proxyClient,"onWebsocketClose",(function(){t.onclose.apply(t,arguments)}),!0),i.after(this.proxyClient,"onWebsocketError",(function(){t.onerror.apply(t,arguments)}),!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(e){this.proxyClient._postMessage("websocketSend;"+e)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}}),c}),e,t),e.exports=i},"mw-remote/iframeproxy/IframeProxyReplace":function(e,t,n){"use strict";var r,i;function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r=[],i=n.dj.d(r,(function(){return function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._childIframes=[],this._inFlightTransactions={},this._noop=function(){},this._webSocket=null,this._parent=t.parent,this.postMessage("ready","")}var t,n,r;return t=e,(n=[{key:"postMessage",value:function(e,t){this._parent.postMessage(e+";"+t||"","*")}},{key:"handleXhrResponse",value:function(e,t){var n=e+";success;"+t;this.postMessage("sendMessageResponse",n)}},{key:"handleXhrFault",value:function(e,t,n){var r=e+";fault;"+t+";"+n;this.postMessage("sendMessageResponse",r)}},{key:"handleMessage",value:function(e){var t,n,r,i,o,a,s,u,c,l,f,d=this,h=e.data.indexOf(";"),p=e.data.substring(0,h);if(!p)throw new Error("Unable to parse message, no action specified: "+e.data);switch(p){case"sendMessage":if(t=e.data.indexOf(";",h+1),n=e.data.indexOf(";",t+1),s=e.data.indexOf(";",n+1),r=e.data.substring(h+1,t),i=e.data.substring(t+1,n),u=JSON.parse(e.data.substring(n+1,s)),o=e.data.substring(s+1,e.data.length),!(r&&i&&o))throw new Error("Invalid message to send: "+e.data);try{if(c=new XMLHttpRequest,this._inFlightTransactions[r]={xhr:c},l=!1,c.onreadystatechange=function(){var e;0===c.readyState?(l=!0,d.handleXhrFault(r,"XHR readyState 0")):4!==c.readyState||l||(l=!0,(e=c.status||0)>=200&&e<300||304===e?d.handleXhrResponse(r,c.responseText):d.handleXhrFault(r,c.responseText,e)),l&&c&&(c.onreadystatechange=d._noop,c=null,delete d._inFlightTransactions[r].xhr,delete d._inFlightTransactions[r])},c.open("POST",i,!0),c.setRequestHeader("Content-Type",u.contentType?u.contentType:"application/json"),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.headers)for(f in u.headers)u.headers.hasOwnProperty(f)&&c.setRequestHeader(f,u.headers[f]);c.send(o)}catch(e){this.handleXhrFault(r,"Unable to send data: "+e.toString())}break;case"createUploadIframe":r=e.data.substring(h+1,e.data.length),document.getElementById(r)||((a=document.createElement("iframe")).id=r,a.name=r,a.src="about:blank",a.width=0,a.height=0,a.style="visibility: hidden; display: none;",this._childIframes.push(a),document.body.appendChild(a));break;case"cancelUpload":r=e.data.substring(h+1,e.data.length);var m=document.getElementById(r);m&&(-1!==navigator.appVersion.indexOf("MSIE")?m.contentWindow.document.execCommand("Stop"):m.contentWindow.stop());break;case"abort":r=e.data.substring(h+1,e.data.length),this._inFlightTransactions[r]&&this._inFlightTransactions[r].xhr.abort();break;case"connectWebsocket":var y=e.data.substring(h+1,e.data.length);this._webSocket=new WebSocket(y),this._webSocket.onopen=function(){d._parent.postMessage("websocketOpened;","*")},this._webSocket.onmessage=function(e){var t={data:e.data},n=JSON.stringify(t);d._parent.postMessage("websocketMsg;"+n,"*")},this._webSocket.onclose=function(e){var t={code:e.code,reason:e.reason,wasClean:e.wasClean},n=JSON.stringify(t);d._parent.postMessage("websocketClosed;"+n,"*")},this._webSocket.onerror=function(){d._parent.postMessage("websocketError;","*")};break;case"websocketSend":var g=e.data.substring(h+1,e.data.length);this._webSocket.send(g);break;case"closeWebsocket":this._webSocket.close();break;default:throw new Error("Unknown action: "+p)}}}])&&o(t.prototype,n),r&&o(t,r),e}()}),e,t),e.exports=i},"mw-remote/impl/AutoDetectedTransaction":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-remote/impl/JsonTransaction"]),n(n.dj.r.absMids["mw-remote/utils/SendMessageUtil"])],i=n.dj.d(r,(function(e,t,n){return e([t],{_doSend:function(e){return n.sendPayload(e,this.endPointName)}})}),e,t),e.exports=i},"mw-remote/impl/FaultManager":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"])],i=n.dj.d(r,(function(e,t,n){return t([],{constructor:function(e){e=e||{},this.faultHandlers=e.faultHandlers||{},this.topLevelHandlers=e.topLevelHandlers||[],this.endPointLevelHandlers=e.endPointLevelHandlers||{}},registerFaultHandler:function(e,t,r){r&&(t=n.hitch(r,t)),this.faultHandlers[e]=t},deregisterFaultHandler:function(e){delete this.faultHandlers[e]},registerTopLevelFaultHandler:function(e,t,r){var i;if(r&&(t=n.hitch(r,t)),n.isString(e)){if("*"===e)return i={matcher:e,handler:t},this.defaultTopLevelHandler=t,i;e=this._constructMatcherFromQuery(e)}return i={matcher:e,handler:t},this.topLevelHandlers.push(i),i},registerEndpointLevelFaultHandler:function(e,t,r,i){var o;return i&&(r=n.hitch(i,r)),n.isString(t)&&(t=this._constructMatcherFromQuery(t)),o={matcher:t,handler:r},this.endPointLevelHandlers[e]||(this.endPointLevelHandlers[e]=[]),this.endPointLevelHandlers[e].push(o),o},deregisterTopLevelFaultHandler:function(e){var t=this.topLevelHandlers.indexOf(e);t>-1?this.topLevelHandlers.splice(t,1):"*"===e.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(t){var r=t.split("||"),i=[];return r.forEach((function(e){e=(e=(e=n.trim(e)).replace(/([.])/g,"\\$1")).replace(/\*/g,".*"),i.push(new RegExp("^"+e+"$"))})),function(t){return e.some(i,(function(e){return e.test(t.faultCode||t.code||"")}))}},handleFault:function(e){var t,r=function(t,n){var r,i=e.getMessageClassifier(n);i&&(r=[t,i].join(":"),this.faultHandlers[r]&&this.faultHandlers[r](e.fault,e.context))};for(t in e.requestMessages)if(e.requestMessages.hasOwnProperty(t)){this.faultHandlers[t]&&this.faultHandlers[t](e.fault,e.context);var i=e.requestMessages[t];Array.isArray(i)&&i.forEach(n.hitch(this,r,t))}this.faultHandlers["*"]&&this.faultHandlers["*"](e.fault,e.context),this.endPointLevelHandlers[e.endPointName]?this._handleEndpointLevelFault(e):this._handleTopLevelFault(e)},_handleEndpointLevelFault:function(t){var n=!1,r=e.filter(this.endPointLevelHandlers[t.endPointName],(function(e){return e.matcher.call(this,t.fault,t.context)}),this);return r.length>0&&r[0].handler&&(n=!0,r[0].handler.call(this,t.fault,t.context,t)),n},_handleTopLevelFault:function(t){var n=e.filter(this.topLevelHandlers,(function(e){return e.matcher.call(this,t.fault,t.context)}),this),r=n.length>0?n[0].handler:this.defaultTopLevelHandler;r&&r.call(this,t.fault,t.context,t)},handleNonTransactionFault:function(t){var n=e.filter(this.topLevelHandlers,(function(e){return e.matcher.call(this,t)}),this),r=n.length>0?n[0].handler:this.defaultTopLevelHandler;r&&r.call(this,t)}})}),e,t),e.exports=i},"mw-remote/impl/JsonTransaction":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/xhr"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-remote/impl/Transaction"])],i=n.dj.d(r,(function(e,t,n,r,i){return e(i,{constructor:function(e){e=e||{},this.uuid=e.uuid||this._generateUuid()},_getRequest:function(e){var t=r.isEndpointMessageContainerBased(this.endPointName),n=null;t?(n={uuid:this.uuid,messages:e},this.computeToken&&(n.computeToken=this.computeToken)):Object.keys(e).forEach((function(t){n=e[t]}));return this._sanitizeForJson(n),JSON.stringify(n,null,0)},_sanitizeForJson:function(e){var t;if(n.isArray(e))e.forEach(this._sanitizeForJson,this);else if(n.isObject(e))for(t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete e[t]:(n.isObject(e[t])||n.isArray(e[t]))&&this._sanitizeForJson(e[t]))},_doSend:function(e){return t.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:e})},_processResponse:function(e){this.stopTime=(new Date).getTime(),e?(e.fault&&(this.fault=e.fault),e.messages?this.responseMessages=e.messages:this.responseMessages=e):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(e){this.stopTime=(new Date).getTime(),this.fault={faultCode:"Connection.Fault",message:e}}})}),e,t),e.exports=i},"mw-remote/impl/RequestManager":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/array"]),n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-remote/defaultMessageMapping"]),n(n.dj.r.absMids["mw-remote/impl/Transaction"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a){return t([],{defaultMapping:o,constructor:function(e){e=e||{},this.defaultFactories=e.defaultFactories||{},this.mockHandlers=e.mockHandlers||{},this.mapping=e.mapping||this.defaultMapping,this.responseManager=e.responseManager},registerDefaultMessageFactory:function(e,t,n){n&&(t=r.hitch(n,t)),this.defaultFactories[e]=t},deregisterDefaultMessageFactory:function(e){delete this.defaultFactories[e]},registerMockResponseGenerator:function(e,t,i){var o=this;t=r.hitch(i||this,t),this.mockHandlers[e]=function(e,r){var i,s=a.construct(r);(i=t(e,s))||(i=new n).callback(),i.addCallback((function(){o.responseManager._processResult(s)}))}},deregisterMockResponseGenerator:function(e){delete this.mockHandlers[e]},sendMessage:function(e,t,n){var r,i,o,a={},s={};for(t=t||{},this._createAndFillTransactions(e,t,n,a,s),r=Object.keys(a),i=0;i<r.length;i+=1)o=r[i],this._callMocks(s[o]),a[o].send(),this.responseManager.handleTransaction(a[o])},_getTransaction:function(e,t){return a.construct({context:t,computeToken:this.computeToken,endPointName:e})},_getMockTransaction:function(e,t,n){return a.construct({context:t,computeToken:this.computeToken,endPointName:e,uuid:n})},_createAndFillTransactions:function(e,t,n,r,o){var a,s,u,c,l=function(e){var n,a,s,u,c,l,f;if(c=i.getEndPointForMessageType(e),l=r[c],f=o[c],l||(l=this._getTransaction(c,t),f=this._getMockTransaction(c,t,l.uuid),r[c]=l,o[c]=f),this.defaultFactories[e]){if(!(n=this.defaultFactories[e](l.context)))return;s=(a=e.split(":"))[0],u=a.slice(1,a.length).join(":"),this.mockHandlers[e]||l.addRequestMessage(s,n,u),f.addRequestMessage(s,n,u)}};for(a in e)if(e.hasOwnProperty(a)){var f=i.getEndPointForMessageType(a);u=o[f],c=r[f],r[f]||(c=this._getTransaction(f,t),u=this._getMockTransaction(f,t,c.uuid),r[f]=c,o[f]=u),s=[a,n].join(":"),this.mockHandlers[a]||this.mockHandlers[s]||c.addRequestMessage(a,e[a],n),u.addRequestMessage(a,e[a],n),this.mapping[s]?this.mapping[s].forEach(l,this):this.mapping[a]&&this.mapping[a].forEach(l,this)}},_callMocks:function(e){var t,n,i=e.context;delete e.context;var o=function(e,n){var r,i=t.getMessageClassifier(n);i&&(r=[e,i].join(":"),this.mockHandlers[r]&&this.mockHandlers[r]([n],t))};for(n in e.requestMessages)e.requestMessages.hasOwnProperty(n)&&((t=r.mixin({},e)).context=i,this.mockHandlers.hasOwnProperty(n)&&this.mockHandlers[n](t.requestMessages[n],t),Array.isArray(t.requestMessages[n])?t.requestMessages[n].forEach(r.hitch(this,o,n)):o(n,t.requestMessages[n]));this.mockHandlers["*"]&&this.mockHandlers["*"](n,t.requestMessages[n],t)}})}),e,t),e.exports=i},"mw-remote/impl/ResponseManager":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"])],i=n.dj.d(r,(function(e,t,n,r){return e([],{constructor:function(e){e=e||{},this.responseHandlers=e.responseHandlers||{},this.faultManager=e.faultManager,this.transactions=e.transactions||[]},registerResponseHandler:function(e,n,r){r&&(n=t.hitch(r,n)),this.responseHandlers[e]=n},deregisterResponseHandler:function(e){delete this.responseHandlers[e]},handleTransaction:function(e){this.transactions.push(e),e.deferred.addCallback(t.hitch(this,this._processAll,e)),e.deferred.addCallback(t.hitch(this,this._processResult,e)),e.deferred.addErrback(t.hitch(this,this._processAll,e)),e.deferred.addErrback(t.hitch(this,this._processFault,e))},_processAll:function(e){var t;(t=this.transactions.indexOf(e))>=0&&this.transactions.splice(t,1)},_processResult:function(e){e.getResponseMessageTypes().forEach((function(t){var r=e.responseMessages[t],i=[];try{Array.isArray(r)&&(r.forEach((function(n){var r,o=e.getMessageClassifier(n);if(o){r=[t,o].join(":");var a=this,s=!1;e.getRequestMessageTypes().forEach((function(t){var i=e.requestMessages[t];Array.isArray(i)?i.forEach((function(t){a.responseHandlers[r]&&t.uuid===n.uuid&&(a.responseHandlers[r]([n],e.context),s=!0)})):a.responseHandlers[r]&&i.uuid===n.uuid&&(a.responseHandlers[r]([n],e.context),s=!0)})),s||i.push(n)}else i.push(n)}),this),i.length>0&&this.responseHandlers[t]&&this.responseHandlers[t](i,e.context),this.responseHandlers["*"]&&this.responseHandlers["*"](t,e.responseMessages[t],e.context))}catch(e){n.error("Remote: Fault occurred while processing response.\nMessage: "+e.message+"\nType: "+t+"\nResponse: "+JSON.stringify(r,null,2))}}),this),this._processUdcResponses(e),e.fault&&this.faultManager.handleFault(e)},_processUdcResponses:function(e){if(!r.isEndpointMessageContainerBased(e.endPointName)){var t=Object.keys(e.requestMessages)[0];this.responseHandlers[t]&&this.responseHandlers[t](e.responseMessages)}},_processFault:function(e){this.faultManager.handleFault(e)}})}),e,t),e.exports=i},"mw-remote/impl/Transaction":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/Deferred"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["mw-utils/Utils"])],i=n.dj.d(r,(function(e,t,n,r,i){return e([],{constructor:function(e){e=e||{},this.requestMessages=e.requestMessages||{},this.responseMessages=e.responseMessages||{},this.context=e.context,this.computeToken=e.computeToken,this.uuidClassifierMap=e.uuidClassifierMap||{},this.endPointName=e.endPointName||null,this.allowedMessages=e.allowedMessages||[],this.ignoreMessageTypes=e.ignoreMessageTypes||[],this.sendMessage=e.sendMessage},addRequestMessage:function(e,t,i){if(t){var o=r.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[e]||(this.requestMessages[e]=[]),n.isArray(t)?t.forEach((function(t){this.addRequestMessage(e,t,i)}),this):o?(t.uuid=t.uuid||this._generateUuid(),i&&(this.uuidClassifierMap[t.uuid]=i),this.requestMessages[e].push(t)):this.requestMessages[e]=t,this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(e){var t={};return this.getRequestMessageTypes().forEach((function(n){(0===this.allowedMessages.length||this.allowedMessages.indexOf(n)>=0)&&(t[n]=e[n])}),this),t},getResponseMessageTypes:function(){var e,t=[];for(e in this.responseMessages)this.responseMessages.hasOwnProperty(e)&&t.push(e);return t},getRequestMessageTypes:function(){var e,t=[];for(e in this.requestMessages)this.requestMessages.hasOwnProperty(e)&&t.push(e);return t},getMessageClassifier:function(e){return e&&e.uuid&&this.uuidClassifierMap.hasOwnProperty(e.uuid)?this.uuidClassifierMap[e.uuid]:""},send:function(){this._removeEmptyMessages(),this._isEmpty(this.requestMessages)?(this.deferred=new t,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(e,t){var n;if(this.getRequestMessageTypes().indexOf(e)>-1)if(t)for(n in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(n)&&t&&this.uuidClassifierMap[n]===t&&this.ignoreMessageTypes.push(e+":"+t);else this.ignoreMessageTypes.push(e)},_removeEmptyMessages:function(){var e;if(!this._isEmpty(this.requestMessages))for(e in this.requestMessages)this.requestMessages.hasOwnProperty(e)&&n.isArray(this.requestMessages[e])&&0===i.getArrayLength(this.requestMessages[e])&&delete this.requestMessages[e]},_isEmpty:function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},_generateUuid:function(){return i.generateUuid()}})}),e,t),e.exports=i},"mw-remote/serviceRegistryLookup":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/request/xhr"]),n(n.dj.r.absMids["mw-html-utils/HtmlUtils"])],i=n.dj.d(r,(function(e,t){var n=!1,r={_serviceData:{},getServiceRegistryEndpoint:function(e){var t,n;if(r._serviceData.serviceregistry)for(t=r._serviceData.serviceregistry.length,n=0;n<t;n+=1)if(r._serviceData.serviceregistry[n].name===e)return r._serviceData.serviceregistry[n].endpoint;return""}},i=function(e){var n=t.parseQueryString().mre;if(n){var r=new URL(n,window.location.href);if(o(r)){n=r.href;var i=e.serviceregistry;i=Array.isArray(i)?i:[];var a=!1;i.forEach((function(e){e.name&&"primary"===e.name&&(e.endpoint=n,a=!0)})),a||(i.push({name:"primary",endpoint:n}),e.serviceregistry=i)}}return e},o=function(e){return!(e.origin!==window.location.origin&&!a(e))},a=function(e){var t=e.origin;e.port&&(t=e.origin.replace(":"+e.port,""));var n=[".mathworks.com",".mathworks.cn"];for(var r in n){var i=n[r];if(t.endsWith(i))return!0}return!1},s={_doXhr:function(t,n){return e(t,{handleAs:"json",failOk:!0,method:"GET",timeout:15e3,sync:n})},_reset:function(){n=!1,r._serviceData={}},load:function(e,t,o){if(n)o(r);else{var a=!t.async;s._doXhr("/serviceregistrylookup/1/service",a).then((function(e){e instanceof Object||(e={}),r._serviceData=i(e),n=!0,o(r)}),(function(){r._serviceData=i({}),n=!0,o(r)}))}}};return s}),e,t),e.exports=i},"mw-remote/serviceRegistryLookup!":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["mw-remote/serviceRegistryLookup"]),n("mwBundle.runasbatchjob|7c1cede0fa96821f1d00933e343d2e2af30a4286"),n(n.dj.r.absMids["8e5d24b71f86716e7cc6d86d776c7dbfc35f9bdf"])],i=n.dj.d(r,(function(e,t){return t(e,"",n.dj.c(),!0)}),e,t),e.exports=i},"mw-remote/utils/RemoteUrlUtils":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mw-log/Log"])],i=n.dj.d(r,(function(e){var t=new RegExp("^(?:[a-z]+:)?//","i"),n=["localhost","127.0.0.1","[::1]"];return{createWorkerRoutingHostUrl:function(t,r){var i=t,o="",a="",s=r.host,u=r.sessionId,c=r.routingKey;try{if(o=new URL(s),this.isAbsoluteUrl(t)){if((a=new URL(t)).origin&&n.includes(a.hostname)){var l=a.pathname;i=new URL(l,o).href,i+=a.search}}else i=t&&t.startsWith("/")?o+t.substr(1,t.length):o+t;return i+=(i.indexOf("?")>=0?"&":"?")+"mre="+o,c&&u&&(i+="&routingkey="+c+"&computeToken="+u),i}catch(t){e.error("Input URL is malformed")}return i},isAbsoluteUrl:function(e){return!!t.test(e)}}}),e,t),e.exports=i},"mw-remote/utils/SendMessageUtil":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),n(n.dj.r.absMids["dojo/_base/xhr"]),n(n.dj.r.absMids["dojo/_base/Deferred"])],i=n.dj.d(r,(function(e,t,n){return{sendPayload:function(r,i,o){var a=e.getEndPointAllowsDirectXhr(i),s=new n;return a.then((function(n){(n.status===e.DirectXhrConstants.ENABLED?function(n,r,i){var o=i&&i.headers?i.headers:null;return t.post({url:e.getRemoteUrlForEndPoint(r),contentType:"application/json",handleAs:"json",headers:o,postData:n})}(r,i,o):function(t,n,r){return e.getIframeProxyClientForEndPoint(n).sendMessage(t,e.getRemoteUrlForEndPoint(n),r)}(r,i,o)).then((function(e){s.resolve(e)}))})),s}}}),e,t),e.exports=i},"mw-statemachine/StateMachine":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/State"])],i=n.dj.d(r,(function(e,t){return e([],{constructor:function(e){e.stateMachine=this,this.state=new t(e)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(e,t){this.state.enter(e,t)},onEnterState:function(e){},onExitState:function(e){}})}),e,t),e.exports=i},"mw-statemachine/statemachineimpl/EventTrigger":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/aspect"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],i=n.dj.d(r,(function(e,t,n,r,i){return e(i,{constructor:function(){this.connection={}},enable:function(){t.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]),this.connection=n.after(this.context,this.name,t.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove(),this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})}),e,t),e.exports=i},"mw-statemachine/statemachineimpl/MessageTrigger":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/topic"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],i=n.dj.d(r,(function(e,t,n,r,i){return e(i,{constructor:function(){var e=this.name.split(" ");(e.length<2||"subscribe"!==e[0])&&r.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name."),this.messageId=e[1]||"",this.subscrition={}},enable:function(){this.subscription=n.subscribe(this.messageId,t.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})}),e,t),e.exports=i},"mw-statemachine/statemachineimpl/RemoteTrigger":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-remote/Remote"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],i=n.dj.d(r,(function(e,t,n,r,i){return e(i,{constructor:function(){var e=this.name.split(" ");(e.length<2||"response"!==e[0]&&"fault"!==e[0])&&n.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler."),r.registerResponseHandler&&r.registerFaultHandler||n.error("The remote package is not available, this type of trigger will not work."),this.messageId=e[1]||"",this.handlerType=e[0]},enable:function(){"response"===this.handlerType?r.registerResponseHandler(this.messageId,t.hitch(null,this.triggerHandler,this.name)):r.registerFaultHandler(this.messageId,t.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?r.deregisterResponseHandler(this.messageId):r.deregisterFaultHandler(this.messageId)}})}),e,t),e.exports=i},"mw-statemachine/statemachineimpl/State":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/EventTrigger"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/MessageTrigger"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/RemoteTrigger"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/TimeoutTrigger"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Transition"])],i=n.dj.d(r,(function(e,t,n,r,i,o,a,s){var u;return u=e([],{constructor:function(e){this.stateMachine=e.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}},this.namespace=e.namespace||"",this.name=e.name||this.getDefaultName(),this.context=e.context||{},this.data=e.data||{},this.composition=e.composition||"XOR",this.defaultSubstate=e.defaultSubstate||"",this.constructSubstates(e.substates),this.constructTriggersAndTransitions(e.transitions),this.active=e.active||!1},getDefaultName:function(){var e;return this.namespace.length>0?e=this.namespace.split(".").pop():n.warn("State: state name is not specified."),e||""},constructSubstates:function(e){var t,r,i={};for(t in e)e.hasOwnProperty(t)&&((r=e[t]).name&&r.name!==t&&n.error("State: error constructing substate: "+t+", the specified names don't match: "+r.name),r.name=t,r.namespace=r.namespace||[this.namespace,this.name].join("."),r.stateMachine=r.stateMachine||this.stateMachine,r.context=r.context||this.context,i[r.name]=new u(r));this.substates=i},constructTriggersAndTransitions:function(e){var t,n,r={},i=[];for(t in e)e.hasOwnProperty(t)&&((n=this.constructTrigger(t))&&i.push(n),r[t]=this.constructTransition(t,e[t]));this.transitions=r,this.triggers=i},constructTrigger:function(e){var n,s,u;return 2===(n=e.split(" ")).length?"subscribe"===n[0]?u=i:"response"===n[0]||"fault"===n[0]?u=o:"timeout"===n[0]&&(u=a):"onEnterState"===e&&"onExitState"===e||(u=r),u&&(s=new u({name:e,context:this.context,triggerHandler:t.hitch(this,this.handleTrigger)})),s},constructTransition:function(e,n){var r,i;return(t.isFunction(n)||t.isString(n)||t.isArray(n))&&("onEnterState"===e||"onExitState"===e?(r=n,(n={}).action=r,n.target=""):(i=n,(n={}).target=i)),n.state=this,new s(n)},enter:function(e,t){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(t))),e?this.changeSubstates(e,t):this.changeToDefaultSubstate(t)},exit:function(){var e=this.activeSubstates();this.active=!1,this.disableTriggers(),e.forEach((function(e){e.exit()})),this.handleTrigger("onExitState"),this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach((function(e){e.enable()}))},disableTriggers:function(){this.triggers.forEach((function(e){e.disable()}))},handleTrigger:function(e){var n,r;this.transitions[e]&&(r=Array.prototype.slice.call(arguments,1,arguments.length),(n=this.transitions[e].handleTrigger(e,r))&&(t.isString(n)||(r=n.args,n=n.target),this.stateMachine._changeState(n,r)))},changeSubstates:function(e,t){var n=this.activeSubstates();this.substates[e]&&(n.length>=0&&n[0].name!==e&&n.forEach((function(e){e.exit()})),this.substates[e].enter(void 0,t))},changeToDefaultSubstate:function(e){0===this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,e)},activeSubstates:function(){var e,t=[];for(e in this.substates)this.substates.hasOwnProperty(e)&&this.substates[e].active&&t.push(this.substates[e]);return t}})}),e,t),e.exports=i},"mw-statemachine/statemachineimpl/TimeoutTrigger":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"]),n(n.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],i=n.dj.d(r,(function(e,t,n,r){return e(r,{constructor:function(){var e=this.name.split(" ");(e.length<2||"timeout"!==e[0])&&n.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler."),this.timeoutInSeconds=parseFloat(e[1]),this.handlerType=e[0]},enable:function(){this.disable(),this.timeoutHandle=setTimeout(t.hitch(null,this.triggerHandler,this.name),1e3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})}),e,t),e.exports=i},"mw-statemachine/statemachineimpl/Transition":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["mw-log/Log"])],i=n.dj.d(r,(function(e,t,n){return e([],{constructor:function(t){this.state={},this.target="",this.condition=null,this.action=null,e.safeMixin(this,t)},handleTrigger:function(e,t){var n="";return this.checkCondition(e,t)&&(this.runAction(e,t),n=this.getTarget(e,this.target,t)),n},checkCondition:function(e,n){return!this.condition||t.hitch(this.state.context,this.condition).apply(null,[e,this.state.data].concat(n))},runAction:function(e,n){this.action&&t.hitch(this.state.context,this.action).apply(null,[e,this.state.data].concat(n))},getTarget:function(e,r,i){var o,a,s;if(t.isString(r))a=r;else if(t.isFunction(r))a=t.hitch(this.state.context,r).apply(null,[e,this.state.data].concat(i));else if(t.isArray(r))for(o=0;o<r.length;o+=1){if(a=this.getTarget(e,r[o],i),t.isString(a)){a={target:a},t.mixin(a,s);break}if(a&&a.target){t.mixin(a,s);break}s=a||{}}else n.warn("Transition: improper target: ",r);return a}})}),e,t),e.exports=i},"mw-statemachine/statemachineimpl/Trigger":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"])],i=n.dj.d(r,(function(e){return e([],{constructor:function(t){this.name="",this.context={},this.triggerHandler=t.triggerHandler||function(){},e.safeMixin(this,t)},enable:function(){},disable:function(){}})}),e,t),e.exports=i},"mw-utils/Utils":function(e,t,n){"use strict";var r,i;r=[n(n.dj.r.absMids["dojo/_base/lang"]),n(n.dj.r.absMids["dojo/_base/window"]),n(n.dj.r.absMids["mw-utils/deprecation"])],i=n.dj.d(r,(function(e,t,n){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})).toUpperCase()},isImageData:function(e){return!!e&&(t.global.ImageData&&e instanceof t.global.ImageData||e.hasOwnProperty("width")&&e.hasOwnProperty("height")&&e.hasOwnProperty("data"))},isArray:function(e){return n.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368}),Array.isArray(e)},getArrayLength:function(t){var n=0;return!!e.isArray(t)&&(t.forEach((function(e){e&&(n+=1)})),n)},isWhitespace:function(e){return/^\s+$/.test(e)},removeSurroundingNewLines:function(e){for(;"\n"===e.charAt(0);)e=e.substring(1);for(;"\n"===e.charAt(e.length-1);)e=e.substring(0,e.length-1);return e},getFirstUniqueElement:function(e,t){var n=null;return t.some((function(t){if(-1===e.indexOf(t))return n=t,!0})),n},unionOfWordSets:function(e,t,n){e=this._stringToArray(e),t=this._stringToArray(t);var r=this.unionOfArrays(e,t);return n?r.join(" "):r},intersectionOfWordSets:function(e,t,n){e=this._stringToArray(e),t=this._stringToArray(t);var r=this.intersectionOfArrays(e,t);return n?r.join(" "):r},differenceOfWordSets:function(e,t,n){e=this._stringToArray(e),t=this._stringToArray(t);var r=this.unique(this.differenceOfArrays(e,t));return n?r.join(" "):r},unionOfArrays:function(e,t){return this.unique(e.concat(t))},intersectionOfArrays:function(e,t){return this.nonunique(e.concat(t))},differenceOfArrays:function(e,t){if(void 0===window.Map)return this._legacyDifferenceOfArrays(e,t);var n,r,i=new Map,o=[];for(r=0;r<t.length;r++)i.set(t[r],null);for(r=0;r<e.length;r++)n=e[r],i.has(n)||o.push(n);return o},_legacyDifferenceOfArrays:function(e,t){return this.unique(e.filter((function(e){return-1===t.indexOf(e)})))},unique:function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))},nonunique:function(e){return this.unique(e.filter((function(t,n){return e.indexOf(t)!==n})))},arrayEquals:function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;n||(n=function(e,t){return e===t});for(var r=0,i=e.length;r<i;r++)if(!n(e[r],t[r]))return!1;return!0},removeEmptyElements:function(e){return e.filter((function(e){return!(""===e||null==e)}))},_stringToArray:function(e){return this._isString(e)?this.removeEmptyElements(e.split(" ")):e},_isString:function(e){return"string"==typeof e||e instanceof String}}}),e,t),e.exports=i},"mw-utils/deprecation":function(e,t,n){"use strict";var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=[n(n.dj.r.absMids["dojo/_base/config"]),n(n.dj.r.absMids["mw-log/Log"])],i=n.dj.d(r,(function(e,t){var n={deprecated:function(n){var r,i;(!!e.isDebug||!!window.showDeprecationsAsErrors)&&this._isConfigValid(n)&&(i=window.showDeprecationsAsErrors||n.deprecationLevel===this.ERROR?this.ERROR:this.WARN,r="DEPRECATED: ",n.deprecated&&(r+=n.deprecated.module,n.deprecated.method&&(r+="."+n.deprecated.method+"()"),r+="."),n.replacement&&(r+=" Use "+n.replacement.module,n.replacement.method&&(r+="."+n.replacement.method+"()"),r+=" instead."),n.removalVersion&&(r+=" Will be removed in version: "+n.removalVersion+"."),n.geckNumber&&(r+=" Please use g"+n.geckNumber+" to track latest information regarding this deprecation"),n.additionalInformation&&(r+=" "+n.additionalInformation),t[i](r))},_isConfigValid:function(e){var n=!!e.deprecated&&"object"===o(e.deprecated)&&e.deprecated.hasOwnProperty("module");return e.replacement&&(n=n&&"object"===o(e.replacement)&&e.replacement.hasOwnProperty("module")),e.geckNumber&&(n=n&&"number"==typeof e.geckNumber),n||t.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API"),n}};return Object.defineProperties(n,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),n}),e,t),e.exports=i},"object-hash/object_hash":function(e,t,n){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return i(n||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(r,i,o,a,s,u,c,l,f){"use strict";function d(e,t){return function(e,t){var n;if(void 0===(n="passthrough"!==t.algorithm?g.createHash(t.algorithm):new y).write&&(n.write=n.update,n.end=n.update),m(t,n).dispatch(e),n.update||n.end(""),n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var r=n.read();return"buffer"===t.encoding?r:r.toString(t.encoding)}(e,t=h(e,t))}function h(e,t){if((t=t||{}).algorithm=t.algorithm||"sha1",t.encoding=t.encoding||"hex",t.excludeValues=!!t.excludeValues,t.algorithm=t.algorithm.toLowerCase(),t.encoding=t.encoding.toLowerCase(),t.ignoreUnknown=!0===t.ignoreUnknown,t.respectType=!1!==t.respectType,t.respectFunctionNames=!1!==t.respectFunctionNames,t.respectFunctionProperties=!1!==t.respectFunctionProperties,t.unorderedArrays=!0===t.unorderedArrays,t.unorderedSets=!1!==t.unorderedSets,t.replacer=t.replacer||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<v.length;++n)v[n].toLowerCase()===t.algorithm.toLowerCase()&&(t.algorithm=v[n]);if(-1===v.indexOf(t.algorithm))throw new Error('Algorithm "'+t.algorithm+'"  not supported. supported values: '+v.join(", "));if(-1===b.indexOf(t.encoding)&&"passthrough"!==t.algorithm)throw new Error('Encoding "'+t.encoding+'"  not supported. supported values: '+b.join(", "));return t}function p(e){return"function"==typeof e&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function m(e,t,n){n=n||[];var r=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var n=typeof t;return null===t&&(n="null"),this["_"+n](t)},_object:function(t){var i,a=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(a);if(s=(s=s?s[1]:"unknown:["+a+"]").toLowerCase(),(i=n.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+i+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===s||"function"===s){var u=Object.keys(t).sort();!1===e.respectType||p(t)||u.splice(0,0,"prototype","__proto__","constructor"),r("object:"+u.length+":");var c=this;return u.forEach((function(n){c.dispatch(n),r(":"),e.excludeValues||c.dispatch(t[n]),r(",")}))}if(!this["_"+s]){if(e.ignoreUnknown)return r("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var a=[],s=t.map((function(t){var r=new y,i=n.slice();return m(e,r,i).dispatch(t),a=a.concat(i.slice(n.length)),r.read().toString()}));return n=n.concat(a),s.sort(),this._array(s,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e)},_function:function(t){r("fn:"),p(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){r("map:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_set:function(t){r("set:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function y(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}var g=e("crypto");(n=t.exports=d).sha1=function(e){return d(e)},n.keys=function(e){return d(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return d(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return d(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var v=g.getHashes?g.getHashes().slice():["sha1","md5"];v.push("passthrough");var b=["buffer","hex","binary","base64"];n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),m(t=h(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_1e7b3280.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(e,t,n){(function(e,t,r,i,o,a,s,u,c){!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===r||t===u?62:t===i||t===c?63:t<o?-1:t<o+10?t-o+26+26:t<s+26?t-s:t<a+26?t-a+26:void 0}var n="undefined"!=typeof Uint8Array?Uint8Array:Array,r="+".charCodeAt(0),i="/".charCodeAt(0),o="0".charCodeAt(0),a="a".charCodeAt(0),s="A".charCodeAt(0),u="-".charCodeAt(0),c="_".charCodeAt(0);e.toByteArray=function(e){function r(e){c[f++]=e}var i,o,a,s,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;u="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,c=new n(3*e.length/4-u),a=u>0?e.length-4:e.length;var f=0;for(i=0,o=0;i<a;i+=4,o+=3)r((16711680&(s=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3))))>>16),r((65280&s)>>8),r(255&s);return 2===u?r(255&(s=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4)):1===u&&(r((s=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2)>>8&255),r(255&s)),c},e.fromByteArray=function(e){function t(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,i,o,a=e.length%3,s="";for(r=0,o=e.length-a;r<o;r+=3)s+=n(i=(e[r]<<16)+(e[r+1]<<8)+e[r+2]);switch(a){case 1:s+=t((i=e[e.length-1])>>2),s+=t(i<<4&63),s+="==";break;case 2:s+=t((i=(e[e.length-2]<<8)+e[e.length-1])>>10),s+=t(i>>4&63),s+=t(i<<2&63),s+="="}return s}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(e,t,n){(function(t,r,i,o,a,s,u,c,l){function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,a,s=typeof e;if("base64"===t&&"string"===s)for(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e);e.length%4!=0;)e+="=";if("number"===s)r=x(e);else if("string"===s)r=i.byteLength(e,t);else{if("object"!==s)throw new Error("First argument needs to be a number, array or string.");r=x(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(function(e){return O(e)||i.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}(e))for(a=0;a<r;a++)i.isBuffer(e)?o[a]=e.readUInt8(a):o[a]=e[a];else if("string"===s)o.write(e,0,t);else if("number"===s&&!i._useTypedArrays&&!n)for(a=0;a<r;a++)o[a]=0;return o}function f(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var a=t.length;q(a%2==0,"Invalid hex string"),r>a/2&&(r=a/2);for(var s=0;s<r;s++){var u=parseInt(t.substr(2*s,2),16);q(!isNaN(u),"Invalid hex string"),e[n+s]=u}return i._charsWritten=2*s,s}function d(e,t,n,r){return i._charsWritten=I(R(t),e,n,r)}function h(e,t,n,r){return i._charsWritten=I(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function p(e,t,n,r){return i._charsWritten=I(D(t),e,n,r)}function m(e,t,n,r){return i._charsWritten=I(function(e){for(var t,n,r,i=[],o=0;o<e.length;o++)t=e.charCodeAt(o),n=t>>8,r=t%256,i.push(r),i.push(n);return i}(t),e,n,r)}function y(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function g(e,t,n,r){r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+1<e.length,"Trying to read beyond buffer length"));var i,o=e.length;if(!(t>=o))return n?(i=e[t],t+1<o&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<o&&(i|=e[t+1])),i}function v(e,t,n,r){r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+3<e.length,"Trying to read beyond buffer length"));var i,o=e.length;if(!(t>=o))return n?(t+2<o&&(i=e[t+2]<<16),t+1<o&&(i|=e[t+1]<<8),i|=e[t],t+3<o&&(i+=e[t+3]<<24>>>0)):(t+1<o&&(i=e[t+1]<<16),t+2<o&&(i|=e[t+2]<<8),t+3<o&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function b(e,t,n,r){if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+1<e.length,"Trying to read beyond buffer length")),!(t>=e.length)){var i=g(e,t,n,!0);return 32768&i?-1*(65535-i+1):i}}function _(e,t,n,r){if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+3<e.length,"Trying to read beyond buffer length")),!(t>=e.length)){var i=v(e,t,n,!0);return 2147483648&i?-1*(4294967295-i+1):i}}function w(e,t,n,r){return r||(q("boolean"==typeof n,"missing or invalid endian"),q(t+3<e.length,"Trying to read beyond buffer length")),V.read(e,t,n,23,4)}function j(e,t,n,r){return r||(q("boolean"==typeof n,"missing or invalid endian"),q(t+7<e.length,"Trying to read beyond buffer length")),V.read(e,t,n,52,8)}function E(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+1<e.length,"trying to write beyond buffer length"),U(t,65535));var o=e.length;if(!(n>=o))for(var a=0,s=Math.min(o-n,2);a<s;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function M(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"trying to write beyond buffer length"),U(t,4294967295));var o=e.length;if(!(n>=o))for(var a=0,s=Math.min(o-n,4);a<s;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function k(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+1<e.length,"Trying to write beyond buffer length"),L(t,32767,-32768)),n>=e.length||E(e,t>=0?t:65535+t+1,n,r,i)}function C(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"Trying to write beyond buffer length"),L(t,2147483647,-2147483648)),n>=e.length||M(e,t>=0?t:4294967295+t+1,n,r,i)}function P(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"Trying to write beyond buffer length"),F(t,34028234663852886e22,-34028234663852886e22)),n>=e.length||V.write(e,t,n,r,23,4)}function T(e,t,n,r,i){i||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+7<e.length,"Trying to write beyond buffer length"),F(t,17976931348623157e292,-17976931348623157e292)),n>=e.length||V.write(e,t,n,r,52,8)}function S(e,t,n){return"number"!=typeof e?n:(e=~~e)>=t?t:e>=0||(e+=t)>=0?e:0}function x(e){return(e=~~Math.ceil(+e))<0?0:e}function O(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function A(e){return e<16?"0"+e.toString(16):e.toString(16)}function R(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else{var i=n;r>=55296&&r<=57343&&n++;for(var o=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%"),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}}return t}function D(e){return z.toByteArray(e)}function I(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function N(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function U(e,t){q("number"==typeof e,"cannot write a non-number as a number"),q(e>=0,"specified a negative value for writing an unsigned value"),q(e<=t,"value is larger than maximum value for type"),q(Math.floor(e)===e,"value has a fractional component")}function L(e,t,n){q("number"==typeof e,"cannot write a non-number as a number"),q(e<=t,"value larger than maximum allowed value"),q(e>=n,"value smaller than minimum allowed value"),q(Math.floor(e)===e,"value has a fractional component")}function F(e,t,n){q("number"==typeof e,"cannot write a non-number as a number"),q(e<=t,"value larger than maximum allowed value"),q(e>=n,"value smaller than minimum allowed value")}function q(e,t){if(!e)throw new Error(t||"Failed assertion")}var z=e("base64-js"),V=e("ieee754");n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=R(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=D(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(q(O(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];var n;if("number"!=typeof t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,o),o+=a.length}return r},i.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var i=r;r=t,t=n,n=i}t=Number(t)||0;var o,a=this.length-t;switch(n?(n=Number(n))>a&&(n=a):n=a,r=String(r||"utf8").toLowerCase()){case"hex":o=f(this,e,t,n);break;case"utf8":case"utf-8":o=d(this,e,t,n);break;case"ascii":o=h(this,e,t,n);break;case"binary":o=function(e,t,n,r){return h(e,t,n,r)}(this,e,t,n);break;case"base64":o=p(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=m(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(e,t,n){var r,i=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):n=i.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;o++)i+=A(e[o]);return i}(i,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=N(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+N(i)}(i,t,n);break;case"ascii":r=y(i,t,n);break;case"binary":r=function(e,t,n){return y(e,t,n)}(i,t,n);break;case"base64":r=function(e,t,n){return 0===t&&n===e.length?z.fromByteArray(e):z.fromByteArray(e.slice(t,n))}(i,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(i,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){var o=this;if(n||(n=0),r||0===r||(r=this.length),t||(t=0),r!==n&&0!==e.length&&0!==o.length){q(r>=n,"sourceEnd < sourceStart"),q(t>=0&&t<e.length,"targetStart out of bounds"),q(n>=0&&n<o.length,"sourceStart out of bounds"),q(r>=0&&r<=o.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;if(a<100||!i._useTypedArrays)for(var s=0;s<a;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+a),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=S(e,n,0),t=S(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),a=0;a<r;a++)o[a]=this[a+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(q(null!=e,"missing offset"),q(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return g(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return g(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return v(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return v(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(q(null!=e,"missing offset"),q(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return b(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return b(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return _(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return _(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return w(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return w(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return j(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return j(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(q(null!=e,"missing value"),q(null!=t,"missing offset"),q(t<this.length,"trying to write beyond buffer length"),U(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){M(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){M(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(q(null!=e,"missing value"),q(null!=t,"missing offset"),q(t<this.length,"Trying to write beyond buffer length"),L(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){k(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){k(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){C(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){C(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){P(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){P(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){T(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){T(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),q("number"==typeof e&&!isNaN(e),"value is not a number"),q(n>=t,"end < start"),n!==t&&0!==this.length){q(t>=0&&t<this.length,"start out of bounds"),q(n>=0&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=A(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var B=i.prototype;i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=B.get,e.set=B.set,e.write=B.write,e.toString=B.toString,e.toLocaleString=B.toString,e.toJSON=B.toJSON,e.copy=B.copy,e.slice=B.slice,e.readUInt8=B.readUInt8,e.readUInt16LE=B.readUInt16LE,e.readUInt16BE=B.readUInt16BE,e.readUInt32LE=B.readUInt32LE,e.readUInt32BE=B.readUInt32BE,e.readInt8=B.readInt8,e.readInt16LE=B.readInt16LE,e.readInt16BE=B.readInt16BE,e.readInt32LE=B.readInt32LE,e.readInt32BE=B.readInt32BE,e.readFloatLE=B.readFloatLE,e.readFloatBE=B.readFloatBE,e.readDoubleLE=B.readDoubleLE,e.readDoubleBE=B.readDoubleBE,e.writeUInt8=B.writeUInt8,e.writeUInt16LE=B.writeUInt16LE,e.writeUInt16BE=B.writeUInt16BE,e.writeUInt32LE=B.writeUInt32LE,e.writeUInt32BE=B.writeUInt32BE,e.writeInt8=B.writeInt8,e.writeInt16LE=B.writeInt16LE,e.writeInt16BE=B.writeInt16BE,e.writeInt32LE=B.writeInt32LE,e.writeInt32BE=B.writeInt32BE,e.writeFloatLE=B.writeFloatLE,e.writeFloatBE=B.writeFloatBE,e.writeDoubleLE=B.writeDoubleLE,e.writeDoubleBE=B.writeDoubleBE,e.fill=B.fill,e.inspect=B.inspect,e.toArrayBuffer=B.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(e,t,n){(function(n,r,i,o,a,s,u,c,l){i=e("buffer").Buffer;var f=4,d=new i(f);d.fill(0);var h=8;t.exports={hash:function(e,t,n,r){return i.isBuffer(e)||(e=new i(e)),function(e,t,n){for(var r=new i(t),o=n?r.writeInt32BE:r.writeInt32LE,a=0;a<e.length;a++)o.call(r,e[a],4*a,!0);return r}(t(function(e,t){if(e.length%f!=0){var n=e.length+(f-e.length%f);e=i.concat([e,d],n)}for(var r=[],o=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=f)r.push(o.call(e,a));return r}(e,r),e.length*h),n,r)}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(e,t,n){(function(t,r,i,o,a,s,u,c,l){function f(e,t){var n=y[e=e||"sha1"],r=[];return n||d("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r),a=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>g?t=e(t):t.length<g&&(t=i.concat([t,v],g));for(var r=new i(g),o=new i(g),a=0;a<g;a++)r[a]=54^t[a],o[a]=92^t[a];var s=e(i.concat([r,n]));return e(i.concat([o,s]))}(n,t,o):n(o);return r=null,e?a.toString(e):a}}}function d(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}i=e("buffer").Buffer;var h=e("./sha"),p=e("./sha256"),m=e("./rng"),y={sha1:h,sha256:p,md5:e("./md5")},g=64,v=new i(g);v.fill(0),n.createHash=function(e){return f(e)},n.createHmac=function(e,t){return f(e,t)},n.randomBytes=function(e,t){if(!t||!t.call)return new i(m(e));try{t.call(this,void 0,new i(m(e)))}catch(e){t(e)}},function(e,t){for(var n in e)t(e[n],n)}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(e){n[e]=function(){d("sorry,",e,"is not implemented yet")}}))}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t,n){(function(n,r,i,o,a,s,u,c,l){function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,u=r,c=i,l=o;n=h(n,r,i,o,e[a+0],7,-680876936),o=h(o,n,r,i,e[a+1],12,-389564586),i=h(i,o,n,r,e[a+2],17,606105819),r=h(r,i,o,n,e[a+3],22,-1044525330),n=h(n,r,i,o,e[a+4],7,-176418897),o=h(o,n,r,i,e[a+5],12,1200080426),i=h(i,o,n,r,e[a+6],17,-1473231341),r=h(r,i,o,n,e[a+7],22,-45705983),n=h(n,r,i,o,e[a+8],7,1770035416),o=h(o,n,r,i,e[a+9],12,-1958414417),i=h(i,o,n,r,e[a+10],17,-42063),r=h(r,i,o,n,e[a+11],22,-1990404162),n=h(n,r,i,o,e[a+12],7,1804603682),o=h(o,n,r,i,e[a+13],12,-40341101),i=h(i,o,n,r,e[a+14],17,-1502002290),n=p(n,r=h(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=p(o,n,r,i,e[a+6],9,-1069501632),i=p(i,o,n,r,e[a+11],14,643717713),r=p(r,i,o,n,e[a+0],20,-373897302),n=p(n,r,i,o,e[a+5],5,-701558691),o=p(o,n,r,i,e[a+10],9,38016083),i=p(i,o,n,r,e[a+15],14,-660478335),r=p(r,i,o,n,e[a+4],20,-405537848),n=p(n,r,i,o,e[a+9],5,568446438),o=p(o,n,r,i,e[a+14],9,-1019803690),i=p(i,o,n,r,e[a+3],14,-187363961),r=p(r,i,o,n,e[a+8],20,1163531501),n=p(n,r,i,o,e[a+13],5,-1444681467),o=p(o,n,r,i,e[a+2],9,-51403784),i=p(i,o,n,r,e[a+7],14,1735328473),n=m(n,r=p(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=m(o,n,r,i,e[a+8],11,-2022574463),i=m(i,o,n,r,e[a+11],16,1839030562),r=m(r,i,o,n,e[a+14],23,-35309556),n=m(n,r,i,o,e[a+1],4,-1530992060),o=m(o,n,r,i,e[a+4],11,1272893353),i=m(i,o,n,r,e[a+7],16,-155497632),r=m(r,i,o,n,e[a+10],23,-1094730640),n=m(n,r,i,o,e[a+13],4,681279174),o=m(o,n,r,i,e[a+0],11,-358537222),i=m(i,o,n,r,e[a+3],16,-722521979),r=m(r,i,o,n,e[a+6],23,76029189),n=m(n,r,i,o,e[a+9],4,-640364487),o=m(o,n,r,i,e[a+12],11,-421815835),i=m(i,o,n,r,e[a+15],16,530742520),n=y(n,r=m(r,i,o,n,e[a+2],23,-995338651),i,o,e[a+0],6,-198630844),o=y(o,n,r,i,e[a+7],10,1126891415),i=y(i,o,n,r,e[a+14],15,-1416354905),r=y(r,i,o,n,e[a+5],21,-57434055),n=y(n,r,i,o,e[a+12],6,1700485571),o=y(o,n,r,i,e[a+3],10,-1894986606),i=y(i,o,n,r,e[a+10],15,-1051523),r=y(r,i,o,n,e[a+1],21,-2054922799),n=y(n,r,i,o,e[a+8],6,1873313359),o=y(o,n,r,i,e[a+15],10,-30611744),i=y(i,o,n,r,e[a+6],15,-1560198380),r=y(r,i,o,n,e[a+13],21,1309151649),n=y(n,r,i,o,e[a+4],6,-145523070),o=y(o,n,r,i,e[a+11],10,-1120210379),i=y(i,o,n,r,e[a+2],15,718787259),r=y(r,i,o,n,e[a+9],21,-343485551),n=g(n,s),r=g(r,u),i=g(i,c),o=g(o,l)}return Array(n,r,i,o)}function d(e,t,n,r,i,o){return g(function(e,t){return e<<t|e>>>32-t}(g(g(t,e),g(r,o)),i),n)}function h(e,t,n,r,i,o,a){return d(t&n|~t&r,e,t,i,o,a)}function p(e,t,n,r,i,o,a){return d(t&r|n&~r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return d(t^n^r,e,t,i,o,a)}function y(e,t,n,r,i,o,a){return d(n^(t|~r),e,t,i,o,a)}function g(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var v=e("./helpers");t.exports=function(e){return v.hash(e,f,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(e,t,n){(function(e,n,r,i,o,a,s,u,c){!function(){var e,n;e=function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n},this.crypto&&crypto.getRandomValues&&(n=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t}),t.exports=n||e}()}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t,n){(function(n,r,i,o,a,s,u,c,l){function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,i=-271733879,o=-1732584194,a=271733878,s=-1009589776,u=0;u<e.length;u+=16){for(var c=r,l=i,f=o,y=a,g=s,v=0;v<80;v++){n[v]=v<16?e[u+v]:m(n[v-3]^n[v-8]^n[v-14]^n[v-16],1);var b=p(p(m(r,5),d(v,i,o,a)),p(p(s,n[v]),h(v)));s=a,a=o,o=m(i,30),i=r,r=b}r=p(r,c),i=p(i,l),o=p(o,f),a=p(a,y),s=p(s,g)}return Array(r,i,o,a,s)}function d(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function h(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t){return e<<t|e>>>32-t}var y=e("./helpers");t.exports=function(e){return y.hash(e,f,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t,n){(function(n,r,i,o,a,s,u,c,l){var f=e("./helpers"),d=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},h=function(e,t){return e>>>t|e<<32-t},p=function(e,t){return e>>>t},m=function(e,t,n){return e&t^~e&n},y=function(e,t,n){return e&t^e&n^t&n},g=function(e){return h(e,2)^h(e,13)^h(e,22)},v=function(e){return h(e,6)^h(e,11)^h(e,25)},b=function(e){return h(e,7)^h(e,18)^p(e,3)},_=function(e){return h(e,17)^h(e,19)^p(e,10)},w=function(e,t){var n,r,i,o,a,s,u,c,l,f,h=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),p=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),w=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var j=0;j<e.length;j+=16){n=p[0],r=p[1],i=p[2],o=p[3],a=p[4],s=p[5],u=p[6],c=p[7];for(var E=0;E<64;E++)w[E]=E<16?e[E+j]:d(d(d(_(w[E-2]),w[E-7]),b(w[E-15])),w[E-16]),l=d(d(d(d(c,v(a)),m(a,s,u)),h[E]),w[E]),f=d(g(n),y(n,r,i)),c=u,u=s,s=a,a=d(o,l),o=i,i=r,r=n,n=d(l,f);p[0]=d(n,p[0]),p[1]=d(r,p[1]),p[2]=d(i,p[2]),p[3]=d(o,p[3]),p[4]=d(a,p[4]),p[5]=d(s,p[5]),p[6]=d(u,p[6]),p[7]=d(c,p[7])}return p};t.exports=function(e){return f.hash(e,w,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(e,t,n){(function(e,n,r,i,o,a,s,u,c){function l(){}(e=t.exports={}).nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",(function(e){var t=e.source;(t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)&&n.shift()()}),!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=l,e.addListener=l,e.once=l,e.off=l,e.removeListener=l,e.removeAllListeners=l,e.emit=l,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(e,t,n){(function(e,t,r,i,o,a,s,u,c){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},"performance/cache/cache-mixins":function(e,t,n){var r,i;r=[t],i=n.dj.d(r,(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.ValidationCacheMixin=function(e){return function(e){function a(){t(this,a);var e=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e._age=0,e}return o(a,e),n(a,[{key:"invalidate",value:function(){this._age+=1}},{key:"get",value:function(e){var t=i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"get",this).call(this,e);return void 0!==t&&t.age===this._age?t.value:void 0}},{key:"cache",value:function(e,t){i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"cache",this).call(this,e,{age:this._age,value:t})}}]),a}(e)},e.FunctionCacheMixin=function(e){return function(e){function i(){return t(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))}return o(i,e),n(i,[{key:"evalAndCache",value:function(e,t){var n=t();return this.cache(e,n),n}},{key:"getOrEval",value:function(e,t){var n=this.get(e);return void 0!==n?n:this.evalAndCache(e,t)}}]),i}(e)},e.ConditionalFunctionCacheMixin=function(e){return function(e){function i(){return t(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))}return o(i,e),n(i,[{key:"evalAndCache",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=t();return n&&!n(r)||this.cache(e,r),r}},{key:"getOrEval",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.get(e);return void 0!==r?r:this.evalAndCache(e,t,n)}}]),i}(e)}}),e,t),e.exports=i},"performance/cache/simple-caches":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["performance/cache/cache-mixins"])],i=n.dj.d(r,(function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleConditionalFunctionMapCache=e.SimpleFunctionMapCache=e.SimpleConditionalFunctionCache=e.SimpleFunctionCache=e.SimpleCache=e.AbstractCache=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e.AbstractCache=function(){function e(){n(this,e)}return r(e,[{key:"get",value:function(e){throw"get method not implement"}},{key:"cache",value:function(e,t){throw"cache method not implement"}},{key:"delete",value:function(e){throw"delete method not implement"}},{key:"clear",value:function(){throw"clear method not implement"}}]),e}(),o=e.SimpleCache=function(e){function t(){n(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._cacheMap=new Map,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"get",value:function(e){return this._cacheMap.get(e)}},{key:"cache",value:function(e,t){this._cacheMap.set(e,t)}},{key:"delete",value:function(e){this._cacheMap.delete(e)}},{key:"clear",value:function(){this._cacheMap.clear()}}]),t}(i),a=e.SimpleFunctionCache=(0,t.FunctionCacheMixin)(o),s=e.SimpleConditionalFunctionCache=(0,t.ConditionalFunctionCacheMixin)(o);e.SimpleFunctionMapCache=a,e.SimpleConditionalFunctionMapCache=s}),e,t),e.exports=i},"performance/utils/function":function(e,t,n){var r,i;r=[t,n(n.dj.r.absMids["performance/cache/simple-caches"])],i=n.dj.d(r,(function(e,t){"use strict";function n(e,t,n){var r=n.call(e);return e[t]=function(){return r},r}function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},i=n.call(e);if(void 0!==i){var o=r.call(e,i);return e[t]=function(){return o},o}return r.call(e,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.constEvalOnce=n,e.constConditionalEvalOnce=r,e.bindFunctionsToObject=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;void 0!==e[s]&&(e[s]=e[s].bind(e))}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}},e.useOnce=function(e){var t=function e(){return e._func()},r=function(){return n(t,"_func",e)};return t.reset=function(){t._func=r},t.reset(),t},e.useConditionalOnce=function(e,t){var n=function e(){return e._func()};t=t||function(e){return e};var i=function(){return r(n,"_func",e,t)};return n.reset=function(){n._func=i},n.reset(),n},e.useMemoize=function(e,n){var r=void 0;r=n?function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return r._cache.getOrEval(n.apply(void 0,i),(function(){return e.apply(void 0,i)}))}:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return r._cache.getOrEval(n[0],(function(){return e.apply(void 0,n)}))};return r.reset=function(){r._cache=new t.SimpleFunctionCache},r.reset(),r}}),e,t),e.exports=i},"regenerator-runtime/runtime":function(e,t,n){(function(t,n){!function(t){"use strict";var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.toStringTag||"@@toStringTag",s="object"==typeof e,u=t.regeneratorRuntime;if(u)s&&(e.exports=u);else{(u=t.regeneratorRuntime=s?e.exports:{}).wrap=f;var c={},l=m.prototype=h.prototype;p.prototype=l.constructor=m,m.constructor=p,m[a]=p.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(l),e},u.awrap=function(e){return{__await:e}},y(g.prototype),u.AsyncIterator=g,u.async=function(e,t,n,r){var i=new g(f(e,t,n,r));return u.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(l),l[o]=function(){return this},l[a]="Generator",l.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=w,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?this.next=o.finallyLoc:this.complete(a),c},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},c}}}function f(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new _(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return j()}for(;;){var a=n.delegate;if(a){if("return"===i||"throw"===i&&void 0===a.iterator[i]){n.delegate=null;var s=a.iterator.return;if(s)if("throw"===(u=d(s,a.iterator,o)).type){i="throw",o=u.arg;continue}if("return"===i)continue}var u;if("throw"===(u=d(a.iterator[i],a.iterator,o)).type){n.delegate=null,i="throw",o=u.arg;continue}if(i="next",o=void 0,!(l=u.arg).done)return r="suspendedYield",l;n[a.resultName]=l.value,n.next=a.nextLoc,n.delegate=null}if("next"===i)n.sent=n._sent=o;else if("throw"===i){if("suspendedStart"===r)throw r="completed",o;n.dispatchException(o)&&(i="next",o=void 0)}else"return"===i&&n.abrupt("return",o);if(r="executing","normal"===(u=d(e,t,n)).type){r=n.done?"completed":"suspendedYield";var l={value:u.arg,done:n.done};if(u.arg!==c)return l;n.delegate&&"next"===i&&(o=void 0)}else"throw"===u.type&&(r="completed",i="throw",o=u.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function h(){}function p(){}function m(){}function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e){function t(n,i,o,a){var s=d(e[n],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(c).then((function(e){u.value=e,o(u)}),a)}a(s.arg)}var i;"object"==typeof n&&n.domain&&(t=n.domain.bind(t)),this._invoke=function(e,n){function r(){return new Promise((function(r,i){t(e,n,r,i)}))}return i=i?i.then(r,r):r()}}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n("mwBundle.runasbatchjob|6702f66ea6fad7d4e541523edb4368dbc0eb0790"),n("mwBundle.runasbatchjob|ae48bb0af69685fc6246b77a90a95d4e3710f7af"))},"runasbatchjob/_impl/RunAsBatchJobAction":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/i18n!runasbatchjob/resources/parallel/web/nls/common"]),n(n.dj.r.absMids["mw-filebrowser/actions/Action"])],i=n.dj.d(r,(function(e,t,n){const r=e([n],{constructor:function(){this.id="run-as-batch-job-action-item",this.label=t.RunAsBatchJob,this.actionClass="run-as-batch-job-action-item",this.section={id:"FILE_OPERATION"},this.orderPriorityWithinSection=2;let e=null;this.isEnabled=function(){return!!e&&"ScriptFile"===e.type},this.callback=async()=>{if(!e)throw new Error("RunAsBatchJob: no script file selected to run as batch");await r.internalServices.mvm.feval("parallel.internal.ui.runAsBatchJob",0,[e.path]),r.internalServices.JobMonitorUI.show({update:!0,selectDefaultProfile:!0})},this.isApplicableTo=async(t,n)=>{if(e=null,!r.hasPCT)return!1;if(1!==t.length)return!1;const i=t[0],o=n[0];if(o.isDirectory)return!1;if(!["m","mlx"].includes(o.type))return!1;const a=r.internalServices.codeAnalysisService,s=await a.requestFileAnalysis(i);return e={path:i,type:s.getFileType()},["ScriptFile","FunctionFile"].includes(e.type)}}});return r}),e,t),e.exports=i},"runasbatchjob/index":function(e,t,n){var r,i;r=[n(n.dj.r.absMids["dojo/_base/declare"]),n(n.dj.r.absMids["dojo/_base/unload"]),n(n.dj.r.absMids["cajsservice/apis/setupFileAnalysisService"]),n(n.dj.r.absMids["mw-mvm/UserMvm"]),n(n.dj.r.absMids["runasbatchjob/_impl/RunAsBatchJobAction"])],i=n.dj.d(r,(function(e,t,n,r,i){return{initialize:function(e){const o=n();t.addOnUnload(()=>o.cleanupFileAnalysisService());const a=r.getMVM();return new Promise((t,n)=>{e&&e.authorizationDetailsService||n(new Error("RunAsBatchJobAction needs to depend on AuthorizationDetailsService (to query for PCT licences)."));require(["MOTW/pct/app/jobmonitor/JobMonitorUI"],(function(n){e.authorizationDetailsService.getAuthorizedProductIds(e=>{i.hasPCT=e.includes("Distrib_Computing_Toolbox"),i.internalServices={mvm:a,codeAnalysisService:o,JobMonitorUI:n},t({exports:{RunAsBatchJobAction:i}})})}))})}}}),e,t),e.exports=i},"runasbatchjob/resources/parallel/web/nls/common":function(e,t,n){e.exports={root:{Description:"Displays the parallel computing options",Error:"Error",RunAsBatchJob:"Run Script as Batch Job",Title:"Parallel",WarnNotImplemented:'Feature not implemented yet: "${0}"'},"ja-jp":!0,"ko-kr":!0}},"runasbatchjob/resources/parallel/web/nls/ja-jp/common":function(e,t,n){e.exports={Description:"並列計算オプションを表示します",Error:"エラー",RunAsBatchJob:"バッチ ジョブとしてスクリプトを実行",Title:"並列",WarnNotImplemented:'機能がまだ実装されていません: "${0}"'}},"runasbatchjob/resources/parallel/web/nls/ko-kr/common":function(e,t,n){e.exports={Description:"병렬 연산 옵션을 표시합니다.",Error:"오류",RunAsBatchJob:"일괄 처리 작업으로 스크립트 실행",Title:"병렬",WarnNotImplemented:'아직 구현되지 않은 기능임: "${0}"'}},"uuid/uuid":function(e,t,n){(function(t){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return i(n||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r=e("./v1"),i=e("./v4"),o=i;o.v1=r,o.v4=i,t.exports=o},{"./v1":4,"./v4":5}],2:[function(e,t,n){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}},{}],3:[function(e,n,r){(function(e){var t,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);t=function(){return r.getRandomValues(i),i}}if(!t){var o=new Array(16);t=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){var r=e("./lib/rng"),i=e("./lib/bytesToUuid"),o=r(),a=[1|o[0],o[1],o[2],o[3],o[4],o[5]],s=16383&(o[6]<<8|o[7]),u=0,c=0;t.exports=function(e,t,n){var r=t&&n||0,o=t||[],l=void 0!==(e=e||{}).clockseq?e.clockseq:s,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:c+1,h=f-u+(d-c)/1e4;if(h<0&&void 0===e.clockseq&&(l=l+1&16383),(h<0||f>u)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=f,c=d,s=l;var p=(1e4*(268435455&(f+=122192928e5))+d)%4294967296;o[r++]=p>>>24&255,o[r++]=p>>>16&255,o[r++]=p>>>8&255,o[r++]=255&p;var m=f/4294967296*1e4&268435455;o[r++]=m>>>8&255,o[r++]=255&m,o[r++]=m>>>24&15|16,o[r++]=m>>>16&255,o[r++]=l>>>8|128,o[r++]=255&l;for(var y=e.node||a,g=0;g<6;++g)o[r+g]=y[g];return t||i(o)}},{"./lib/bytesToUuid":2,"./lib/rng":3}],5:[function(e,t,n){var r=e("./lib/rng"),i=e("./lib/bytesToUuid");t.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},{"./lib/bytesToUuid":2,"./lib/rng":3}]},{},[1])(1)}).call(this,n("mwBundle.runasbatchjob|6702f66ea6fad7d4e541523edb4368dbc0eb0790"))}},[[0,"runtime~mwBundle.runasbatchjob"]]]);